function yR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function My(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},nc={};var bS;function vR(){if(bS)return nc;bS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return nc.Fragment=e,nc.jsx=n,nc.jsxs=n,nc}var wS;function bR(){return wS||(wS=1,Im.exports=vR()),Im.exports}var C=bR(),Bm={exports:{}},Ue={};var SS;function wR(){if(SS)return Ue;SS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function k(L,J,W){this.props=L,this.context=J,this.refs=S,this.updater=W||w}k.prototype.isReactComponent={},k.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=k.prototype;function R(L,J,W){this.props=L,this.context=J,this.refs=S,this.updater=W||w}var U=R.prototype=new O;U.constructor=R,x(U,k.prototype),U.isPureReactComponent=!0;var A=Array.isArray;function N(){}var T={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function G(L,J,W){var te=W.ref;return{$$typeof:t,type:L,key:J,ref:te!==void 0?te:null,props:W}}function le(L,J){return G(L.type,J,L.props)}function he(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function ye(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(W){return J[W]})}var Pe=/\/+/g;function ue(L,J){return typeof L=="object"&&L!==null&&L.key!=null?ye(""+L.key):J.toString(36)}function re(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function I(L,J,W,te,ce){var we=typeof L;(we==="undefined"||we==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(we){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case t:case e:Se=!0;break;case p:return Se=L._init,I(Se(L._payload),J,W,te,ce)}}if(Se)return ce=ce(L),Se=te===""?"."+ue(L,0):te,A(ce)?(W="",Se!=null&&(W=Se.replace(Pe,"$&/")+"/"),I(ce,J,W,"",function(cn){return cn})):ce!=null&&(he(ce)&&(ce=le(ce,W+(ce.key==null||L&&L.key===ce.key?"":(""+ce.key).replace(Pe,"$&/")+"/")+Se)),J.push(ce)),1;Se=0;var Le=te===""?".":te+":";if(A(L))for(var Qe=0;Qe<L.length;Qe++)te=L[Qe],we=Le+ue(te,Qe),Se+=I(te,J,W,we,ce);else if(Qe=b(L),typeof Qe=="function")for(L=Qe.call(L),Qe=0;!(te=L.next()).done;)te=te.value,we=Le+ue(te,Qe++),Se+=I(te,J,W,we,ce);else if(we==="object"){if(typeof L.then=="function")return I(re(L),J,W,te,ce);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(L,J,W){if(L==null)return L;var te=[],ce=0;return I(L,te,"","",function(we){return J.call(W,we,ce++)}),te}function Y(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(W){(L._status===0||L._status===-1)&&(L._status=1,L._result=W)},function(W){(L._status===0||L._status===-1)&&(L._status=2,L._result=W)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var _e=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:Q,forEach:function(L,J,W){Q(L,function(){J.apply(this,arguments)},W)},count:function(L){var J=0;return Q(L,function(){J++}),J},toArray:function(L){return Q(L,function(J){return J})||[]},only:function(L){if(!he(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ue.Activity=m,Ue.Children=Ce,Ue.Component=k,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=R,Ue.StrictMode=r,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(L){return T.H.useMemoCache(L)}},Ue.cache=function(L){return function(){return L.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(L,J,W){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var te=x({},L.props),ce=L.key;if(J!=null)for(we in J.key!==void 0&&(ce=""+J.key),J)!z.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(te[we]=J[we]);var we=arguments.length-2;if(we===1)te.children=W;else if(1<we){for(var Se=Array(we),Le=0;Le<we;Le++)Se[Le]=arguments[Le+2];te.children=Se}return G(L.type,ce,te)},Ue.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:a,_context:L},L},Ue.createElement=function(L,J,W){var te,ce={},we=null;if(J!=null)for(te in J.key!==void 0&&(we=""+J.key),J)z.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=J[te]);var Se=arguments.length-2;if(Se===1)ce.children=W;else if(1<Se){for(var Le=Array(Se),Qe=0;Qe<Se;Qe++)Le[Qe]=arguments[Qe+2];ce.children=Le}if(L&&L.defaultProps)for(te in Se=L.defaultProps,Se)ce[te]===void 0&&(ce[te]=Se[te]);return G(L,we,ce)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(L){return{$$typeof:c,render:L}},Ue.isValidElement=he,Ue.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:Y}},Ue.memo=function(L,J){return{$$typeof:f,type:L,compare:J===void 0?null:J}},Ue.startTransition=function(L){var J=T.T,W={};T.T=W;try{var te=L(),ce=T.S;ce!==null&&ce(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(N,_e)}catch(we){_e(we)}finally{J!==null&&W.types!==null&&(J.types=W.types),T.T=J}},Ue.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ue.use=function(L){return T.H.use(L)},Ue.useActionState=function(L,J,W){return T.H.useActionState(L,J,W)},Ue.useCallback=function(L,J){return T.H.useCallback(L,J)},Ue.useContext=function(L){return T.H.useContext(L)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(L,J){return T.H.useDeferredValue(L,J)},Ue.useEffect=function(L,J){return T.H.useEffect(L,J)},Ue.useEffectEvent=function(L){return T.H.useEffectEvent(L)},Ue.useId=function(){return T.H.useId()},Ue.useImperativeHandle=function(L,J,W){return T.H.useImperativeHandle(L,J,W)},Ue.useInsertionEffect=function(L,J){return T.H.useInsertionEffect(L,J)},Ue.useLayoutEffect=function(L,J){return T.H.useLayoutEffect(L,J)},Ue.useMemo=function(L,J){return T.H.useMemo(L,J)},Ue.useOptimistic=function(L,J){return T.H.useOptimistic(L,J)},Ue.useReducer=function(L,J,W){return T.H.useReducer(L,J,W)},Ue.useRef=function(L){return T.H.useRef(L)},Ue.useState=function(L){return T.H.useState(L)},Ue.useSyncExternalStore=function(L,J,W){return T.H.useSyncExternalStore(L,J,W)},Ue.useTransition=function(){return T.H.useTransition()},Ue.version="19.2.4",Ue}var xS;function $a(){return xS||(xS=1,Bm.exports=wR()),Bm.exports}var M=$a();const ae=My(M),UE=yR({__proto__:null,default:ae},[M]);var Pm={exports:{}},rc={},Um={exports:{}},Hm={};var ES;function SR(){return ES||(ES=1,(function(t){function e(I,Q){var Y=I.length;I.push(Q);e:for(;0<Y;){var _e=Y-1>>>1,Ce=I[_e];if(0<i(Ce,Q))I[_e]=Q,I[Y]=Ce,Y=_e;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Q=I[0],Y=I.pop();if(Y!==Q){I[0]=Y;e:for(var _e=0,Ce=I.length,L=Ce>>>1;_e<L;){var J=2*(_e+1)-1,W=I[J],te=J+1,ce=I[te];if(0>i(W,Y))te<Ce&&0>i(ce,W)?(I[_e]=ce,I[te]=Y,_e=te):(I[_e]=W,I[J]=Y,_e=J);else if(te<Ce&&0>i(ce,Y))I[_e]=ce,I[te]=Y,_e=te;else break e}}return Q}function i(I,Q){var Y=I.sortIndex-Q.sortIndex;return Y!==0?Y:I.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,m=null,v=3,b=!1,w=!1,x=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U(I){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=I)r(f),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=n(f)}}function A(I){if(x=!1,U(I),!w)if(n(d)!==null)w=!0,N||(N=!0,ye());else{var Q=n(f);Q!==null&&re(A,Q.startTime-I)}}var N=!1,T=-1,z=5,G=-1;function le(){return S?!0:!(t.unstable_now()-G<z)}function he(){if(S=!1,N){var I=t.unstable_now();G=I;var Q=!0;try{e:{w=!1,x&&(x=!1,O(T),T=-1),b=!0;var Y=v;try{t:{for(U(I),m=n(d);m!==null&&!(m.expirationTime>I&&le());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,v=m.priorityLevel;var Ce=_e(m.expirationTime<=I);if(I=t.unstable_now(),typeof Ce=="function"){m.callback=Ce,U(I),Q=!0;break t}m===n(d)&&r(d),U(I)}else r(d);m=n(d)}if(m!==null)Q=!0;else{var L=n(f);L!==null&&re(A,L.startTime-I),Q=!1}}break e}finally{m=null,v=Y,b=!1}Q=void 0}}finally{Q?ye():N=!1}}}var ye;if(typeof R=="function")ye=function(){R(he)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ue=Pe.port2;Pe.port1.onmessage=he,ye=function(){ue.postMessage(null)}}else ye=function(){k(he,0)};function re(I,Q){T=k(function(){I(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(I){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var Y=v;v=Q;try{return I()}finally{v=Y}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=v;v=I;try{return Q()}finally{v=Y}},t.unstable_scheduleCallback=function(I,Q,Y){var _e=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?_e+Y:_e):Y=_e,I){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Y+Ce,I={id:p++,callback:Q,priorityLevel:I,startTime:Y,expirationTime:Ce,sortIndex:-1},Y>_e?(I.sortIndex=Y,e(f,I),n(d)===null&&I===n(f)&&(x?(O(T),T=-1):x=!0,re(A,Y-_e))):(I.sortIndex=Ce,e(d,I),w||b||(w=!0,N||(N=!0,ye()))),I},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(I){var Q=v;return function(){var Y=v;v=Q;try{return I.apply(this,arguments)}finally{v=Y}}}})(Hm)),Hm}var kS;function xR(){return kS||(kS=1,Um.exports=SR()),Um.exports}var $m={exports:{}},Tn={};var TS;function ER(){if(TS)return Tn;TS=1;var t=$a();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},Tn.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Tn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Tn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Tn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Tn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Tn.requestFormReset=function(d){r.d.r(d)},Tn.unstable_batchedUpdates=function(d,f){return d(f)},Tn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.2.4",Tn}var _S;function HE(){if(_S)return $m.exports;_S=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$m.exports=ER(),$m.exports}var CS;function kR(){if(CS)return rc;CS=1;var t=xR(),e=$a(),n=HE();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,h=o;;){var g=u.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===u)return d(g),s;if(y===h)return d(g),o;y=y.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=y;else{for(var E=!1,_=g.child;_;){if(_===u){E=!0,u=g,h=y;break}if(_===h){E=!0,h=g,u=y;break}_=_.sibling}if(!E){for(_=y.child;_;){if(_===u){E=!0,u=y,h=g;break}if(_===h){E=!0,h=y,u=g;break}_=_.sibling}if(!E)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ye(s){return s===null||typeof s!="object"?null:(s=he&&s[he]||s["@@iterator"],typeof s=="function"?s:null)}var Pe=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Pe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case R:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case T:return o=s.displayName||null,o!==null?o:ue(s.type)||"Memo";case z:o=s._payload,s=s._init;try{return ue(s(o))}catch{}}return null}var re=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},_e=[],Ce=-1;function L(s){return{current:s}}function J(s){0>Ce||(s.current=_e[Ce],_e[Ce]=null,Ce--)}function W(s,o){Ce++,_e[Ce]=s.current,s.current=o}var te=L(null),ce=L(null),we=L(null),Se=L(null);function Le(s,o){switch(W(we,o),W(ce,s),W(te,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?$w(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=$w(o),s=qw(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(te),W(te,s)}function Qe(){J(te),J(ce),J(we)}function cn(s){s.memoizedState!==null&&W(Se,s);var o=te.current,u=qw(o,s.type);o!==u&&(W(ce,s),W(te,u))}function Rn(s){ce.current===s&&(J(te),J(ce)),Se.current===s&&(J(Se),Ql._currentValue=Y)}var st,zr;function zn(s){if(st===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);st=o&&o[1]||"",zr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+s+zr}var Ks=!1;function In(s,o){if(!s||Ks)return"";Ks=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var V=K}Reflect.construct(s,[],ee)}else{try{ee.call()}catch(K){V=K}s.call(ee.prototype)}}else{try{throw Error()}catch(K){V=K}(ee=s())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&V&&typeof K.stack=="string")return[K.stack,V.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),E=y[0],_=y[1];if(E&&_){var j=E.split(`
`),q=_.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===q.length)for(h=j.length-1,g=q.length-1;1<=h&&0<=g&&j[h]!==q[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==q[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==q[g]){var X=`
`+j[h].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=h&&0<=g);break}}}finally{Ks=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?zn(u):""}function fi(s,o){switch(s.tag){case 26:case 27:case 5:return zn(s.type);case 16:return zn("Lazy");case 13:return s.child!==o&&o!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return In(s.type,!1);case 11:return In(s.type.render,!1);case 1:return In(s.type,!0);case 31:return zn("Activity");default:return""}}function Ws(s){try{var o="",u=null;do o+=fi(s,u),u=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var En=Object.prototype.hasOwnProperty,Ys=t.unstable_scheduleCallback,Js=t.unstable_cancelCallback,un=t.unstable_shouldYield,Xr=t.unstable_requestPaint,_t=t.unstable_now,hi=t.unstable_getCurrentPriorityLevel,Qr=t.unstable_ImmediatePriority,Yi=t.unstable_UserBlockingPriority,dn=t.unstable_NormalPriority,Mn=t.unstable_LowPriority,hr=t.unstable_IdlePriority,Ja=t.log,pr=t.unstable_setDisableYieldValue,pi=null,wt=null;function Bn(s){if(typeof Ja=="function"&&pr(s),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(pi,s)}catch{}}var Qt=Math.clz32?Math.clz32:Yn,Xa=Math.log,Xs=Math.LN2;function Yn(s){return s>>>=0,s===0?32:31-(Xa(s)/Xs|0)|0}var Ir=256,mi=262144,Br=4194304;function mr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ze(s,o,u){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var _=h&134217727;return _!==0?(h=_&~y,h!==0?g=mr(h):(E&=_,E!==0?g=mr(E):u||(u=_&~s,u!==0&&(g=mr(u))))):(_=h&~y,_!==0?g=mr(_):E!==0?g=mr(E):u||(u=h&~s,u!==0&&(g=mr(u)))),g===0?0:o!==0&&o!==g&&(o&y)===0&&(y=g&-g,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:g}function yt(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function It(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var s=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),s}function Jn(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function vt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function kn(s,o,u,h,g,y){var E=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var _=s.entanglements,j=s.expirationTimes,q=s.hiddenUpdates;for(u=E&~u;0<u;){var X=31-Qt(u),ee=1<<X;_[X]=0,j[X]=-1;var V=q[X];if(V!==null)for(q[X]=null,X=0;X<V.length;X++){var K=V[X];K!==null&&(K.lane&=-536870913)}u&=~ee}h!==0&&gi(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(E&~o))}function gi(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Qt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|u&261930}function D(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-Qt(u),g=1<<h;g&o|s[h]&o&&(s[h]|=o),u&=~g}}function P(s,o){var u=o&-o;return u=(u&42)!==0?1:F(u),(u&(s.suspendedLanes|o))!==0?0:u}function F(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ne(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function oe(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:fS(s.type))}function ke(s,o){var u=Q.p;try{return Q.p=s,o()}finally{Q.p=u}}var fe=Math.random().toString(36).slice(2),de="__reactFiber$"+fe,pe="__reactProps$"+fe,Ee="__reactContainer$"+fe,Ne="__reactEvents$"+fe,Ae="__reactListeners$"+fe,it="__reactHandles$"+fe,Ze="__reactResources$"+fe,Ct="__reactMarker$"+fe;function Rt(s){delete s[de],delete s[pe],delete s[Ne],delete s[Ae],delete s[it]}function Mt(s){var o=s[de];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Ee]||u[de]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Jw(s);s!==null;){if(u=s[de])return u;s=Jw(s)}return o}s=u,u=s.parentNode}return null}function et(s){if(s=s[de]||s[Ee]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function rn(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Pn(s){var o=s[Ze];return o||(o=s[Ze]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function kt(s){s[Ct]=!0}var Pr=new Set,Xn={};function Ur(s,o){gr(s,o),gr(s+"Capture",o)}function gr(s,o){for(Xn[s]=o,s=0;s<o.length;s++)Pr.add(o[s])}var yi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qs={},Zs={};function tt(s){return En.call(Zs,s)?!0:En.call(Qs,s)?!1:yi.test(s)?Zs[s]=!0:(Qs[s]=!0,!1)}function Pt(s,o,u){if(tt(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Hr(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function fn(s,o,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+h)}}function nt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ea(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bu(s,o,u){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){u=""+E,y.call(this,E)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function pl(s){if(!s._valueTracker){var o=ea(s)?"checked":"value";s._valueTracker=bu(s,o,""+s[o])}}function L0(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=ea(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function wu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var dA=/[\n"\\]/g;function yr(s){return s.replace(dA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mh(s,o,u,h,g,y,E,_){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),o!=null?E==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+nt(o)):s.value!==""+nt(o)&&(s.value=""+nt(o)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),o!=null?Nh(s,E,nt(o)):u!=null?Nh(s,E,nt(u)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+nt(_):s.removeAttribute("name")}function z0(s,o,u,h,g,y,E,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){pl(s);return}u=u!=null?""+nt(u):"",o=o!=null?""+nt(o):u,_||o===s.value||(s.value=o),s.defaultValue=o}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=_?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),pl(s)}function Nh(s,o,u){o==="number"&&wu(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Qa(s,o,u,h){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+nt(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function I0(s,o,u){if(o!=null&&(o=""+nt(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+nt(u):""}function B0(s,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(re(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=nt(o),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h),pl(s)}function Za(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var fA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P0(s,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,u):typeof u!="number"||u===0||fA.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function U0(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in o)h=o[g],o.hasOwnProperty(g)&&u[g]!==h&&P0(s,g,h)}else for(var y in o)o.hasOwnProperty(y)&&P0(s,y,o[y])}function Dh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(s){return pA.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function vi(){}var jh=null;function Lh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var eo=null,to=null;function H0(s){var o=et(s);if(o&&(s=o.stateNode)){var u=s[pe]||null;e:switch(s=o.stateNode,o.type){case"input":if(Mh(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+yr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var g=h[pe]||null;if(!g)throw Error(r(90));Mh(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===s.form&&L0(h)}break e;case"textarea":I0(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Qa(s,!!u.multiple,o,!1)}}}var zh=!1;function $0(s,o,u){if(zh)return s(o,u);zh=!0;try{var h=s(o);return h}finally{if(zh=!1,(eo!==null||to!==null)&&(ld(),eo&&(o=eo,s=to,to=eo=null,H0(o),s)))for(o=0;o<s.length;o++)H0(s[o])}}function ml(s,o){var u=s.stateNode;if(u===null)return null;var h=u[pe]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=!1;if(bi)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Ih=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Ih=!1}var Ji=null,Bh=null,xu=null;function q0(){if(xu)return xu;var s,o=Bh,u=o.length,h,g="value"in Ji?Ji.value:Ji.textContent,y=g.length;for(s=0;s<u&&o[s]===g[s];s++);var E=u-s;for(h=1;h<=E&&o[u-h]===g[y-h];h++);return xu=g.slice(s,1<h?1-h:void 0)}function Eu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ku(){return!0}function V0(){return!1}function Un(s){function o(u,h,g,y,E){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(u=s[_],this[_]=u?u(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ku:V0,this.isPropagationStopped=V0,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),o}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=Un(ta),yl=m({},ta,{view:0,detail:0}),mA=Un(yl),Ph,Uh,vl,_u=m({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==vl&&(vl&&s.type==="mousemove"?(Ph=s.screenX-vl.screenX,Uh=s.screenY-vl.screenY):Uh=Ph=0,vl=s),Ph)},movementY:function(s){return"movementY"in s?s.movementY:Uh}}),F0=Un(_u),gA=m({},_u,{dataTransfer:0}),yA=Un(gA),vA=m({},yl,{relatedTarget:0}),Hh=Un(vA),bA=m({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),wA=Un(bA),SA=m({},ta,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xA=Un(SA),EA=m({},ta,{data:0}),G0=Un(EA),kA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_A[s])?!!o[s]:!1}function $h(){return CA}var AA=m({},yl,{key:function(s){if(s.key){var o=kA[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Eu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?TA[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(s){return s.type==="keypress"?Eu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Eu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),OA=Un(AA),RA=m({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=Un(RA),MA=m({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),NA=Un(MA),DA=m({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),jA=Un(DA),LA=m({},_u,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zA=Un(LA),IA=m({},ta,{newState:0,oldState:0}),BA=Un(IA),PA=[9,13,27,32],qh=bi&&"CompositionEvent"in window,bl=null;bi&&"documentMode"in document&&(bl=document.documentMode);var UA=bi&&"TextEvent"in window&&!bl,W0=bi&&(!qh||bl&&8<bl&&11>=bl),Y0=" ",J0=!1;function X0(s,o){switch(s){case"keyup":return PA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var no=!1;function HA(s,o){switch(s){case"compositionend":return Q0(o);case"keypress":return o.which!==32?null:(J0=!0,Y0);case"textInput":return s=o.data,s===Y0&&J0?null:s;default:return null}}function $A(s,o){if(no)return s==="compositionend"||!qh&&X0(s,o)?(s=q0(),xu=Bh=Ji=null,no=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return W0&&o.locale!=="ko"?null:o.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!qA[s.type]:o==="textarea"}function ev(s,o,u,h){eo?to?to.push(h):to=[h]:eo=h,o=md(o,"onChange"),0<o.length&&(u=new Tu("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var wl=null,Sl=null;function VA(s){zw(s,0)}function Cu(s){var o=rn(s);if(L0(o))return s}function tv(s,o){if(s==="change")return o}var nv=!1;if(bi){var Vh;if(bi){var Fh="oninput"in document;if(!Fh){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Fh=typeof rv.oninput=="function"}Vh=Fh}else Vh=!1;nv=Vh&&(!document.documentMode||9<document.documentMode)}function iv(){wl&&(wl.detachEvent("onpropertychange",sv),Sl=wl=null)}function sv(s){if(s.propertyName==="value"&&Cu(Sl)){var o=[];ev(o,Sl,s,Lh(s)),$0(VA,o)}}function FA(s,o,u){s==="focusin"?(iv(),wl=o,Sl=u,wl.attachEvent("onpropertychange",sv)):s==="focusout"&&iv()}function GA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cu(Sl)}function KA(s,o){if(s==="click")return Cu(o)}function WA(s,o){if(s==="input"||s==="change")return Cu(o)}function YA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Qn=typeof Object.is=="function"?Object.is:YA;function xl(s,o){if(Qn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!En.call(o,g)||!Qn(s[g],o[g]))return!1}return!0}function av(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ov(s,o){var u=av(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=av(u)}}function lv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?lv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function cv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=wu(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=wu(s.document)}return o}function Gh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var JA=bi&&"documentMode"in document&&11>=document.documentMode,ro=null,Kh=null,El=null,Wh=!1;function uv(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Wh||ro==null||ro!==wu(h)||(h=ro,"selectionStart"in h&&Gh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),El&&xl(El,h)||(El=h,h=md(Kh,"onSelect"),0<h.length&&(o=new Tu("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=ro)))}function na(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var io={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Yh={},dv={};bi&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ra(s){if(Yh[s])return Yh[s];if(!io[s])return s;var o=io[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in dv)return Yh[s]=o[u];return s}var fv=ra("animationend"),hv=ra("animationiteration"),pv=ra("animationstart"),XA=ra("transitionrun"),QA=ra("transitionstart"),ZA=ra("transitioncancel"),mv=ra("transitionend"),gv=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function $r(s,o){gv.set(s,o),Ur(o,[s])}var Au=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},vr=[],so=0,Xh=0;function Ou(){for(var s=so,o=Xh=so=0;o<s;){var u=vr[o];vr[o++]=null;var h=vr[o];vr[o++]=null;var g=vr[o];vr[o++]=null;var y=vr[o];if(vr[o++]=null,h!==null&&g!==null){var E=h.pending;E===null?g.next=g:(g.next=E.next,E.next=g),h.pending=g}y!==0&&yv(u,g,y)}}function Ru(s,o,u,h){vr[so++]=s,vr[so++]=o,vr[so++]=u,vr[so++]=h,Xh|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Qh(s,o,u,h){return Ru(s,o,u,h),Mu(s)}function ia(s,o){return Ru(s,null,null,o),Mu(s)}function yv(s,o,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var g=!1,y=s.return;y!==null;)y.childLanes|=u,h=y.alternate,h!==null&&(h.childLanes|=u),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&o!==null&&(g=31-Qt(u),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[o]:h.push(o),o.lane=u|536870912),y):null}function Mu(s){if(50<Fl)throw Fl=0,om=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ao={};function eO(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,o,u,h){return new eO(s,o,u,h)}function Zh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wi(s,o){var u=s.alternate;return u===null?(u=Zn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function vv(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Nu(s,o,u,h,g,y){var E=0;if(h=s,typeof s=="function")Zh(s)&&(E=1);else if(typeof s=="string")E=sR(s,u,te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=Zn(31,u,o,g),s.elementType=G,s.lanes=y,s;case x:return sa(u.children,g,y,o);case S:E=8,g|=24;break;case k:return s=Zn(12,u,o,g|2),s.elementType=k,s.lanes=y,s;case A:return s=Zn(13,u,o,g),s.elementType=A,s.lanes=y,s;case N:return s=Zn(19,u,o,g),s.elementType=N,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:E=10;break e;case O:E=9;break e;case U:E=11;break e;case T:E=14;break e;case z:E=16,h=null;break e}E=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Zn(E,u,o,g),o.elementType=s,o.type=h,o.lanes=y,o}function sa(s,o,u,h){return s=Zn(7,s,h,o),s.lanes=u,s}function ep(s,o,u){return s=Zn(6,s,null,o),s.lanes=u,s}function bv(s){var o=Zn(18,null,null,0);return o.stateNode=s,o}function tp(s,o,u){return o=Zn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var wv=new WeakMap;function br(s,o){if(typeof s=="object"&&s!==null){var u=wv.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Ws(o)},wv.set(s,o),o)}return{value:s,source:o,stack:Ws(o)}}var oo=[],lo=0,Du=null,kl=0,wr=[],Sr=0,Xi=null,Zr=1,ei="";function Si(s,o){oo[lo++]=kl,oo[lo++]=Du,Du=s,kl=o}function Sv(s,o,u){wr[Sr++]=Zr,wr[Sr++]=ei,wr[Sr++]=Xi,Xi=s;var h=Zr;s=ei;var g=32-Qt(h)-1;h&=~(1<<g),u+=1;var y=32-Qt(o)+g;if(30<y){var E=g-g%5;y=(h&(1<<E)-1).toString(32),h>>=E,g-=E,Zr=1<<32-Qt(o)+g|u<<g|h,ei=y+s}else Zr=1<<y|u<<g|h,ei=s}function np(s){s.return!==null&&(Si(s,1),Sv(s,1,0))}function rp(s){for(;s===Du;)Du=oo[--lo],oo[lo]=null,kl=oo[--lo],oo[lo]=null;for(;s===Xi;)Xi=wr[--Sr],wr[Sr]=null,ei=wr[--Sr],wr[Sr]=null,Zr=wr[--Sr],wr[Sr]=null}function xv(s,o){wr[Sr++]=Zr,wr[Sr++]=ei,wr[Sr++]=Xi,Zr=o.id,ei=o.overflow,Xi=s}var hn=null,St=null,rt=!1,Qi=null,xr=!1,ip=Error(r(519));function Zi(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(br(o,s)),ip}function Ev(s){var o=s.stateNode,u=s.type,h=s.memoizedProps;switch(o[de]=s,o[pe]=h,u){case"dialog":Ye("cancel",o),Ye("close",o);break;case"iframe":case"object":case"embed":Ye("load",o);break;case"video":case"audio":for(u=0;u<Kl.length;u++)Ye(Kl[u],o);break;case"source":Ye("error",o);break;case"img":case"image":case"link":Ye("error",o),Ye("load",o);break;case"details":Ye("toggle",o);break;case"input":Ye("invalid",o),z0(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ye("invalid",o);break;case"textarea":Ye("invalid",o),B0(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||Uw(o.textContent,u)?(h.popover!=null&&(Ye("beforetoggle",o),Ye("toggle",o)),h.onScroll!=null&&Ye("scroll",o),h.onScrollEnd!=null&&Ye("scrollend",o),h.onClick!=null&&(o.onclick=vi),o=!0):o=!1,o||Zi(s,!0)}function kv(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:hn=hn.return}}function co(s){if(s!==hn)return!1;if(!rt)return kv(s),rt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||xm(s.type,s.memoizedProps)),u=!u),u&&St&&Zi(s),kv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));St=Yw(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));St=Yw(s)}else o===27?(o=St,ps(s.type)?(s=Cm,Cm=null,St=s):St=o):St=hn?kr(s.stateNode.nextSibling):null;return!0}function aa(){St=hn=null,rt=!1}function sp(){var s=Qi;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),Qi=null),s}function Tl(s){Qi===null?Qi=[s]:Qi.push(s)}var ap=L(null),oa=null,xi=null;function es(s,o,u){W(ap,o._currentValue),o._currentValue=u}function Ei(s){s._currentValue=ap.current,J(ap)}function op(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function lp(s,o,u,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var _=y;y=g;for(var j=0;j<o.length;j++)if(_.context===o[j]){y.lanes|=u,_=y.alternate,_!==null&&(_.lanes|=u),op(y.return,u,s),h||(E=null);break e}y=_.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=u,y=E.alternate,y!==null&&(y.lanes|=u),op(E,u,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function uo(s,o,u,h){s=null;for(var g=o,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var _=g.type;Qn(g.pendingProps.value,E.value)||(s!==null?s.push(_):s=[_])}}else if(g===Se.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Ql):s=[Ql])}g=g.return}s!==null&&lp(o,s,u,h),o.flags|=262144}function ju(s){for(s=s.firstContext;s!==null;){if(!Qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function la(s){oa=s,xi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function pn(s){return Tv(oa,s)}function Lu(s,o){return oa===null&&la(s),Tv(s,o)}function Tv(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},xi===null){if(s===null)throw Error(r(308));xi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else xi=xi.next=o;return u}var tO=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},nO=t.unstable_scheduleCallback,rO=t.unstable_NormalPriority,Vt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new tO,data:new Map,refCount:0}}function _l(s){s.refCount--,s.refCount===0&&nO(rO,function(){s.controller.abort()})}var Cl=null,up=0,fo=0,ho=null;function iO(s,o){if(Cl===null){var u=Cl=[];up=0,fo=hm(),ho={status:"pending",value:void 0,then:function(h){u.push(h)}}}return up++,o.then(_v,_v),o}function _v(){if(--up===0&&Cl!==null){ho!==null&&(ho.status="fulfilled");var s=Cl;Cl=null,fo=0,ho=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function sO(s,o){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var Cv=I.S;I.S=function(s,o){uw=_t(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&iO(s,o),Cv!==null&&Cv(s,o)};var ca=L(null);function dp(){var s=ca.current;return s!==null?s:mt.pooledCache}function zu(s,o){o===null?W(ca,ca.current):W(ca,o.pool)}function Av(){var s=dp();return s===null?null:{parent:Vt._currentValue,pool:s}}var po=Error(r(460)),fp=Error(r(474)),Iu=Error(r(542)),Bu={then:function(){}};function Ov(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Rv(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(vi,vi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Nv(s),s;default:if(typeof o.status=="string")o.then(vi,vi);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=h}},function(h){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Nv(s),s}throw da=o,po}}function ua(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(da=u,po):u}}var da=null;function Mv(){if(da===null)throw Error(r(459));var s=da;return da=null,s}function Nv(s){if(s===po||s===Iu)throw Error(r(483))}var mo=null,Al=0;function Pu(s){var o=Al;return Al+=1,mo===null&&(mo=[]),Rv(mo,s,o)}function Ol(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Uu(s,o){throw o.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Dv(s){function o(H,B){if(s){var $=H.deletions;$===null?(H.deletions=[B],H.flags|=16):$.push(B)}}function u(H,B){if(!s)return null;for(;B!==null;)o(H,B),B=B.sibling;return null}function h(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function g(H,B){return H=wi(H,B),H.index=0,H.sibling=null,H}function y(H,B,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<B?(H.flags|=67108866,B):$):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function E(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function _(H,B,$,Z){return B===null||B.tag!==6?(B=ep($,H.mode,Z),B.return=H,B):(B=g(B,$),B.return=H,B)}function j(H,B,$,Z){var Re=$.type;return Re===x?X(H,B,$.props.children,Z,$.key):B!==null&&(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===z&&ua(Re)===B.type)?(B=g(B,$.props),Ol(B,$),B.return=H,B):(B=Nu($.type,$.key,$.props,null,H.mode,Z),Ol(B,$),B.return=H,B)}function q(H,B,$,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=tp($,H.mode,Z),B.return=H,B):(B=g(B,$.children||[]),B.return=H,B)}function X(H,B,$,Z,Re){return B===null||B.tag!==7?(B=sa($,H.mode,Z,Re),B.return=H,B):(B=g(B,$),B.return=H,B)}function ee(H,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ep(""+B,H.mode,$),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return $=Nu(B.type,B.key,B.props,null,H.mode,$),Ol($,B),$.return=H,$;case w:return B=tp(B,H.mode,$),B.return=H,B;case z:return B=ua(B),ee(H,B,$)}if(re(B)||ye(B))return B=sa(B,H.mode,$,null),B.return=H,B;if(typeof B.then=="function")return ee(H,Pu(B),$);if(B.$$typeof===R)return ee(H,Lu(H,B),$);Uu(H,B)}return null}function V(H,B,$,Z){var Re=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Re!==null?null:_(H,B,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===Re?j(H,B,$,Z):null;case w:return $.key===Re?q(H,B,$,Z):null;case z:return $=ua($),V(H,B,$,Z)}if(re($)||ye($))return Re!==null?null:X(H,B,$,Z,null);if(typeof $.then=="function")return V(H,B,Pu($),Z);if($.$$typeof===R)return V(H,B,Lu(H,$),Z);Uu(H,$)}return null}function K(H,B,$,Z,Re){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return H=H.get($)||null,_(B,H,""+Z,Re);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return H=H.get(Z.key===null?$:Z.key)||null,j(B,H,Z,Re);case w:return H=H.get(Z.key===null?$:Z.key)||null,q(B,H,Z,Re);case z:return Z=ua(Z),K(H,B,$,Z,Re)}if(re(Z)||ye(Z))return H=H.get($)||null,X(B,H,Z,Re,null);if(typeof Z.then=="function")return K(H,B,$,Pu(Z),Re);if(Z.$$typeof===R)return K(H,B,$,Lu(B,Z),Re);Uu(B,Z)}return null}function ge(H,B,$,Z){for(var Re=null,at=null,xe=B,$e=B=0,Xe=null;xe!==null&&$e<$.length;$e++){xe.index>$e?(Xe=xe,xe=null):Xe=xe.sibling;var ot=V(H,xe,$[$e],Z);if(ot===null){xe===null&&(xe=Xe);break}s&&xe&&ot.alternate===null&&o(H,xe),B=y(ot,B,$e),at===null?Re=ot:at.sibling=ot,at=ot,xe=Xe}if($e===$.length)return u(H,xe),rt&&Si(H,$e),Re;if(xe===null){for(;$e<$.length;$e++)xe=ee(H,$[$e],Z),xe!==null&&(B=y(xe,B,$e),at===null?Re=xe:at.sibling=xe,at=xe);return rt&&Si(H,$e),Re}for(xe=h(xe);$e<$.length;$e++)Xe=K(xe,H,$e,$[$e],Z),Xe!==null&&(s&&Xe.alternate!==null&&xe.delete(Xe.key===null?$e:Xe.key),B=y(Xe,B,$e),at===null?Re=Xe:at.sibling=Xe,at=Xe);return s&&xe.forEach(function(bs){return o(H,bs)}),rt&&Si(H,$e),Re}function De(H,B,$,Z){if($==null)throw Error(r(151));for(var Re=null,at=null,xe=B,$e=B=0,Xe=null,ot=$.next();xe!==null&&!ot.done;$e++,ot=$.next()){xe.index>$e?(Xe=xe,xe=null):Xe=xe.sibling;var bs=V(H,xe,ot.value,Z);if(bs===null){xe===null&&(xe=Xe);break}s&&xe&&bs.alternate===null&&o(H,xe),B=y(bs,B,$e),at===null?Re=bs:at.sibling=bs,at=bs,xe=Xe}if(ot.done)return u(H,xe),rt&&Si(H,$e),Re;if(xe===null){for(;!ot.done;$e++,ot=$.next())ot=ee(H,ot.value,Z),ot!==null&&(B=y(ot,B,$e),at===null?Re=ot:at.sibling=ot,at=ot);return rt&&Si(H,$e),Re}for(xe=h(xe);!ot.done;$e++,ot=$.next())ot=K(xe,H,$e,ot.value,Z),ot!==null&&(s&&ot.alternate!==null&&xe.delete(ot.key===null?$e:ot.key),B=y(ot,B,$e),at===null?Re=ot:at.sibling=ot,at=ot);return s&&xe.forEach(function(gR){return o(H,gR)}),rt&&Si(H,$e),Re}function pt(H,B,$,Z){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var Re=$.key;B!==null;){if(B.key===Re){if(Re=$.type,Re===x){if(B.tag===7){u(H,B.sibling),Z=g(B,$.props.children),Z.return=H,H=Z;break e}}else if(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===z&&ua(Re)===B.type){u(H,B.sibling),Z=g(B,$.props),Ol(Z,$),Z.return=H,H=Z;break e}u(H,B);break}else o(H,B);B=B.sibling}$.type===x?(Z=sa($.props.children,H.mode,Z,$.key),Z.return=H,H=Z):(Z=Nu($.type,$.key,$.props,null,H.mode,Z),Ol(Z,$),Z.return=H,H=Z)}return E(H);case w:e:{for(Re=$.key;B!==null;){if(B.key===Re)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){u(H,B.sibling),Z=g(B,$.children||[]),Z.return=H,H=Z;break e}else{u(H,B);break}else o(H,B);B=B.sibling}Z=tp($,H.mode,Z),Z.return=H,H=Z}return E(H);case z:return $=ua($),pt(H,B,$,Z)}if(re($))return ge(H,B,$,Z);if(ye($)){if(Re=ye($),typeof Re!="function")throw Error(r(150));return $=Re.call($),De(H,B,$,Z)}if(typeof $.then=="function")return pt(H,B,Pu($),Z);if($.$$typeof===R)return pt(H,B,Lu(H,$),Z);Uu(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(u(H,B.sibling),Z=g(B,$),Z.return=H,H=Z):(u(H,B),Z=ep($,H.mode,Z),Z.return=H,H=Z),E(H)):u(H,B)}return function(H,B,$,Z){try{Al=0;var Re=pt(H,B,$,Z);return mo=null,Re}catch(xe){if(xe===po||xe===Iu)throw xe;var at=Zn(29,xe,null,H.mode);return at.lanes=Z,at.return=H,at}}}var fa=Dv(!0),jv=Dv(!1),ts=!1;function hp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ns(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rs(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,o=Mu(s),yv(s,null,u),o}return Ru(s,h,o,u),Mu(s)}function Rl(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,D(s,u)}}function mp(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,u=u.next}while(u!==null);y===null?g=y=o:y=y.next=o}else g=y=o;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var gp=!1;function Ml(){if(gp){var s=ho;if(s!==null)throw s}}function Nl(s,o,u,h){gp=!1;var g=s.updateQueue;ts=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var j=_,q=j.next;j.next=null,E===null?y=q:E.next=q,E=j;var X=s.alternate;X!==null&&(X=X.updateQueue,_=X.lastBaseUpdate,_!==E&&(_===null?X.firstBaseUpdate=q:_.next=q,X.lastBaseUpdate=j))}if(y!==null){var ee=g.baseState;E=0,X=q=j=null,_=y;do{var V=_.lane&-536870913,K=V!==_.lane;if(K?(Je&V)===V:(h&V)===V){V!==0&&V===fo&&(gp=!0),X!==null&&(X=X.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ge=s,De=_;V=o;var pt=u;switch(De.tag){case 1:if(ge=De.payload,typeof ge=="function"){ee=ge.call(pt,ee,V);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=De.payload,V=typeof ge=="function"?ge.call(pt,ee,V):ge,V==null)break e;ee=m({},ee,V);break e;case 2:ts=!0}}V=_.callback,V!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[V]:K.push(V))}else K={lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},X===null?(q=X=K,j=ee):X=X.next=K,E|=V;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;K=_,_=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);X===null&&(j=ee),g.baseState=j,g.firstBaseUpdate=q,g.lastBaseUpdate=X,y===null&&(g.shared.lanes=0),cs|=E,s.lanes=E,s.memoizedState=ee}}function Lv(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function zv(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Lv(u[s],o)}var go=L(null),Hu=L(0);function Iv(s,o){s=Ni,W(Hu,s),W(go,o),Ni=s|o.baseLanes}function yp(){W(Hu,Ni),W(go,go.current)}function vp(){Ni=Hu.current,J(go),J(Hu)}var er=L(null),Er=null;function is(s){var o=s.alternate;W(Ut,Ut.current&1),W(er,s),Er===null&&(o===null||go.current!==null||o.memoizedState!==null)&&(Er=s)}function bp(s){W(Ut,Ut.current),W(er,s),Er===null&&(Er=s)}function Bv(s){s.tag===22?(W(Ut,Ut.current),W(er,s),Er===null&&(Er=s)):ss()}function ss(){W(Ut,Ut.current),W(er,er.current)}function tr(s){J(er),Er===s&&(Er=null),J(Ut)}var Ut=L(0);function $u(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Tm(u)||_m(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ki=0,He=null,ft=null,Ft=null,qu=!1,yo=!1,ha=!1,Vu=0,Dl=0,vo=null,aO=0;function Nt(){throw Error(r(321))}function wp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Qn(s[u],o[u]))return!1;return!0}function Sp(s,o,u,h,g,y){return ki=y,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=s===null||s.memoizedState===null?Sb:zp,ha=!1,y=u(h,g),ha=!1,yo&&(y=Uv(o,u,h,g)),Pv(s),y}function Pv(s){I.H=zl;var o=ft!==null&&ft.next!==null;if(ki=0,Ft=ft=He=null,qu=!1,Dl=0,vo=null,o)throw Error(r(300));s===null||Gt||(s=s.dependencies,s!==null&&ju(s)&&(Gt=!0))}function Uv(s,o,u,h){He=s;var g=0;do{if(yo&&(vo=null),Dl=0,yo=!1,25<=g)throw Error(r(301));if(g+=1,Ft=ft=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=xb,y=o(u,h)}while(yo);return y}function oO(){var s=I.H,o=s.useState()[0];return o=typeof o.then=="function"?jl(o):o,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&(He.flags|=1024),o}function xp(){var s=Vu!==0;return Vu=0,s}function Ep(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function kp(s){if(qu){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}qu=!1}ki=0,Ft=ft=He=null,yo=!1,Dl=Vu=0,vo=null}function Nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?He.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function Ht(){if(ft===null){var s=He.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var o=Ft===null?He.memoizedState:Ft.next;if(o!==null)Ft=o,ft=s;else{if(s===null)throw He.alternate===null?Error(r(467)):Error(r(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Ft===null?He.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(s){var o=Dl;return Dl+=1,vo===null&&(vo=[]),s=Rv(vo,s,o),o=He,(Ft===null?o.memoizedState:Ft.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?Sb:zp),s}function Gu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return jl(s);if(s.$$typeof===R)return pn(s)}throw Error(r(438,String(s)))}function Tp(s){var o=null,u=He.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=He.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Fu(),He.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),h=0;h<s;h++)u[h]=le;return o.index++,u}function Ti(s,o){return typeof o=="function"?o(s):o}function Ku(s){var o=Ht();return _p(o,ft,s)}function _p(s,o,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}o.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{o=g.next;var _=E=null,j=null,q=o,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Je&ee)===ee:(ki&ee)===ee){var V=q.revertLane;if(V===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===fo&&(X=!0);else if((ki&V)===V){q=q.next,V===fo&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(_=j=ee,E=y):j=j.next=ee,He.lanes|=V,cs|=V;ee=q.action,ha&&u(y,ee),y=q.hasEagerState?q.eagerState:u(y,ee)}else V={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(_=j=V,E=y):j=j.next=V,He.lanes|=ee,cs|=ee;q=q.next}while(q!==null&&q!==o);if(j===null?E=y:j.next=_,!Qn(y,s.memoizedState)&&(Gt=!0,X&&(u=ho,u!==null)))throw u;s.memoizedState=y,s.baseState=E,s.baseQueue=j,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Cp(s){var o=Ht(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,y=o.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do y=s(y,E.action),E=E.next;while(E!==g);Qn(y,o.memoizedState)||(Gt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function Hv(s,o,u){var h=He,g=Ht(),y=rt;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=o();var E=!Qn((ft||g).memoizedState,u);if(E&&(g.memoizedState=u,Gt=!0),g=g.queue,Rp(Vv.bind(null,h,g,s),[s]),g.getSnapshot!==o||E||Ft!==null&&Ft.memoizedState.tag&1){if(h.flags|=2048,bo(9,{destroy:void 0},qv.bind(null,h,g,u,o),null),mt===null)throw Error(r(349));y||(ki&127)!==0||$v(h,o,u)}return u}function $v(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=He.updateQueue,o===null?(o=Fu(),He.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function qv(s,o,u,h){o.value=u,o.getSnapshot=h,Fv(o)&&Gv(s)}function Vv(s,o,u){return u(function(){Fv(o)&&Gv(s)})}function Fv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Qn(s,u)}catch{return!0}}function Gv(s){var o=ia(s,2);o!==null&&Fn(o,s,2)}function Ap(s){var o=Nn();if(typeof s=="function"){var u=s;if(s=u(),ha){Bn(!0);try{u()}finally{Bn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},o}function Kv(s,o,u,h){return s.baseState=u,_p(s,ft,typeof h=="function"?h:Ti)}function lO(s,o,u,h,g){if(Ju(s))throw Error(r(485));if(s=o.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};I.T!==null?u(!0):y.isTransition=!1,h(y),u=o.pending,u===null?(y.next=o.pending=y,Wv(o,y)):(y.next=u.next,o.pending=u.next=y)}}function Wv(s,o){var u=o.action,h=o.payload,g=s.state;if(o.isTransition){var y=I.T,E={};I.T=E;try{var _=u(g,h),j=I.S;j!==null&&j(E,_),Yv(s,o,_)}catch(q){Op(s,o,q)}finally{y!==null&&E.types!==null&&(y.types=E.types),I.T=y}}else try{y=u(g,h),Yv(s,o,y)}catch(q){Op(s,o,q)}}function Yv(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Jv(s,o,h)},function(h){return Op(s,o,h)}):Jv(s,o,u)}function Jv(s,o,u){o.status="fulfilled",o.value=u,Xv(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Wv(s,u)))}function Op(s,o,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Xv(o),o=o.next;while(o!==h)}s.action=null}function Xv(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Qv(s,o){return o}function Zv(s,o){if(rt){var u=mt.formState;if(u!==null){e:{var h=He;if(rt){if(St){t:{for(var g=St,y=xr;g.nodeType!==8;){if(!y){g=null;break t}if(g=kr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){St=kr(g.nextSibling),h=g.data==="F!";break e}}Zi(h)}h=!1}h&&(o=u[0])}}return u=Nn(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qv,lastRenderedState:o},u.queue=h,u=vb.bind(null,He,h),h.dispatch=u,h=Ap(!1),y=Lp.bind(null,He,!1,h.queue),h=Nn(),g={state:o,dispatch:null,action:s,pending:null},h.queue=g,u=lO.bind(null,He,g,y,u),g.dispatch=u,h.memoizedState=s,[o,u,!1]}function eb(s){var o=Ht();return tb(o,ft,s)}function tb(s,o,u){if(o=_p(s,o,Qv)[0],s=Ku(Ti)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=jl(o)}catch(E){throw E===po?Iu:E}else h=o;o=Ht();var g=o.queue,y=g.dispatch;return u!==o.memoizedState&&(He.flags|=2048,bo(9,{destroy:void 0},cO.bind(null,g,u),null)),[h,y,s]}function cO(s,o){s.action=o}function nb(s){var o=Ht(),u=ft;if(u!==null)return tb(o,u,s);Ht(),o=o.memoizedState,u=Ht();var h=u.queue.dispatch;return u.memoizedState=s,[o,h,!1]}function bo(s,o,u,h){return s={tag:s,create:u,deps:h,inst:o,next:null},o=He.updateQueue,o===null&&(o=Fu(),He.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s),s}function rb(){return Ht().memoizedState}function Wu(s,o,u,h){var g=Nn();He.flags|=s,g.memoizedState=bo(1|o,{destroy:void 0},u,h===void 0?null:h)}function Yu(s,o,u,h){var g=Ht();h=h===void 0?null:h;var y=g.memoizedState.inst;ft!==null&&h!==null&&wp(h,ft.memoizedState.deps)?g.memoizedState=bo(o,y,u,h):(He.flags|=s,g.memoizedState=bo(1|o,y,u,h))}function ib(s,o){Wu(8390656,8,s,o)}function Rp(s,o){Yu(2048,8,s,o)}function uO(s){He.flags|=4;var o=He.updateQueue;if(o===null)o=Fu(),He.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function sb(s){var o=Ht().memoizedState;return uO({ref:o,nextImpl:s}),function(){if((lt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function ab(s,o){return Yu(4,2,s,o)}function ob(s,o){return Yu(4,4,s,o)}function lb(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function cb(s,o,u){u=u!=null?u.concat([s]):null,Yu(4,4,lb.bind(null,o,s),u)}function Mp(){}function ub(s,o){var u=Ht();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&wp(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function db(s,o){var u=Ht();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&wp(o,h[1]))return h[0];if(h=s(),ha){Bn(!0);try{s()}finally{Bn(!1)}}return u.memoizedState=[h,o],h}function Np(s,o,u){return u===void 0||(ki&1073741824)!==0&&(Je&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=fw(),He.lanes|=s,cs|=s,u)}function fb(s,o,u,h){return Qn(u,o)?u:go.current!==null?(s=Np(s,u,h),Qn(s,o)||(Gt=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(Je&261930)===0?(Gt=!0,s.memoizedState=u):(s=fw(),He.lanes|=s,cs|=s,o)}function hb(s,o,u,h,g){var y=Q.p;Q.p=y!==0&&8>y?y:8;var E=I.T,_={};I.T=_,Lp(s,!1,o,u);try{var j=g(),q=I.S;if(q!==null&&q(_,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=sO(j,h);Ll(s,o,X,ir(s))}else Ll(s,o,h,ir(s))}catch(ee){Ll(s,o,{then:function(){},status:"rejected",reason:ee},ir())}finally{Q.p=y,E!==null&&_.types!==null&&(E.types=_.types),I.T=E}}function dO(){}function Dp(s,o,u,h){if(s.tag!==5)throw Error(r(476));var g=pb(s).queue;hb(s,g,o,Y,u===null?dO:function(){return mb(s),u(h)})}function pb(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:Y},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function mb(s){var o=pb(s);o.next===null&&(o=s.alternate.memoizedState),Ll(s,o.next.queue,{},ir())}function jp(){return pn(Ql)}function gb(){return Ht().memoizedState}function yb(){return Ht().memoizedState}function fO(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=ir();s=ns(u);var h=rs(o,s,u);h!==null&&(Fn(h,o,u),Rl(h,o,u)),o={cache:cp()},s.payload=o;return}o=o.return}}function hO(s,o,u){var h=ir();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ju(s)?bb(o,u):(u=Qh(s,o,u,h),u!==null&&(Fn(u,s,h),wb(u,o,h)))}function vb(s,o,u){var h=ir();Ll(s,o,u,h)}function Ll(s,o,u,h){var g={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ju(s))bb(o,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,_=y(E,u);if(g.hasEagerState=!0,g.eagerState=_,Qn(_,E))return Ru(s,o,g,0),mt===null&&Ou(),!1}catch{}if(u=Qh(s,o,g,h),u!==null)return Fn(u,s,h),wb(u,o,h),!0}return!1}function Lp(s,o,u,h){if(h={lane:2,revertLane:hm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ju(s)){if(o)throw Error(r(479))}else o=Qh(s,u,h,2),o!==null&&Fn(o,s,2)}function Ju(s){var o=s.alternate;return s===He||o!==null&&o===He}function bb(s,o){yo=qu=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function wb(s,o,u){if((u&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,D(s,u)}}var zl={readContext:pn,use:Gu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};zl.useEffectEvent=Nt;var Sb={readContext:pn,use:Gu,useCallback:function(s,o){return Nn().memoizedState=[s,o===void 0?null:o],s},useContext:pn,useEffect:ib,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Wu(4194308,4,lb.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Wu(4194308,4,s,o)},useInsertionEffect:function(s,o){Wu(4,2,s,o)},useMemo:function(s,o){var u=Nn();o=o===void 0?null:o;var h=s();if(ha){Bn(!0);try{s()}finally{Bn(!1)}}return u.memoizedState=[h,o],h},useReducer:function(s,o,u){var h=Nn();if(u!==void 0){var g=u(o);if(ha){Bn(!0);try{u(o)}finally{Bn(!1)}}}else g=o;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=hO.bind(null,He,s),[h.memoizedState,s]},useRef:function(s){var o=Nn();return s={current:s},o.memoizedState=s},useState:function(s){s=Ap(s);var o=s.queue,u=vb.bind(null,He,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:Mp,useDeferredValue:function(s,o){var u=Nn();return Np(u,s,o)},useTransition:function(){var s=Ap(!1);return s=hb.bind(null,He,s.queue,!0,!1),Nn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var h=He,g=Nn();if(rt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),mt===null)throw Error(r(349));(Je&127)!==0||$v(h,o,u)}g.memoizedState=u;var y={value:u,getSnapshot:o};return g.queue=y,ib(Vv.bind(null,h,y,s),[s]),h.flags|=2048,bo(9,{destroy:void 0},qv.bind(null,h,y,u,o),null),u},useId:function(){var s=Nn(),o=mt.identifierPrefix;if(rt){var u=ei,h=Zr;u=(h&~(1<<32-Qt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Vu++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=aO++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:jp,useFormState:Zv,useActionState:Zv,useOptimistic:function(s){var o=Nn();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Lp.bind(null,He,!0,u),u.dispatch=o,[s,o]},useMemoCache:Tp,useCacheRefresh:function(){return Nn().memoizedState=fO.bind(null,He)},useEffectEvent:function(s){var o=Nn(),u={impl:s};return o.memoizedState=u,function(){if((lt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},zp={readContext:pn,use:Gu,useCallback:ub,useContext:pn,useEffect:Rp,useImperativeHandle:cb,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:db,useReducer:Ku,useRef:rb,useState:function(){return Ku(Ti)},useDebugValue:Mp,useDeferredValue:function(s,o){var u=Ht();return fb(u,ft.memoizedState,s,o)},useTransition:function(){var s=Ku(Ti)[0],o=Ht().memoizedState;return[typeof s=="boolean"?s:jl(s),o]},useSyncExternalStore:Hv,useId:gb,useHostTransitionStatus:jp,useFormState:eb,useActionState:eb,useOptimistic:function(s,o){var u=Ht();return Kv(u,ft,s,o)},useMemoCache:Tp,useCacheRefresh:yb};zp.useEffectEvent=sb;var xb={readContext:pn,use:Gu,useCallback:ub,useContext:pn,useEffect:Rp,useImperativeHandle:cb,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:db,useReducer:Cp,useRef:rb,useState:function(){return Cp(Ti)},useDebugValue:Mp,useDeferredValue:function(s,o){var u=Ht();return ft===null?Np(u,s,o):fb(u,ft.memoizedState,s,o)},useTransition:function(){var s=Cp(Ti)[0],o=Ht().memoizedState;return[typeof s=="boolean"?s:jl(s),o]},useSyncExternalStore:Hv,useId:gb,useHostTransitionStatus:jp,useFormState:nb,useActionState:nb,useOptimistic:function(s,o){var u=Ht();return ft!==null?Kv(u,ft,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:yb};xb.useEffectEvent=sb;function Ip(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:m({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Bp={enqueueSetState:function(s,o,u){s=s._reactInternals;var h=ir(),g=ns(h);g.payload=o,u!=null&&(g.callback=u),o=rs(s,g,h),o!==null&&(Fn(o,s,h),Rl(o,s,h))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=ir(),g=ns(h);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=rs(s,g,h),o!==null&&(Fn(o,s,h),Rl(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=ir(),h=ns(u);h.tag=2,o!=null&&(h.callback=o),o=rs(s,h,u),o!==null&&(Fn(o,s,u),Rl(o,s,u))}};function Eb(s,o,u,h,g,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,E):o.prototype&&o.prototype.isPureReactComponent?!xl(u,h)||!xl(g,y):!0}function kb(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Bp.enqueueReplaceState(o,o.state,null)}function pa(s,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(s=s.defaultProps){u===o&&(u=m({},u));for(var g in s)u[g]===void 0&&(u[g]=s[g])}return u}function Tb(s){Au(s)}function _b(s){console.error(s)}function Cb(s){Au(s)}function Xu(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Ab(s,o,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Pp(s,o,u){return u=ns(u),u.tag=3,u.payload={element:null},u.callback=function(){Xu(s,o)},u}function Ob(s){return s=ns(s),s.tag=3,s}function Rb(s,o,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){Ab(o,u,h)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Ab(o,u,h),typeof g!="function"&&(us===null?us=new Set([this]):us.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function pO(s,o,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&uo(o,u,g,!0),u=er.current,u!==null){switch(u.tag){case 31:case 13:return Er===null?cd():u.alternate===null&&Dt===0&&(Dt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Bu?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),um(s,h,g)),!1;case 22:return u.flags|=65536,h===Bu?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),um(s,h,g)),!1}throw Error(r(435,u.tag))}return um(s,h,g),cd(),!1}if(rt)return o=er.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,h!==ip&&(s=Error(r(422),{cause:h}),Tl(br(s,u)))):(h!==ip&&(o=Error(r(423),{cause:h}),Tl(br(o,u))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=br(h,u),g=Pp(s.stateNode,h,g),mp(s,g),Dt!==4&&(Dt=2)),!1;var y=Error(r(520),{cause:h});if(y=br(y,u),Vl===null?Vl=[y]:Vl.push(y),Dt!==4&&(Dt=2),o===null)return!0;h=br(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=g&-g,u.lanes|=s,s=Pp(u.stateNode,h,s),mp(u,s),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(us===null||!us.has(y))))return u.flags|=65536,g&=-g,u.lanes|=g,g=Ob(g),Rb(g,s,u,h),mp(u,g),!1}u=u.return}while(u!==null);return!1}var Up=Error(r(461)),Gt=!1;function mn(s,o,u,h){o.child=s===null?jv(o,null,u,h):fa(o,s.child,u,h)}function Mb(s,o,u,h,g){u=u.render;var y=o.ref;if("ref"in h){var E={};for(var _ in h)_!=="ref"&&(E[_]=h[_])}else E=h;return la(o),h=Sp(s,o,u,E,y,g),_=xp(),s!==null&&!Gt?(Ep(s,o,g),_i(s,o,g)):(rt&&_&&np(o),o.flags|=1,mn(s,o,h,g),o.child)}function Nb(s,o,u,h,g){if(s===null){var y=u.type;return typeof y=="function"&&!Zh(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,Db(s,o,y,h,g)):(s=Nu(u.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,!Wp(s,g)){var E=y.memoizedProps;if(u=u.compare,u=u!==null?u:xl,u(E,h)&&s.ref===o.ref)return _i(s,o,g)}return o.flags|=1,s=wi(y,h),s.ref=o.ref,s.return=o,o.child=s}function Db(s,o,u,h,g){if(s!==null){var y=s.memoizedProps;if(xl(y,h)&&s.ref===o.ref)if(Gt=!1,o.pendingProps=h=y,Wp(s,g))(s.flags&131072)!==0&&(Gt=!0);else return o.lanes=s.lanes,_i(s,o,g)}return Hp(s,o,u,h,g)}function jb(s,o,u,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,s!==null){for(h=o.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,o.child=null;return Lb(s,o,y,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&zu(o,y!==null?y.cachePool:null),y!==null?Iv(o,y):yp(),Bv(o);else return h=o.lanes=536870912,Lb(s,o,y!==null?y.baseLanes|u:u,u,h)}else y!==null?(zu(o,y.cachePool),Iv(o,y),ss(),o.memoizedState=null):(s!==null&&zu(o,null),yp(),ss());return mn(s,o,g,u),o.child}function Il(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Lb(s,o,u,h,g){var y=dp();return y=y===null?null:{parent:Vt._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},s!==null&&zu(o,null),yp(),Bv(o),s!==null&&uo(s,o,h,!0),o.childLanes=g,null}function Qu(s,o){return o=ed({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function zb(s,o,u){return fa(o,s.child,null,u),s=Qu(o,o.pendingProps),s.flags|=2,tr(o),o.memoizedState=null,s}function mO(s,o,u){var h=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(rt){if(h.mode==="hidden")return s=Qu(o,h),o.lanes=536870912,Il(null,s);if(bp(o),(s=St)?(s=Ww(s,xr),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Xi!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},u=bv(s),u.return=o,o.child=u,hn=o,St=null)):s=null,s===null)throw Zi(o);return o.lanes=536870912,null}return Qu(o,h)}var y=s.memoizedState;if(y!==null){var E=y.dehydrated;if(bp(o),g)if(o.flags&256)o.flags&=-257,o=zb(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(Gt||uo(s,o,u,!1),g=(u&s.childLanes)!==0,Gt||g){if(h=mt,h!==null&&(E=P(h,u),E!==0&&E!==y.retryLane))throw y.retryLane=E,ia(s,E),Fn(h,s,E),Up;cd(),o=zb(s,o,u)}else s=y.treeContext,St=kr(E.nextSibling),hn=o,rt=!0,Qi=null,xr=!1,s!==null&&xv(o,s),o=Qu(o,h),o.flags|=4096;return o}return s=wi(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Zu(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Hp(s,o,u,h,g){return la(o),u=Sp(s,o,u,h,void 0,g),h=xp(),s!==null&&!Gt?(Ep(s,o,g),_i(s,o,g)):(rt&&h&&np(o),o.flags|=1,mn(s,o,u,g),o.child)}function Ib(s,o,u,h,g,y){return la(o),o.updateQueue=null,u=Uv(o,h,u,g),Pv(s),h=xp(),s!==null&&!Gt?(Ep(s,o,y),_i(s,o,y)):(rt&&h&&np(o),o.flags|=1,mn(s,o,u,y),o.child)}function Bb(s,o,u,h,g){if(la(o),o.stateNode===null){var y=ao,E=u.contextType;typeof E=="object"&&E!==null&&(y=pn(E)),y=new u(h,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bp,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=h,y.state=o.memoizedState,y.refs={},hp(o),E=u.contextType,y.context=typeof E=="object"&&E!==null?pn(E):ao,y.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Ip(o,u,E,h),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Bp.enqueueReplaceState(y,y.state,null),Nl(o,h,y,g),Ml(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){y=o.stateNode;var _=o.memoizedProps,j=pa(u,_);y.props=j;var q=y.context,X=u.contextType;E=ao,typeof X=="object"&&X!==null&&(E=pn(X));var ee=u.getDerivedStateFromProps;X=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=o.pendingProps!==_,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||q!==E)&&kb(o,y,h,E),ts=!1;var V=o.memoizedState;y.state=V,Nl(o,h,y,g),Ml(),q=o.memoizedState,_||V!==q||ts?(typeof ee=="function"&&(Ip(o,u,ee,h),q=o.memoizedState),(j=ts||Eb(o,u,j,h,V,q,E))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=q),y.props=h,y.state=q,y.context=E,h=j):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{y=o.stateNode,pp(s,o),E=o.memoizedProps,X=pa(u,E),y.props=X,ee=o.pendingProps,V=y.context,q=u.contextType,j=ao,typeof q=="object"&&q!==null&&(j=pn(q)),_=u.getDerivedStateFromProps,(q=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ee||V!==j)&&kb(o,y,h,j),ts=!1,V=o.memoizedState,y.state=V,Nl(o,h,y,g),Ml();var K=o.memoizedState;E!==ee||V!==K||ts||s!==null&&s.dependencies!==null&&ju(s.dependencies)?(typeof _=="function"&&(Ip(o,u,_,h),K=o.memoizedState),(X=ts||Eb(o,u,X,h,V,K,j)||s!==null&&s.dependencies!==null&&ju(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,K,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,K,j)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&V===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&V===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=K),y.props=h,y.state=K,y.context=j,h=X):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&V===s.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&V===s.memoizedState||(o.flags|=1024),h=!1)}return y=h,Zu(s,o),h=(o.flags&128)!==0,y||h?(y=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,s!==null&&h?(o.child=fa(o,s.child,null,g),o.child=fa(o,null,u,g)):mn(s,o,u,g),o.memoizedState=y.state,s=o.child):s=_i(s,o,g),s}function Pb(s,o,u,h){return aa(),o.flags|=256,mn(s,o,u,h),o.child}var $p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(s){return{baseLanes:s,cachePool:Av()}}function Vp(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=rr),s}function Ub(s,o,u){var h=o.pendingProps,g=!1,y=(o.flags&128)!==0,E;if((E=y)||(E=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),E&&(g=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,s===null){if(rt){if(g?is(o):ss(),(s=St)?(s=Ww(s,xr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Xi!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},u=bv(s),u.return=o,o.child=u,hn=o,St=null)):s=null,s===null)throw Zi(o);return _m(s)?o.lanes=32:o.lanes=536870912,null}var _=h.children;return h=h.fallback,g?(ss(),g=o.mode,_=ed({mode:"hidden",children:_},g),h=sa(h,g,u,null),_.return=o,h.return=o,_.sibling=h,o.child=_,h=o.child,h.memoizedState=qp(u),h.childLanes=Vp(s,E,u),o.memoizedState=$p,Il(null,h)):(is(o),Fp(o,_))}var j=s.memoizedState;if(j!==null&&(_=j.dehydrated,_!==null)){if(y)o.flags&256?(is(o),o.flags&=-257,o=Gp(s,o,u)):o.memoizedState!==null?(ss(),o.child=s.child,o.flags|=128,o=null):(ss(),_=h.fallback,g=o.mode,h=ed({mode:"visible",children:h.children},g),_=sa(_,g,u,null),_.flags|=2,h.return=o,_.return=o,h.sibling=_,o.child=h,fa(o,s.child,null,u),h=o.child,h.memoizedState=qp(u),h.childLanes=Vp(s,E,u),o.memoizedState=$p,o=Il(null,h));else if(is(o),_m(_)){if(E=_.nextSibling&&_.nextSibling.dataset,E)var q=E.dgst;E=q,h=Error(r(419)),h.stack="",h.digest=E,Tl({value:h,source:null,stack:null}),o=Gp(s,o,u)}else if(Gt||uo(s,o,u,!1),E=(u&s.childLanes)!==0,Gt||E){if(E=mt,E!==null&&(h=P(E,u),h!==0&&h!==j.retryLane))throw j.retryLane=h,ia(s,h),Fn(E,s,h),Up;Tm(_)||cd(),o=Gp(s,o,u)}else Tm(_)?(o.flags|=192,o.child=s.child,o=null):(s=j.treeContext,St=kr(_.nextSibling),hn=o,rt=!0,Qi=null,xr=!1,s!==null&&xv(o,s),o=Fp(o,h.children),o.flags|=4096);return o}return g?(ss(),_=h.fallback,g=o.mode,j=s.child,q=j.sibling,h=wi(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,q!==null?_=wi(q,_):(_=sa(_,g,u,null),_.flags|=2),_.return=o,h.return=o,h.sibling=_,o.child=h,Il(null,h),h=o.child,_=s.child.memoizedState,_===null?_=qp(u):(g=_.cachePool,g!==null?(j=Vt._currentValue,g=g.parent!==j?{parent:j,pool:j}:g):g=Av(),_={baseLanes:_.baseLanes|u,cachePool:g}),h.memoizedState=_,h.childLanes=Vp(s,E,u),o.memoizedState=$p,Il(s.child,h)):(is(o),u=s.child,s=u.sibling,u=wi(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,s!==null&&(E=o.deletions,E===null?(o.deletions=[s],o.flags|=16):E.push(s)),o.child=u,o.memoizedState=null,u)}function Fp(s,o){return o=ed({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function ed(s,o){return s=Zn(22,s,null,o),s.lanes=0,s}function Gp(s,o,u){return fa(o,s.child,null,u),s=Fp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Hb(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),op(s.return,o,u)}function Kp(s,o,u,h,g,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g,treeForkCount:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=u,E.tailMode=g,E.treeForkCount=y)}function $b(s,o,u){var h=o.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var E=Ut.current,_=(E&2)!==0;if(_?(E=E&1|2,o.flags|=128):E&=1,W(Ut,E),mn(s,o,h,u),h=rt?kl:0,!_&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Hb(s,u,o);else if(s.tag===19)Hb(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&$u(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Kp(o,!1,g,u,y,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&$u(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Kp(o,!0,u,null,y,h);break;case"together":Kp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function _i(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),cs|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(uo(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=wi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=wi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Wp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&ju(s)))}function gO(s,o,u){switch(o.tag){case 3:Le(o,o.stateNode.containerInfo),es(o,Vt,s.memoizedState.cache),aa();break;case 27:case 5:cn(o);break;case 4:Le(o,o.stateNode.containerInfo);break;case 10:es(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,bp(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(is(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Ub(s,o,u):(is(o),s=_i(s,o,u),s!==null?s.sibling:null);is(o);break;case 19:var g=(s.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(uo(s,o,u,!1),h=(u&o.childLanes)!==0),g){if(h)return $b(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(Ut,Ut.current),h)break;return null;case 22:return o.lanes=0,jb(s,o,u,o.pendingProps);case 24:es(o,Vt,s.memoizedState.cache)}return _i(s,o,u)}function qb(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Gt=!0;else{if(!Wp(s,u)&&(o.flags&128)===0)return Gt=!1,gO(s,o,u);Gt=(s.flags&131072)!==0}else Gt=!1,rt&&(o.flags&1048576)!==0&&Sv(o,kl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=ua(o.elementType),o.type=s,typeof s=="function")Zh(s)?(h=pa(s,h),o.tag=1,o=Bb(null,o,s,h,u)):(o.tag=0,o=Hp(null,o,s,h,u));else{if(s!=null){var g=s.$$typeof;if(g===U){o.tag=11,o=Mb(null,o,s,h,u);break e}else if(g===T){o.tag=14,o=Nb(null,o,s,h,u);break e}}throw o=ue(s)||s,Error(r(306,o,""))}}return o;case 0:return Hp(s,o,o.type,o.pendingProps,u);case 1:return h=o.type,g=pa(h,o.pendingProps),Bb(s,o,h,g,u);case 3:e:{if(Le(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var y=o.memoizedState;g=y.element,pp(s,o),Nl(o,h,null,u);var E=o.memoizedState;if(h=E.cache,es(o,Vt,h),h!==y.cache&&lp(o,[Vt],u,!0),Ml(),h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=Pb(s,o,h,u);break e}else if(h!==g){g=br(Error(r(424)),o),Tl(g),o=Pb(s,o,h,u);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,St=kr(s.firstChild),hn=o,rt=!0,Qi=null,xr=!0,u=jv(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(aa(),h===g){o=_i(s,o,u);break e}mn(s,o,h,u)}o=o.child}return o;case 26:return Zu(s,o),s===null?(u=eS(o.type,null,o.pendingProps,null))?o.memoizedState=u:rt||(u=o.type,s=o.pendingProps,h=gd(we.current).createElement(u),h[de]=o,h[pe]=s,gn(h,u,s),kt(h),o.stateNode=h):o.memoizedState=eS(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return cn(o),s===null&&rt&&(h=o.stateNode=Xw(o.type,o.pendingProps,we.current),hn=o,xr=!0,g=St,ps(o.type)?(Cm=g,St=kr(h.firstChild)):St=g),mn(s,o,o.pendingProps.children,u),Zu(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&rt&&((g=h=St)&&(h=GO(h,o.type,o.pendingProps,xr),h!==null?(o.stateNode=h,hn=o,St=kr(h.firstChild),xr=!1,g=!0):g=!1),g||Zi(o)),cn(o),g=o.type,y=o.pendingProps,E=s!==null?s.memoizedProps:null,h=y.children,xm(g,y)?h=null:E!==null&&xm(g,E)&&(o.flags|=32),o.memoizedState!==null&&(g=Sp(s,o,oO,null,null,u),Ql._currentValue=g),Zu(s,o),mn(s,o,h,u),o.child;case 6:return s===null&&rt&&((s=u=St)&&(u=KO(u,o.pendingProps,xr),u!==null?(o.stateNode=u,hn=o,St=null,s=!0):s=!1),s||Zi(o)),null;case 13:return Ub(s,o,u);case 4:return Le(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=fa(o,null,h,u):mn(s,o,h,u),o.child;case 11:return Mb(s,o,o.type,o.pendingProps,u);case 7:return mn(s,o,o.pendingProps,u),o.child;case 8:return mn(s,o,o.pendingProps.children,u),o.child;case 12:return mn(s,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,es(o,o.type,h.value),mn(s,o,h.children,u),o.child;case 9:return g=o.type._context,h=o.pendingProps.children,la(o),g=pn(g),h=h(g),o.flags|=1,mn(s,o,h,u),o.child;case 14:return Nb(s,o,o.type,o.pendingProps,u);case 15:return Db(s,o,o.type,o.pendingProps,u);case 19:return $b(s,o,u);case 31:return mO(s,o,u);case 22:return jb(s,o,u,o.pendingProps);case 24:return la(o),h=pn(Vt),s===null?(g=dp(),g===null&&(g=mt,y=cp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=u),g=y),o.memoizedState={parent:h,cache:g},hp(o),es(o,Vt,g)):((s.lanes&u)!==0&&(pp(s,o),Nl(o,null,null,u),Ml()),g=s.memoizedState,y=o.memoizedState,g.parent!==h?(g={parent:h,cache:h},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),es(o,Vt,h)):(h=y.cache,es(o,Vt,h),h!==g.cache&&lp(o,[Vt],u,!0))),mn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ci(s){s.flags|=4}function Yp(s,o,u,h,g){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(gw())s.flags|=8192;else throw da=Bu,fp}else s.flags&=-16777217}function Vb(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sS(o))if(gw())s.flags|=8192;else throw da=Bu,fp}function td(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Bt():536870912,s.lanes|=o,Eo|=o)}function Bl(s,o){if(!rt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function yO(s,o,u){var h=o.pendingProps;switch(rp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(o),null;case 1:return xt(o),null;case 3:return u=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ei(Vt),Qe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(co(o)?Ci(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,sp())),xt(o),null;case 26:var g=o.type,y=o.memoizedState;return s===null?(Ci(o),y!==null?(xt(o),Vb(o,y)):(xt(o),Yp(o,g,null,h,u))):y?y!==s.memoizedState?(Ci(o),xt(o),Vb(o,y)):(xt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ci(o),xt(o),Yp(o,g,s,h,u)),null;case 27:if(Rn(o),u=we.current,g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Ci(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return xt(o),null}s=te.current,co(o)?Ev(o):(s=Xw(g,h,u),o.stateNode=s,Ci(o))}return xt(o),null;case 5:if(Rn(o),g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Ci(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return xt(o),null}if(y=te.current,co(o))Ev(o);else{var E=gd(we.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?E.createElement(g,{is:h.is}):E.createElement(g)}}y[de]=o,y[pe]=h;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=y;e:switch(gn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ci(o)}}return xt(o),Yp(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&Ci(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=we.current,co(o)){if(s=o.stateNode,u=o.memoizedProps,h=null,g=hn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[de]=o,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Uw(s.nodeValue,u)),s||Zi(o,!0)}else s=gd(s).createTextNode(h),s[de]=o,o.stateNode=s}return xt(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(h=co(o),u!==null){if(s===null){if(!h)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[de]=o}else aa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xt(o),s=!1}else u=sp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(tr(o),o):(tr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return xt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=co(o),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[de]=o}else aa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xt(o),g=!1}else g=sp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(tr(o),o):(tr(o),null)}return tr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,s=s!==null&&s.memoizedState!==null,u&&(h=o.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),td(o,o.updateQueue),xt(o),null);case 4:return Qe(),s===null&&ym(o.stateNode.containerInfo),xt(o),null;case 10:return Ei(o.type),xt(o),null;case 19:if(J(Ut),h=o.memoizedState,h===null)return xt(o),null;if(g=(o.flags&128)!==0,y=h.rendering,y===null)if(g)Bl(h,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(y=$u(s),y!==null){for(o.flags|=128,Bl(h,!1),s=y.updateQueue,o.updateQueue=s,td(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)vv(u,s),u=u.sibling;return W(Ut,Ut.current&1|2),rt&&Si(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&_t()>ad&&(o.flags|=128,g=!0,Bl(h,!1),o.lanes=4194304)}else{if(!g)if(s=$u(y),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,td(o,s),Bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!rt)return xt(o),null}else 2*_t()-h.renderingStartTime>ad&&u!==536870912&&(o.flags|=128,g=!0,Bl(h,!1),o.lanes=4194304);h.isBackwards?(y.sibling=o.child,o.child=y):(s=h.last,s!==null?s.sibling=y:o.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=_t(),s.sibling=null,u=Ut.current,W(Ut,g?u&1|2:u&1),rt&&Si(o,h.treeForkCount),s):(xt(o),null);case 22:case 23:return tr(o),vp(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(xt(o),o.subtreeFlags&6&&(o.flags|=8192)):xt(o),u=o.updateQueue,u!==null&&td(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),s!==null&&J(ca),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ei(Vt),xt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function vO(s,o){switch(rp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ei(Vt),Qe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Rn(o),null;case 31:if(o.memoizedState!==null){if(tr(o),o.alternate===null)throw Error(r(340));aa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(tr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));aa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return J(Ut),null;case 4:return Qe(),null;case 10:return Ei(o.type),null;case 22:case 23:return tr(o),vp(),s!==null&&J(ca),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ei(Vt),null;case 25:return null;default:return null}}function Fb(s,o){switch(rp(o),o.tag){case 3:Ei(Vt),Qe();break;case 26:case 27:case 5:Rn(o);break;case 4:Qe();break;case 31:o.memoizedState!==null&&tr(o);break;case 13:tr(o);break;case 19:J(Ut);break;case 10:Ei(o.type);break;case 22:case 23:tr(o),vp(),s!==null&&J(ca);break;case 24:Ei(Vt)}}function Pl(s,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&s)===s){h=void 0;var y=u.create,E=u.inst;h=y(),E.destroy=h}u=u.next}while(u!==g)}}catch(_){ut(o,o.return,_)}}function as(s,o,u){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var E=h.inst,_=E.destroy;if(_!==void 0){E.destroy=void 0,g=o;var j=u,q=_;try{q()}catch(X){ut(g,j,X)}}}h=h.next}while(h!==y)}}catch(X){ut(o,o.return,X)}}function Gb(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{zv(o,u)}catch(h){ut(s,s.return,h)}}}function Kb(s,o,u){u.props=pa(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){ut(s,o,h)}}function Ul(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(g){ut(s,o,g)}}function ti(s,o){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){ut(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){ut(s,o,g)}else u.current=null}function Wb(s){var o=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){ut(s,s.return,g)}}function Jp(s,o,u){try{var h=s.stateNode;UO(h,s.type,u,o),h[pe]=o}catch(g){ut(s,s.return,g)}}function Yb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ps(s.type)||s.tag===4}function Xp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ps(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=vi));else if(h!==4&&(h===27&&ps(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Qp(s,o,u),s=s.sibling;s!==null;)Qp(s,o,u),s=s.sibling}function nd(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(h===27&&ps(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(nd(s,o,u),s=s.sibling;s!==null;)nd(s,o,u),s=s.sibling}function Jb(s){var o=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);gn(o,h,u),o[de]=s,o[pe]=u}catch(y){ut(s,s.return,y)}}var Ai=!1,Kt=!1,Zp=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,sn=null;function bO(s,o){if(s=s.containerInfo,wm=Ed,s=cv(s),Gh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var E=0,_=-1,j=-1,q=0,X=0,ee=s,V=null;t:for(;;){for(var K;ee!==u||g!==0&&ee.nodeType!==3||(_=E+g),ee!==y||h!==0&&ee.nodeType!==3||(j=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(K=ee.firstChild)!==null;)V=ee,ee=K;for(;;){if(ee===s)break t;if(V===u&&++q===g&&(_=E),V===y&&++X===h&&(j=E),(K=ee.nextSibling)!==null)break;ee=V,V=ee.parentNode}ee=K}u=_===-1||j===-1?null:{start:_,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Sm={focusedElem:s,selectionRange:u},Ed=!1,sn=o;sn!==null;)if(o=sn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,sn=s;else for(;sn!==null;){switch(o=sn,y=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)g=s[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,u=o,g=y.memoizedProps,y=y.memoizedState,h=u.stateNode;try{var ge=pa(u.type,g);s=h.getSnapshotBeforeUpdate(ge,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(De){ut(u,u.return,De)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)km(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":km(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,sn=s;break}sn=o.return}}function Qb(s,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ri(s,u),h&4&&Pl(5,u);break;case 1:if(Ri(s,u),h&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(E){ut(u,u.return,E)}else{var g=pa(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ut(u,u.return,E)}}h&64&&Gb(u),h&512&&Ul(u,u.return);break;case 3:if(Ri(s,u),h&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{zv(s,o)}catch(E){ut(u,u.return,E)}}break;case 27:o===null&&h&4&&Jb(u);case 26:case 5:Ri(s,u),o===null&&h&4&&Wb(u),h&512&&Ul(u,u.return);break;case 12:Ri(s,u);break;case 31:Ri(s,u),h&4&&tw(s,u);break;case 13:Ri(s,u),h&4&&nw(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=AO.bind(null,u),WO(s,u))));break;case 22:if(h=u.memoizedState!==null||Ai,!h){o=o!==null&&o.memoizedState!==null||Kt,g=Ai;var y=Kt;Ai=h,(Kt=o)&&!y?Mi(s,u,(u.subtreeFlags&8772)!==0):Ri(s,u),Ai=g,Kt=y}break;case 30:break;default:Ri(s,u)}}function Zb(s){var o=s.alternate;o!==null&&(s.alternate=null,Zb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Rt(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tt=null,Hn=!1;function Oi(s,o,u){for(u=u.child;u!==null;)ew(s,o,u),u=u.sibling}function ew(s,o,u){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(pi,u)}catch{}switch(u.tag){case 26:Kt||ti(u,o),Oi(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Kt||ti(u,o);var h=Tt,g=Hn;ps(u.type)&&(Tt=u.stateNode,Hn=!1),Oi(s,o,u),Yl(u.stateNode),Tt=h,Hn=g;break;case 5:Kt||ti(u,o);case 6:if(h=Tt,g=Hn,Tt=null,Oi(s,o,u),Tt=h,Hn=g,Tt!==null)if(Hn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(u.stateNode)}catch(y){ut(u,o,y)}else try{Tt.removeChild(u.stateNode)}catch(y){ut(u,o,y)}break;case 18:Tt!==null&&(Hn?(s=Tt,Gw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Mo(s)):Gw(Tt,u.stateNode));break;case 4:h=Tt,g=Hn,Tt=u.stateNode.containerInfo,Hn=!0,Oi(s,o,u),Tt=h,Hn=g;break;case 0:case 11:case 14:case 15:as(2,u,o),Kt||as(4,u,o),Oi(s,o,u);break;case 1:Kt||(ti(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Kb(u,o,h)),Oi(s,o,u);break;case 21:Oi(s,o,u);break;case 22:Kt=(h=Kt)||u.memoizedState!==null,Oi(s,o,u),Kt=h;break;default:Oi(s,o,u)}}function tw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Mo(s)}catch(u){ut(o,o.return,u)}}}function nw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Mo(s)}catch(u){ut(o,o.return,u)}}function wO(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Xb),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Xb),o;default:throw Error(r(435,s.tag))}}function rd(s,o){var u=wO(s);o.forEach(function(h){if(!u.has(h)){u.add(h);var g=OO.bind(null,s,h);h.then(g,g)}})}function $n(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],y=s,E=o,_=E;e:for(;_!==null;){switch(_.tag){case 27:if(ps(_.type)){Tt=_.stateNode,Hn=!1;break e}break;case 5:Tt=_.stateNode,Hn=!1;break e;case 3:case 4:Tt=_.stateNode.containerInfo,Hn=!0;break e}_=_.return}if(Tt===null)throw Error(r(160));ew(y,E,g),Tt=null,Hn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)rw(o,s),o=o.sibling}var qr=null;function rw(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:$n(o,s),qn(s),h&4&&(as(3,s,s.return),Pl(3,s),as(5,s,s.return));break;case 1:$n(o,s),qn(s),h&512&&(Kt||u===null||ti(u,u.return)),h&64&&Ai&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=qr;if($n(o,s),qn(s),h&512&&(Kt||u===null||ti(u,u.return)),h&4){var y=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ct]||y[de]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),gn(y,h,u),y[de]=s,kt(y),h=y;break e;case"link":var E=rS("link","href",g).get(h+(u.href||""));if(E){for(var _=0;_<E.length;_++)if(y=E[_],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(_,1);break t}}y=g.createElement(h),gn(y,h,u),g.head.appendChild(y);break;case"meta":if(E=rS("meta","content",g).get(h+(u.content||""))){for(_=0;_<E.length;_++)if(y=E[_],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(_,1);break t}}y=g.createElement(h),gn(y,h,u),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[de]=s,kt(y),h=y}s.stateNode=h}else iS(g,s.type,s.stateNode);else s.stateNode=nS(g,h,s.memoizedProps);else y!==h?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,h===null?iS(g,s.type,s.stateNode):nS(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Jp(s,s.memoizedProps,u.memoizedProps)}break;case 27:$n(o,s),qn(s),h&512&&(Kt||u===null||ti(u,u.return)),u!==null&&h&4&&Jp(s,s.memoizedProps,u.memoizedProps);break;case 5:if($n(o,s),qn(s),h&512&&(Kt||u===null||ti(u,u.return)),s.flags&32){g=s.stateNode;try{Za(g,"")}catch(ge){ut(s,s.return,ge)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Jp(s,g,u!==null?u.memoizedProps:g)),h&1024&&(Zp=!0);break;case 6:if($n(o,s),qn(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(ge){ut(s,s.return,ge)}}break;case 3:if(bd=null,g=qr,qr=yd(o.containerInfo),$n(o,s),qr=g,qn(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Mo(o.containerInfo)}catch(ge){ut(s,s.return,ge)}Zp&&(Zp=!1,iw(s));break;case 4:h=qr,qr=yd(s.stateNode.containerInfo),$n(o,s),qn(s),qr=h;break;case 12:$n(o,s),qn(s);break;case 31:$n(o,s),qn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rd(s,h)));break;case 13:$n(o,s),qn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sd=_t()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rd(s,h)));break;case 22:g=s.memoizedState!==null;var j=u!==null&&u.memoizedState!==null,q=Ai,X=Kt;if(Ai=q||g,Kt=X||j,$n(o,s),Kt=X,Ai=q,qn(s),h&8192)e:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||j||Ai||Kt||ma(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){j=u=o;try{if(y=j.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{_=j.stateNode;var ee=j.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;_.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ge){ut(j,j.return,ge)}}}else if(o.tag===6){if(u===null){j=o;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(ge){ut(j,j.return,ge)}}}else if(o.tag===18){if(u===null){j=o;try{var K=j.stateNode;g?Kw(K,!0):Kw(j.stateNode,!1)}catch(ge){ut(j,j.return,ge)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,rd(s,u))));break;case 19:$n(o,s),qn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rd(s,h)));break;case 30:break;case 21:break;default:$n(o,s),qn(s)}}function qn(s){var o=s.flags;if(o&2){try{for(var u,h=s.return;h!==null;){if(Yb(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,y=Xp(s);nd(s,y,g);break;case 5:var E=u.stateNode;u.flags&32&&(Za(E,""),u.flags&=-33);var _=Xp(s);nd(s,_,E);break;case 3:case 4:var j=u.stateNode.containerInfo,q=Xp(s);Qp(s,q,j);break;default:throw Error(r(161))}}catch(X){ut(s,s.return,X)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function iw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;iw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ri(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Qb(s,o.alternate,o),o=o.sibling}function ma(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:as(4,o,o.return),ma(o);break;case 1:ti(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Kb(o,o.return,u),ma(o);break;case 27:Yl(o.stateNode);case 26:case 5:ti(o,o.return),ma(o);break;case 22:o.memoizedState===null&&ma(o);break;case 30:ma(o);break;default:ma(o)}s=s.sibling}}function Mi(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,g=s,y=o,E=y.flags;switch(y.tag){case 0:case 11:case 15:Mi(g,y,u),Pl(4,y);break;case 1:if(Mi(g,y,u),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(q){ut(h,h.return,q)}if(h=y,g=h.updateQueue,g!==null){var _=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)Lv(j[g],_)}catch(q){ut(h,h.return,q)}}u&&E&64&&Gb(y),Ul(y,y.return);break;case 27:Jb(y);case 26:case 5:Mi(g,y,u),u&&h===null&&E&4&&Wb(y),Ul(y,y.return);break;case 12:Mi(g,y,u);break;case 31:Mi(g,y,u),u&&E&4&&tw(g,y);break;case 13:Mi(g,y,u),u&&E&4&&nw(g,y);break;case 22:y.memoizedState===null&&Mi(g,y,u),Ul(y,y.return);break;case 30:break;default:Mi(g,y,u)}o=o.sibling}}function em(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&_l(u))}function tm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&_l(s))}function Vr(s,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sw(s,o,u,h),o=o.sibling}function sw(s,o,u,h){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Vr(s,o,u,h),g&2048&&Pl(9,o);break;case 1:Vr(s,o,u,h);break;case 3:Vr(s,o,u,h),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&_l(s)));break;case 12:if(g&2048){Vr(s,o,u,h),s=o.stateNode;try{var y=o.memoizedProps,E=y.id,_=y.onPostCommit;typeof _=="function"&&_(E,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){ut(o,o.return,j)}}else Vr(s,o,u,h);break;case 31:Vr(s,o,u,h);break;case 13:Vr(s,o,u,h);break;case 23:break;case 22:y=o.stateNode,E=o.alternate,o.memoizedState!==null?y._visibility&2?Vr(s,o,u,h):Hl(s,o):y._visibility&2?Vr(s,o,u,h):(y._visibility|=2,wo(s,o,u,h,(o.subtreeFlags&10256)!==0||!1)),g&2048&&em(E,o);break;case 24:Vr(s,o,u,h),g&2048&&tm(o.alternate,o);break;default:Vr(s,o,u,h)}}function wo(s,o,u,h,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=s,E=o,_=u,j=h,q=E.flags;switch(E.tag){case 0:case 11:case 15:wo(y,E,_,j,g),Pl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?wo(y,E,_,j,g):Hl(y,E):(X._visibility|=2,wo(y,E,_,j,g)),g&&q&2048&&em(E.alternate,E);break;case 24:wo(y,E,_,j,g),g&&q&2048&&tm(E.alternate,E);break;default:wo(y,E,_,j,g)}o=o.sibling}}function Hl(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,h=o,g=h.flags;switch(h.tag){case 22:Hl(u,h),g&2048&&em(h.alternate,h);break;case 24:Hl(u,h),g&2048&&tm(h.alternate,h);break;default:Hl(u,h)}o=o.sibling}}var $l=8192;function So(s,o,u){if(s.subtreeFlags&$l)for(s=s.child;s!==null;)aw(s,o,u),s=s.sibling}function aw(s,o,u){switch(s.tag){case 26:So(s,o,u),s.flags&$l&&s.memoizedState!==null&&aR(u,qr,s.memoizedState,s.memoizedProps);break;case 5:So(s,o,u);break;case 3:case 4:var h=qr;qr=yd(s.stateNode.containerInfo),So(s,o,u),qr=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=$l,$l=16777216,So(s,o,u),$l=h):So(s,o,u));break;default:So(s,o,u)}}function ow(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function ql(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];sn=h,cw(h,s)}ow(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lw(s),s=s.sibling}function lw(s){switch(s.tag){case 0:case 11:case 15:ql(s),s.flags&2048&&as(9,s,s.return);break;case 3:ql(s);break;case 12:ql(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,id(s)):ql(s);break;default:ql(s)}}function id(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];sn=h,cw(h,s)}ow(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:as(8,o,o.return),id(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,id(o));break;default:id(o)}s=s.sibling}}function cw(s,o){for(;sn!==null;){var u=sn;switch(u.tag){case 0:case 11:case 15:as(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:_l(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,sn=h;else e:for(u=s;sn!==null;){h=sn;var g=h.sibling,y=h.return;if(Zb(h),h===u){sn=null;break e}if(g!==null){g.return=y,sn=g;break e}sn=y}}}var SO={getCacheForType:function(s){var o=pn(Vt),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return pn(Vt).controller.signal}},xO=typeof WeakMap=="function"?WeakMap:Map,lt=0,mt=null,We=null,Je=0,ct=0,nr=null,ls=!1,xo=!1,nm=!1,Ni=0,Dt=0,cs=0,ga=0,rm=0,rr=0,Eo=0,Vl=null,Vn=null,im=!1,sd=0,uw=0,ad=1/0,od=null,us=null,Zt=0,ds=null,ko=null,Di=0,sm=0,am=null,dw=null,Fl=0,om=null;function ir(){return(lt&2)!==0&&Je!==0?Je&-Je:I.T!==null?hm():oe()}function fw(){if(rr===0)if((Je&536870912)===0||rt){var s=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),rr=s}else rr=536870912;return s=er.current,s!==null&&(s.flags|=32),rr}function Fn(s,o,u){(s===mt&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(To(s,0),fs(s,Je,rr,!1)),vt(s,u),((lt&2)===0||s!==mt)&&(s===mt&&((lt&2)===0&&(ga|=u),Dt===4&&fs(s,Je,rr,!1)),ni(s))}function hw(s,o,u){if((lt&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&s.expiredLanes)===0||yt(s,o),g=h?TO(s,o):cm(s,o,!0),y=h;do{if(g===0){xo&&!h&&fs(s,o,0,!1);break}else{if(u=s.current.alternate,y&&!EO(u)){g=cm(s,o,!1),y=!1;continue}if(g===2){if(y=o,s.errorRecoveryDisabledLanes&y)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var _=s;g=Vl;var j=_.current.memoizedState.isDehydrated;if(j&&(To(_,E).flags|=256),E=cm(_,E,!1),E!==2){if(nm&&!j){_.errorRecoveryDisabledLanes|=y,ga|=y,g=4;break e}y=Vn,Vn=g,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){To(s,0),fs(s,o,0,!0);break}e:{switch(h=s,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:fs(h,o,rr,!ls);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=sd+300-_t(),10<g)){if(fs(h,o,rr,!ls),ze(h,0,!0)!==0)break e;Di=o,h.timeoutHandle=Vw(pw.bind(null,h,u,Vn,od,im,o,rr,ga,Eo,ls,y,"Throttled",-0,0),g);break e}pw(h,u,Vn,od,im,o,rr,ga,Eo,ls,y,null,-0,0)}}break}while(!0);ni(s)}function pw(s,o,u,h,g,y,E,_,j,q,X,ee,V,K){if(s.timeoutHandle=-1,ee=o.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},aw(o,y,ee);var ge=(y&62914560)===y?sd-_t():(y&4194048)===y?uw-_t():0;if(ge=oR(ee,ge),ge!==null){Di=y,s.cancelPendingCommit=ge(xw.bind(null,s,o,y,u,h,g,E,_,j,X,ee,null,V,K)),fs(s,y,E,!q);return}}xw(s,o,y,u,h,g,E,_,j)}function EO(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],y=g.getSnapshot;g=g.value;try{if(!Qn(y(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fs(s,o,u,h){o&=~rm,o&=~ga,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var g=o;0<g;){var y=31-Qt(g),E=1<<y;h[y]=-1,g&=~E}u!==0&&gi(s,u,o)}function ld(){return(lt&6)===0?(Gl(0),!1):!0}function lm(){if(We!==null){if(ct===0)var s=We.return;else s=We,xi=oa=null,kp(s),mo=null,Al=0,s=We;for(;s!==null;)Fb(s.alternate,s),s=s.return;We=null}}function To(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,qO(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Di=0,lm(),mt=s,We=u=wi(s.current,null),Je=o,ct=0,nr=null,ls=!1,xo=yt(s,o),nm=!1,Eo=rr=rm=ga=cs=Dt=0,Vn=Vl=null,im=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var g=31-Qt(h),y=1<<g;o|=s[g],h&=~y}return Ni=o,Ou(),u}function mw(s,o){He=null,I.H=zl,o===po||o===Iu?(o=Mv(),ct=3):o===fp?(o=Mv(),ct=4):ct=o===Up?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,nr=o,We===null&&(Dt=1,Xu(s,br(o,s.current)))}function gw(){var s=er.current;return s===null?!0:(Je&4194048)===Je?Er===null:(Je&62914560)===Je||(Je&536870912)!==0?s===Er:!1}function yw(){var s=I.H;return I.H=zl,s===null?zl:s}function vw(){var s=I.A;return I.A=SO,s}function cd(){Dt=4,ls||(Je&4194048)!==Je&&er.current!==null||(xo=!0),(cs&134217727)===0&&(ga&134217727)===0||mt===null||fs(mt,Je,rr,!1)}function cm(s,o,u){var h=lt;lt|=2;var g=yw(),y=vw();(mt!==s||Je!==o)&&(od=null,To(s,o)),o=!1;var E=Dt;e:do try{if(ct!==0&&We!==null){var _=We,j=nr;switch(ct){case 8:lm(),E=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(o=!0);var q=ct;if(ct=0,nr=null,_o(s,_,j,q),u&&xo){E=0;break e}break;default:q=ct,ct=0,nr=null,_o(s,_,j,q)}}kO(),E=Dt;break}catch(X){mw(s,X)}while(!0);return o&&s.shellSuspendCounter++,xi=oa=null,lt=h,I.H=g,I.A=y,We===null&&(mt=null,Je=0,Ou()),E}function kO(){for(;We!==null;)bw(We)}function TO(s,o){var u=lt;lt|=2;var h=yw(),g=vw();mt!==s||Je!==o?(od=null,ad=_t()+500,To(s,o)):xo=yt(s,o);e:do try{if(ct!==0&&We!==null){o=We;var y=nr;t:switch(ct){case 1:ct=0,nr=null,_o(s,o,y,1);break;case 2:case 9:if(Ov(y)){ct=0,nr=null,ww(o);break}o=function(){ct!==2&&ct!==9||mt!==s||(ct=7),ni(s)},y.then(o,o);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Ov(y)?(ct=0,nr=null,ww(o)):(ct=0,nr=null,_o(s,o,y,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var _=We;if(E?sS(E):_.stateNode.complete){ct=0,nr=null;var j=_.sibling;if(j!==null)We=j;else{var q=_.return;q!==null?(We=q,ud(q)):We=null}break t}}ct=0,nr=null,_o(s,o,y,5);break;case 6:ct=0,nr=null,_o(s,o,y,6);break;case 8:lm(),Dt=6;break e;default:throw Error(r(462))}}_O();break}catch(X){mw(s,X)}while(!0);return xi=oa=null,I.H=h,I.A=g,lt=u,We!==null?0:(mt=null,Je=0,Ou(),Dt)}function _O(){for(;We!==null&&!un();)bw(We)}function bw(s){var o=qb(s.alternate,s,Ni);s.memoizedProps=s.pendingProps,o===null?ud(s):We=o}function ww(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=Ib(u,o,o.pendingProps,o.type,void 0,Je);break;case 11:o=Ib(u,o,o.pendingProps,o.type.render,o.ref,Je);break;case 5:kp(o);default:Fb(u,o),o=We=vv(o,Ni),o=qb(u,o,Ni)}s.memoizedProps=s.pendingProps,o===null?ud(s):We=o}function _o(s,o,u,h){xi=oa=null,kp(o),mo=null,Al=0;var g=o.return;try{if(pO(s,g,o,u,Je)){Dt=1,Xu(s,br(u,s.current)),We=null;return}}catch(y){if(g!==null)throw We=g,y;Dt=1,Xu(s,br(u,s.current)),We=null;return}o.flags&32768?(rt||h===1?s=!0:xo||(Je&536870912)!==0?s=!1:(ls=s=!0,(h===2||h===9||h===3||h===6)&&(h=er.current,h!==null&&h.tag===13&&(h.flags|=16384))),Sw(o,s)):ud(o)}function ud(s){var o=s;do{if((o.flags&32768)!==0){Sw(o,ls);return}s=o.return;var u=yO(o.alternate,o,Ni);if(u!==null){We=u;return}if(o=o.sibling,o!==null){We=o;return}We=o=s}while(o!==null);Dt===0&&(Dt=5)}function Sw(s,o){do{var u=vO(s.alternate,s);if(u!==null){u.flags&=32767,We=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){We=s;return}We=s=u}while(s!==null);Dt=6,We=null}function xw(s,o,u,h,g,y,E,_,j){s.cancelPendingCommit=null;do dd();while(Zt!==0);if((lt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=Xh,kn(s,u,y,E,_,j),s===mt&&(We=mt=null,Je=0),ko=o,ds=s,Di=u,sm=y,am=g,dw=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,RO(dn,function(){return Cw(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=I.T,I.T=null,g=Q.p,Q.p=2,E=lt,lt|=4;try{bO(s,o,u)}finally{lt=E,Q.p=g,I.T=h}}Zt=1,Ew(),kw(),Tw()}}function Ew(){if(Zt===1){Zt=0;var s=ds,o=ko,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=I.T,I.T=null;var h=Q.p;Q.p=2;var g=lt;lt|=4;try{rw(o,s);var y=Sm,E=cv(s.containerInfo),_=y.focusedElem,j=y.selectionRange;if(E!==_&&_&&_.ownerDocument&&lv(_.ownerDocument.documentElement,_)){if(j!==null&&Gh(_)){var q=j.start,X=j.end;if(X===void 0&&(X=q),"selectionStart"in _)_.selectionStart=q,_.selectionEnd=Math.min(X,_.value.length);else{var ee=_.ownerDocument||document,V=ee&&ee.defaultView||window;if(V.getSelection){var K=V.getSelection(),ge=_.textContent.length,De=Math.min(j.start,ge),pt=j.end===void 0?De:Math.min(j.end,ge);!K.extend&&De>pt&&(E=pt,pt=De,De=E);var H=ov(_,De),B=ov(_,pt);if(H&&B&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var $=ee.createRange();$.setStart(H.node,H.offset),K.removeAllRanges(),De>pt?(K.addRange($),K.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),K.addRange($))}}}}for(ee=[],K=_;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ee.length;_++){var Z=ee[_];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ed=!!wm,Sm=wm=null}finally{lt=g,Q.p=h,I.T=u}}s.current=o,Zt=2}}function kw(){if(Zt===2){Zt=0;var s=ds,o=ko,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=I.T,I.T=null;var h=Q.p;Q.p=2;var g=lt;lt|=4;try{Qb(s,o.alternate,o)}finally{lt=g,Q.p=h,I.T=u}}Zt=3}}function Tw(){if(Zt===4||Zt===3){Zt=0,Xr();var s=ds,o=ko,u=Di,h=dw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Zt=5:(Zt=0,ko=ds=null,_w(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(us=null),ne(u),o=o.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(pi,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=I.T,g=Q.p,Q.p=2,I.T=null;try{for(var y=s.onRecoverableError,E=0;E<h.length;E++){var _=h[E];y(_.value,{componentStack:_.stack})}}finally{I.T=o,Q.p=g}}(Di&3)!==0&&dd(),ni(s),g=s.pendingLanes,(u&261930)!==0&&(g&42)!==0?s===om?Fl++:(Fl=0,om=s):Fl=0,Gl(0)}}function _w(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,_l(o)))}function dd(){return Ew(),kw(),Tw(),Cw()}function Cw(){if(Zt!==5)return!1;var s=ds,o=sm;sm=0;var u=ne(Di),h=I.T,g=Q.p;try{Q.p=32>u?32:u,I.T=null,u=am,am=null;var y=ds,E=Di;if(Zt=0,ko=ds=null,Di=0,(lt&6)!==0)throw Error(r(331));var _=lt;if(lt|=4,lw(y.current),sw(y,y.current,E,u),lt=_,Gl(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(pi,y)}catch{}return!0}finally{Q.p=g,I.T=h,_w(s,o)}}function Aw(s,o,u){o=br(u,o),o=Pp(s.stateNode,o,2),s=rs(s,o,2),s!==null&&(vt(s,2),ni(s))}function ut(s,o,u){if(s.tag===3)Aw(s,s,u);else for(;o!==null;){if(o.tag===3){Aw(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){s=br(u,s),u=Ob(2),h=rs(o,u,2),h!==null&&(Rb(u,h,o,s),vt(h,2),ni(h));break}}o=o.return}}function um(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new xO;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(u)||(nm=!0,g.add(u),s=CO.bind(null,s,o,u),o.then(s,s))}function CO(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,mt===s&&(Je&u)===u&&(Dt===4||Dt===3&&(Je&62914560)===Je&&300>_t()-sd?(lt&2)===0&&To(s,0):rm|=u,Eo===Je&&(Eo=0)),ni(s)}function Ow(s,o){o===0&&(o=Bt()),s=ia(s,o),s!==null&&(vt(s,o),ni(s))}function AO(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Ow(s,u)}function OO(s,o){var u=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Ow(s,u)}function RO(s,o){return Ys(s,o)}var fd=null,Co=null,dm=!1,hd=!1,fm=!1,hs=0;function ni(s){s!==Co&&s.next===null&&(Co===null?fd=Co=s:Co=Co.next=s),hd=!0,dm||(dm=!0,NO())}function Gl(s,o){if(!fm&&hd){fm=!0;do for(var u=!1,h=fd;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var E=h.suspendedLanes,_=h.pingedLanes;y=(1<<31-Qt(42|s)+1)-1,y&=g&~(E&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Dw(h,y))}else y=Je,y=ze(h,h===mt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||yt(h,y)||(u=!0,Dw(h,y));h=h.next}while(u);fm=!1}}function MO(){Rw()}function Rw(){hd=dm=!1;var s=0;hs!==0&&$O()&&(s=hs);for(var o=_t(),u=null,h=fd;h!==null;){var g=h.next,y=Mw(h,o);y===0?(h.next=null,u===null?fd=g:u.next=g,g===null&&(Co=u)):(u=h,(s!==0||(y&3)!==0)&&(hd=!0)),h=g}Zt!==0&&Zt!==5||Gl(s),hs!==0&&(hs=0)}function Mw(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var E=31-Qt(y),_=1<<E,j=g[E];j===-1?((_&u)===0||(_&h)!==0)&&(g[E]=It(_,o)):j<=o&&(s.expiredLanes|=_),y&=~_}if(o=mt,u=Je,u=ze(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===o&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Js(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||yt(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(h!==null&&Js(h),ne(u)){case 2:case 8:u=Yi;break;case 32:u=dn;break;case 268435456:u=hr;break;default:u=dn}return h=Nw.bind(null,s),u=Ys(u,h),s.callbackPriority=o,s.callbackNode=u,o}return h!==null&&h!==null&&Js(h),s.callbackPriority=2,s.callbackNode=null,2}function Nw(s,o){if(Zt!==0&&Zt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(dd()&&s.callbackNode!==u)return null;var h=Je;return h=ze(s,s===mt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(hw(s,h,o),Mw(s,_t()),s.callbackNode!=null&&s.callbackNode===u?Nw.bind(null,s):null)}function Dw(s,o){if(dd())return null;hw(s,o,!0)}function NO(){VO(function(){(lt&6)!==0?Ys(Qr,MO):Rw()})}function hm(){if(hs===0){var s=fo;s===0&&(s=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),hs=s}return hs}function jw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Su(""+s)}function Lw(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function DO(s,o,u,h,g){if(o==="submit"&&u&&u.stateNode===g){var y=jw((g[pe]||null).action),E=h.submitter;E&&(o=(o=E[pe]||null)?jw(o.formAction):E.getAttribute("formAction"),o!==null&&(y=o,E=null));var _=new Tu("action","action",null,h,g);s.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(hs!==0){var j=E?Lw(g,E):new FormData(g);Dp(u,{pending:!0,data:j,method:g.method,action:y},null,j)}}else typeof y=="function"&&(_.preventDefault(),j=E?Lw(g,E):new FormData(g),Dp(u,{pending:!0,data:j,method:g.method,action:y},y,j))},currentTarget:g}]})}}for(var pm=0;pm<Jh.length;pm++){var mm=Jh[pm],jO=mm.toLowerCase(),LO=mm[0].toUpperCase()+mm.slice(1);$r(jO,"on"+LO)}$r(fv,"onAnimationEnd"),$r(hv,"onAnimationIteration"),$r(pv,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(XA,"onTransitionRun"),$r(QA,"onTransitionStart"),$r(ZA,"onTransitionCancel"),$r(mv,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function zw(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var E=h.length-1;0<=E;E--){var _=h[E],j=_.instance,q=_.currentTarget;if(_=_.listener,j!==y&&g.isPropagationStopped())break e;y=_,g.currentTarget=q;try{y(g)}catch(X){Au(X)}g.currentTarget=null,y=j}else for(E=0;E<h.length;E++){if(_=h[E],j=_.instance,q=_.currentTarget,_=_.listener,j!==y&&g.isPropagationStopped())break e;y=_,g.currentTarget=q;try{y(g)}catch(X){Au(X)}g.currentTarget=null,y=j}}}}function Ye(s,o){var u=o[Ne];u===void 0&&(u=o[Ne]=new Set);var h=s+"__bubble";u.has(h)||(Iw(o,s,2,!1),u.add(h))}function gm(s,o,u){var h=0;o&&(h|=4),Iw(u,s,h,o)}var pd="_reactListening"+Math.random().toString(36).slice(2);function ym(s){if(!s[pd]){s[pd]=!0,Pr.forEach(function(u){u!=="selectionchange"&&(zO.has(u)||gm(u,!1,s),gm(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[pd]||(o[pd]=!0,gm("selectionchange",!1,o))}}function Iw(s,o,u,h){switch(fS(o)){case 2:var g=uR;break;case 8:g=dR;break;default:g=Nm}u=g.bind(null,o,u,s),g=void 0,!Ih||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function vm(s,o,u,h,g){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var _=h.stateNode.containerInfo;if(_===g)break;if(E===4)for(E=h.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;_!==null;){if(E=Mt(_),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){h=y=E;continue e}_=_.parentNode}}h=h.return}$0(function(){var q=y,X=Lh(u),ee=[];e:{var V=gv.get(s);if(V!==void 0){var K=Tu,ge=s;switch(s){case"keypress":if(Eu(u)===0)break e;case"keydown":case"keyup":K=OA;break;case"focusin":ge="focus",K=Hh;break;case"focusout":ge="blur",K=Hh;break;case"beforeblur":case"afterblur":K=Hh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=F0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=NA;break;case fv:case hv:case pv:K=wA;break;case mv:K=jA;break;case"scroll":case"scrollend":K=mA;break;case"wheel":K=zA;break;case"copy":case"cut":case"paste":K=xA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=K0;break;case"toggle":case"beforetoggle":K=BA}var De=(o&4)!==0,pt=!De&&(s==="scroll"||s==="scrollend"),H=De?V!==null?V+"Capture":null:V;De=[];for(var B=q,$;B!==null;){var Z=B;if($=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||$===null||H===null||(Z=ml(B,H),Z!=null&&De.push(Wl(B,Z,$))),pt)break;B=B.return}0<De.length&&(V=new K(V,ge,null,u,X),ee.push({event:V,listeners:De}))}}if((o&7)===0){e:{if(V=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",V&&u!==jh&&(ge=u.relatedTarget||u.fromElement)&&(Mt(ge)||ge[Ee]))break e;if((K||V)&&(V=X.window===X?X:(V=X.ownerDocument)?V.defaultView||V.parentWindow:window,K?(ge=u.relatedTarget||u.toElement,K=q,ge=ge?Mt(ge):null,ge!==null&&(pt=a(ge),De=ge.tag,ge!==pt||De!==5&&De!==27&&De!==6)&&(ge=null)):(K=null,ge=q),K!==ge)){if(De=F0,Z="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(De=K0,Z="onPointerLeave",H="onPointerEnter",B="pointer"),pt=K==null?V:rn(K),$=ge==null?V:rn(ge),V=new De(Z,B+"leave",K,u,X),V.target=pt,V.relatedTarget=$,Z=null,Mt(X)===q&&(De=new De(H,B+"enter",ge,u,X),De.target=$,De.relatedTarget=pt,Z=De),pt=Z,K&&ge)t:{for(De=IO,H=K,B=ge,$=0,Z=H;Z;Z=De(Z))$++;Z=0;for(var Re=B;Re;Re=De(Re))Z++;for(;0<$-Z;)H=De(H),$--;for(;0<Z-$;)B=De(B),Z--;for(;$--;){if(H===B||B!==null&&H===B.alternate){De=H;break t}H=De(H),B=De(B)}De=null}else De=null;K!==null&&Bw(ee,V,K,De,!1),ge!==null&&pt!==null&&Bw(ee,pt,ge,De,!0)}}e:{if(V=q?rn(q):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var at=tv;else if(Z0(V))if(nv)at=WA;else{at=GA;var xe=FA}else K=V.nodeName,!K||K.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?q&&Dh(q.elementType)&&(at=tv):at=KA;if(at&&(at=at(s,q))){ev(ee,at,u,X);break e}xe&&xe(s,V,q),s==="focusout"&&q&&V.type==="number"&&q.memoizedProps.value!=null&&Nh(V,"number",V.value)}switch(xe=q?rn(q):window,s){case"focusin":(Z0(xe)||xe.contentEditable==="true")&&(ro=xe,Kh=q,El=null);break;case"focusout":El=Kh=ro=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,uv(ee,u,X);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":uv(ee,u,X)}var $e;if(qh)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else no?X0(s,u)&&(Xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(W0&&u.locale!=="ko"&&(no||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&no&&($e=q0()):(Ji=X,Bh="value"in Ji?Ji.value:Ji.textContent,no=!0)),xe=md(q,Xe),0<xe.length&&(Xe=new G0(Xe,s,null,u,X),ee.push({event:Xe,listeners:xe}),$e?Xe.data=$e:($e=Q0(u),$e!==null&&(Xe.data=$e)))),($e=UA?HA(s,u):$A(s,u))&&(Xe=md(q,"onBeforeInput"),0<Xe.length&&(xe=new G0("onBeforeInput","beforeinput",null,u,X),ee.push({event:xe,listeners:Xe}),xe.data=$e)),DO(ee,s,q,u,X)}zw(ee,o)})}function Wl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function md(s,o){for(var u=o+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ml(s,u),g!=null&&h.unshift(Wl(s,g,y)),g=ml(s,o),g!=null&&h.push(Wl(s,g,y))),s.tag===3)return h;s=s.return}return[]}function IO(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Bw(s,o,u,h,g){for(var y=o._reactName,E=[];u!==null&&u!==h;){var _=u,j=_.alternate,q=_.stateNode;if(_=_.tag,j!==null&&j===h)break;_!==5&&_!==26&&_!==27||q===null||(j=q,g?(q=ml(u,y),q!=null&&E.unshift(Wl(u,q,j))):g||(q=ml(u,y),q!=null&&E.push(Wl(u,q,j)))),u=u.return}E.length!==0&&s.push({event:o,listeners:E})}var BO=/\r\n?/g,PO=/\u0000|\uFFFD/g;function Pw(s){return(typeof s=="string"?s:""+s).replace(BO,`
`).replace(PO,"")}function Uw(s,o){return o=Pw(o),Pw(s)===o}function ht(s,o,u,h,g,y){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Za(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Za(s,""+h);break;case"className":Hr(s,"class",h);break;case"tabIndex":Hr(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(s,u,h);break;case"style":U0(s,h,y);break;case"data":if(o!=="object"){Hr(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Su(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&ht(s,o,"name",g.name,g,null),ht(s,o,"formEncType",g.formEncType,g,null),ht(s,o,"formMethod",g.formMethod,g,null),ht(s,o,"formTarget",g.formTarget,g,null)):(ht(s,o,"encType",g.encType,g,null),ht(s,o,"method",g.method,g,null),ht(s,o,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Su(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=vi);break;case"onScroll":h!=null&&Ye("scroll",s);break;case"onScrollEnd":h!=null&&Ye("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=Su(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":Ye("beforetoggle",s),Ye("toggle",s),Pt(s,"popover",h);break;case"xlinkActuate":fn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":fn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":fn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":fn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":fn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":fn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":fn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":fn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":fn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Pt(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=hA.get(u)||u,Pt(s,u,h))}}function bm(s,o,u,h,g,y){switch(u){case"style":U0(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?Za(s,h):(typeof h=="number"||typeof h=="bigint")&&Za(s,""+h);break;case"onScroll":h!=null&&Ye("scroll",s);break;case"onScrollEnd":h!=null&&Ye("scrollend",s);break;case"onClick":h!=null&&(s.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),y=s[pe]||null,y=y!=null?y[u]:null,typeof y=="function"&&s.removeEventListener(o,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,h,g);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):Pt(s,u,h)}}}function gn(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",s),Ye("load",s);var h=!1,g=!1,y;for(y in u)if(u.hasOwnProperty(y)){var E=u[y];if(E!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ht(s,o,y,E,u,null)}}g&&ht(s,o,"srcSet",u.srcSet,u,null),h&&ht(s,o,"src",u.src,u,null);return;case"input":Ye("invalid",s);var _=y=E=g=null,j=null,q=null;for(h in u)if(u.hasOwnProperty(h)){var X=u[h];if(X!=null)switch(h){case"name":g=X;break;case"type":E=X;break;case"checked":j=X;break;case"defaultChecked":q=X;break;case"value":y=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:ht(s,o,h,X,u,null)}}z0(s,y,_,j,q,E,g,!1);return;case"select":Ye("invalid",s),h=E=y=null;for(g in u)if(u.hasOwnProperty(g)&&(_=u[g],_!=null))switch(g){case"value":y=_;break;case"defaultValue":E=_;break;case"multiple":h=_;default:ht(s,o,g,_,u,null)}o=y,u=E,s.multiple=!!h,o!=null?Qa(s,!!h,o,!1):u!=null&&Qa(s,!!h,u,!0);return;case"textarea":Ye("invalid",s),y=g=h=null;for(E in u)if(u.hasOwnProperty(E)&&(_=u[E],_!=null))switch(E){case"value":h=_;break;case"defaultValue":g=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:ht(s,o,E,_,u,null)}B0(s,h,g,y);return;case"option":for(j in u)u.hasOwnProperty(j)&&(h=u[j],h!=null)&&(j==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":ht(s,o,j,h,u,null));return;case"dialog":Ye("beforetoggle",s),Ye("toggle",s),Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":Ye("load",s);break;case"video":case"audio":for(h=0;h<Kl.length;h++)Ye(Kl[h],s);break;case"image":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"embed":case"source":case"link":Ye("error",s),Ye("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in u)if(u.hasOwnProperty(q)&&(h=u[q],h!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ht(s,o,q,h,u,null)}return;default:if(Dh(o)){for(X in u)u.hasOwnProperty(X)&&(h=u[X],h!==void 0&&bm(s,o,X,h,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(h=u[_],h!=null&&ht(s,o,_,h,u,null))}function UO(s,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,_=null,j=null,q=null,X=null;for(K in u){var ee=u[K];if(u.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ee;default:h.hasOwnProperty(K)||ht(s,o,K,null,h,ee)}}for(var V in h){var K=h[V];if(ee=u[V],h.hasOwnProperty(V)&&(K!=null||ee!=null))switch(V){case"type":y=K;break;case"name":g=K;break;case"checked":q=K;break;case"defaultChecked":X=K;break;case"value":E=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,o));break;default:K!==ee&&ht(s,o,V,K,h,ee)}}Mh(s,E,_,j,q,X,y,g);return;case"select":K=E=_=V=null;for(y in u)if(j=u[y],u.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":K=j;default:h.hasOwnProperty(y)||ht(s,o,y,null,h,j)}for(g in h)if(y=h[g],j=u[g],h.hasOwnProperty(g)&&(y!=null||j!=null))switch(g){case"value":V=y;break;case"defaultValue":_=y;break;case"multiple":E=y;default:y!==j&&ht(s,o,g,y,h,j)}o=_,u=E,h=K,V!=null?Qa(s,!!u,V,!1):!!h!=!!u&&(o!=null?Qa(s,!!u,o,!0):Qa(s,!!u,u?[]:"",!1));return;case"textarea":K=V=null;for(_ in u)if(g=u[_],u.hasOwnProperty(_)&&g!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ht(s,o,_,null,h,g)}for(E in h)if(g=h[E],y=u[E],h.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":V=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&ht(s,o,E,g,h,y)}I0(s,V,K);return;case"option":for(var ge in u)V=u[ge],u.hasOwnProperty(ge)&&V!=null&&!h.hasOwnProperty(ge)&&(ge==="selected"?s.selected=!1:ht(s,o,ge,null,h,V));for(j in h)V=h[j],K=u[j],h.hasOwnProperty(j)&&V!==K&&(V!=null||K!=null)&&(j==="selected"?s.selected=V&&typeof V!="function"&&typeof V!="symbol":ht(s,o,j,V,h,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)V=u[De],u.hasOwnProperty(De)&&V!=null&&!h.hasOwnProperty(De)&&ht(s,o,De,null,h,V);for(q in h)if(V=h[q],K=u[q],h.hasOwnProperty(q)&&V!==K&&(V!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,o));break;default:ht(s,o,q,V,h,K)}return;default:if(Dh(o)){for(var pt in u)V=u[pt],u.hasOwnProperty(pt)&&V!==void 0&&!h.hasOwnProperty(pt)&&bm(s,o,pt,void 0,h,V);for(X in h)V=h[X],K=u[X],!h.hasOwnProperty(X)||V===K||V===void 0&&K===void 0||bm(s,o,X,V,h,K);return}}for(var H in u)V=u[H],u.hasOwnProperty(H)&&V!=null&&!h.hasOwnProperty(H)&&ht(s,o,H,null,h,V);for(ee in h)V=h[ee],K=u[ee],!h.hasOwnProperty(ee)||V===K||V==null&&K==null||ht(s,o,ee,V,h,K)}function Hw(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HO(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var g=u[h],y=g.transferSize,E=g.initiatorType,_=g.duration;if(y&&_&&Hw(E)){for(E=0,_=g.responseEnd,h+=1;h<u.length;h++){var j=u[h],q=j.startTime;if(q>_)break;var X=j.transferSize,ee=j.initiatorType;X&&Hw(ee)&&(j=j.responseEnd,E+=X*(j<_?1:(_-q)/(j-q)))}if(--h,o+=8*(y+E)/(g.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var wm=null,Sm=null;function gd(s){return s.nodeType===9?s:s.ownerDocument}function $w(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qw(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function xm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Em=null;function $O(){var s=window.event;return s&&s.type==="popstate"?s===Em?!1:(Em=s,!0):(Em=null,!1)}var Vw=typeof setTimeout=="function"?setTimeout:void 0,qO=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,VO=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(s){return Fw.resolve(null).then(s).catch(FO)}:Vw;function FO(s){setTimeout(function(){throw s})}function ps(s){return s==="head"}function Gw(s,o){var u=o,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(h===0){s.removeChild(g),Mo(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Yl(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Yl(u);for(var y=u.firstChild;y;){var E=y.nextSibling,_=y.nodeName;y[Ct]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=E}}else u==="body"&&Yl(s.ownerDocument.body);u=g}while(u);Mo(o)}function Kw(s,o){var u=s;s=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=h}while(u)}function km(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":km(u),Rt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function GO(s,o,u,h){for(;s.nodeType===1;){var g=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Ct])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=kr(s.nextSibling),s===null)break}return null}function KO(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=kr(s.nextSibling),s===null))return null;return s}function Ww(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=kr(s.nextSibling),s===null))return null;return s}function Tm(s){return s.data==="$?"||s.data==="$~"}function _m(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WO(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function kr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Cm=null;function Yw(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return kr(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function Jw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function Xw(s,o,u){switch(o=gd(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Yl(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Rt(s)}var Tr=new Map,Qw=new Set;function yd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ji=Q.d;Q.d={f:YO,r:JO,D:XO,C:QO,L:ZO,m:eR,X:nR,S:tR,M:rR};function YO(){var s=ji.f(),o=ld();return s||o}function JO(s){var o=et(s);o!==null&&o.tag===5&&o.type==="form"?mb(o):ji.r(s)}var Ao=typeof document>"u"?null:document;function Zw(s,o,u){var h=Ao;if(h&&typeof o=="string"&&o){var g=yr(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Qw.has(g)||(Qw.add(g),s={rel:s,crossOrigin:u,href:o},h.querySelector(g)===null&&(o=h.createElement("link"),gn(o,"link",s),kt(o),h.head.appendChild(o)))}}function XO(s){ji.D(s),Zw("dns-prefetch",s,null)}function QO(s,o){ji.C(s,o),Zw("preconnect",s,o)}function ZO(s,o,u){ji.L(s,o,u);var h=Ao;if(h&&s&&o){var g='link[rel="preload"][as="'+yr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+yr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+yr(u.imageSizes)+'"]')):g+='[href="'+yr(s)+'"]';var y=g;switch(o){case"style":y=Oo(s);break;case"script":y=Ro(s)}Tr.has(y)||(s=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Tr.set(y,s),h.querySelector(g)!==null||o==="style"&&h.querySelector(Jl(y))||o==="script"&&h.querySelector(Xl(y))||(o=h.createElement("link"),gn(o,"link",s),kt(o),h.head.appendChild(o)))}}function eR(s,o){ji.m(s,o);var u=Ao;if(u&&s){var h=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+yr(h)+'"][href="'+yr(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ro(s)}if(!Tr.has(y)&&(s=m({rel:"modulepreload",href:s},o),Tr.set(y,s),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xl(y)))return}h=u.createElement("link"),gn(h,"link",s),kt(h),u.head.appendChild(h)}}}function tR(s,o,u){ji.S(s,o,u);var h=Ao;if(h&&s){var g=Pn(h).hoistableStyles,y=Oo(s);o=o||"default";var E=g.get(y);if(!E){var _={loading:0,preload:null};if(E=h.querySelector(Jl(y)))_.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Tr.get(y))&&Am(s,u);var j=E=h.createElement("link");kt(j),gn(j,"link",s),j._p=new Promise(function(q,X){j.onload=q,j.onerror=X}),j.addEventListener("load",function(){_.loading|=1}),j.addEventListener("error",function(){_.loading|=2}),_.loading|=4,vd(E,o,h)}E={type:"stylesheet",instance:E,count:1,state:_},g.set(y,E)}}}function nR(s,o){ji.X(s,o);var u=Ao;if(u&&s){var h=Pn(u).hoistableScripts,g=Ro(s),y=h.get(g);y||(y=u.querySelector(Xl(g)),y||(s=m({src:s,async:!0},o),(o=Tr.get(g))&&Om(s,o),y=u.createElement("script"),kt(y),gn(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function rR(s,o){ji.M(s,o);var u=Ao;if(u&&s){var h=Pn(u).hoistableScripts,g=Ro(s),y=h.get(g);y||(y=u.querySelector(Xl(g)),y||(s=m({src:s,async:!0,type:"module"},o),(o=Tr.get(g))&&Om(s,o),y=u.createElement("script"),kt(y),gn(y,"link",s),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function eS(s,o,u,h){var g=(g=we.current)?yd(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Oo(u.href),u=Pn(g).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Oo(u.href);var y=Pn(g).hoistableStyles,E=y.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,E),(y=g.querySelector(Jl(s)))&&!y._p&&(E.instance=y,E.state.loading=5),Tr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Tr.set(s,u),y||iR(g,s,u,E.state))),o&&h===null)throw Error(r(528,""));return E}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ro(u),u=Pn(g).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Oo(s){return'href="'+yr(s)+'"'}function Jl(s){return'link[rel="stylesheet"]['+s+"]"}function tS(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function iR(s,o,u,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),gn(o,"link",u),kt(o),s.head.appendChild(o))}function Ro(s){return'[src="'+yr(s)+'"]'}function Xl(s){return"script[async]"+s}function nS(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+yr(u.href)+'"]');if(h)return o.instance=h,kt(h),h;var g=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),kt(h),gn(h,"style",g),vd(h,u.precedence,s),o.instance=h;case"stylesheet":g=Oo(u.href);var y=s.querySelector(Jl(g));if(y)return o.state.loading|=4,o.instance=y,kt(y),y;h=tS(u),(g=Tr.get(g))&&Am(h,g),y=(s.ownerDocument||s).createElement("link"),kt(y);var E=y;return E._p=new Promise(function(_,j){E.onload=_,E.onerror=j}),gn(y,"link",h),o.state.loading|=4,vd(y,u.precedence,s),o.instance=y;case"script":return y=Ro(u.src),(g=s.querySelector(Xl(y)))?(o.instance=g,kt(g),g):(h=u,(g=Tr.get(y))&&(h=m({},u),Om(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),kt(g),gn(g,"link",h),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,vd(h,u.precedence,s));return o.instance}function vd(s,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,E=0;E<h.length;E++){var _=h[E];if(_.dataset.precedence===o)y=_;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Am(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Om(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var bd=null;function rS(s,o,u){if(bd===null){var h=new Map,g=bd=new Map;g.set(u,h)}else g=bd,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),g=0;g<u.length;g++){var y=u[g];if(!(y[Ct]||y[de]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(o)||"";E=s+E;var _=h.get(E);_?_.push(y):h.set(E,[y])}}return h}function iS(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function sR(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sS(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aR(s,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=Oo(h.href),y=o.querySelector(Jl(g));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=wd.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=y,kt(y);return}y=o.ownerDocument||o,h=tS(h),(g=Tr.get(g))&&Am(h,g),y=y.createElement("link"),kt(y);var E=y;E._p=new Promise(function(_,j){E.onload=_,E.onerror=j}),gn(y,"link",h),u.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=wd.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var Rm=0;function oR(s,o){return s.stylesheets&&s.count===0&&xd(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var h=setTimeout(function(){if(s.stylesheets&&xd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+o);0<s.imgBytes&&Rm===0&&(Rm=62500*HO());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&xd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Rm?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sd=null;function xd(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sd=new Map,o.forEach(lR,s),Sd=null,wd.call(s))}function lR(s,o){if(!(o.state.loading&4)){var u=Sd.get(s);if(u)var h=u.get(null);else{u=new Map,Sd.set(s,u);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),h=E)}h&&u.set(null,h)}g=o.instance,E=g.getAttribute("data-precedence"),y=u.get(E)||h,y===h&&u.set(null,g),u.set(E,g),this.count++,h=wd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var Ql={$$typeof:R,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function cR(s,o,u,h,g,y,E,_,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function aS(s,o,u,h,g,y,E,_,j,q,X,ee){return s=new cR(s,o,u,E,j,q,X,ee,_),o=1,y===!0&&(o|=24),y=Zn(3,null,null,o),s.current=y,y.stateNode=s,o=cp(),o.refCount++,s.pooledCache=o,o.refCount++,y.memoizedState={element:h,isDehydrated:u,cache:o},hp(y),s}function oS(s){return s?(s=ao,s):ao}function lS(s,o,u,h,g,y){g=oS(g),h.context===null?h.context=g:h.pendingContext=g,h=ns(o),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=rs(s,h,o),u!==null&&(Fn(u,s,o),Rl(u,s,o))}function cS(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Mm(s,o){cS(s,o),(s=s.alternate)&&cS(s,o)}function uS(s){if(s.tag===13||s.tag===31){var o=ia(s,67108864);o!==null&&Fn(o,s,67108864),Mm(s,67108864)}}function dS(s){if(s.tag===13||s.tag===31){var o=ir();o=F(o);var u=ia(s,o);u!==null&&Fn(u,s,o),Mm(s,o)}}var Ed=!0;function uR(s,o,u,h){var g=I.T;I.T=null;var y=Q.p;try{Q.p=2,Nm(s,o,u,h)}finally{Q.p=y,I.T=g}}function dR(s,o,u,h){var g=I.T;I.T=null;var y=Q.p;try{Q.p=8,Nm(s,o,u,h)}finally{Q.p=y,I.T=g}}function Nm(s,o,u,h){if(Ed){var g=Dm(h);if(g===null)vm(s,o,h,kd,u),hS(s,h);else if(hR(g,s,o,u,h))h.stopPropagation();else if(hS(s,h),o&4&&-1<fR.indexOf(s)){for(;g!==null;){var y=et(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=mr(y.pendingLanes);if(E!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;E;){var j=1<<31-Qt(E);_.entanglements[1]|=j,E&=~j}ni(y),(lt&6)===0&&(ad=_t()+500,Gl(0))}}break;case 31:case 13:_=ia(y,2),_!==null&&Fn(_,y,2),ld(),Mm(y,2)}if(y=Dm(h),y===null&&vm(s,o,h,kd,u),y===g)break;g=y}g!==null&&h.stopPropagation()}else vm(s,o,h,null,u)}}function Dm(s){return s=Lh(s),jm(s)}var kd=null;function jm(s){if(kd=null,s=Mt(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return kd=s,null}function fS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case Qr:return 2;case Yi:return 8;case dn:case Mn:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Lm=!1,ms=null,gs=null,ys=null,Zl=new Map,ec=new Map,vs=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hS(s,o){switch(s){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Zl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(o.pointerId)}}function tc(s,o,u,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},o!==null&&(o=et(o),o!==null&&uS(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function hR(s,o,u,h,g){switch(o){case"focusin":return ms=tc(ms,s,o,u,h,g),!0;case"dragenter":return gs=tc(gs,s,o,u,h,g),!0;case"mouseover":return ys=tc(ys,s,o,u,h,g),!0;case"pointerover":var y=g.pointerId;return Zl.set(y,tc(Zl.get(y)||null,s,o,u,h,g)),!0;case"gotpointercapture":return y=g.pointerId,ec.set(y,tc(ec.get(y)||null,s,o,u,h,g)),!0}return!1}function pS(s){var o=Mt(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,ke(s.priority,function(){dS(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,ke(s.priority,function(){dS(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Td(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Dm(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);jh=h,u.target.dispatchEvent(h),jh=null}else return o=et(u),o!==null&&uS(o),s.blockedOn=u,!1;o.shift()}return!0}function mS(s,o,u){Td(s)&&u.delete(o)}function pR(){Lm=!1,ms!==null&&Td(ms)&&(ms=null),gs!==null&&Td(gs)&&(gs=null),ys!==null&&Td(ys)&&(ys=null),Zl.forEach(mS),ec.forEach(mS)}function _d(s,o){s.blockedOn===o&&(s.blockedOn=null,Lm||(Lm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pR)))}var Cd=null;function gS(s){Cd!==s&&(Cd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cd===s&&(Cd=null);for(var o=0;o<s.length;o+=3){var u=s[o],h=s[o+1],g=s[o+2];if(typeof h!="function"){if(jm(h||u)===null)continue;break}var y=et(u);y!==null&&(s.splice(o,3),o-=3,Dp(y,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Mo(s){function o(j){return _d(j,s)}ms!==null&&_d(ms,s),gs!==null&&_d(gs,s),ys!==null&&_d(ys,s),Zl.forEach(o),ec.forEach(o);for(var u=0;u<vs.length;u++){var h=vs[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<vs.length&&(u=vs[0],u.blockedOn===null);)pS(u),u.blockedOn===null&&vs.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],y=u[h+1],E=g[pe]||null;if(typeof y=="function")E||gS(u);else if(E){var _=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[pe]||null)_=E.formAction;else if(jm(g)!==null)continue}else _=E.action;typeof _=="function"?u[h+1]=_:(u.splice(h,3),h-=3),gS(u)}}}function yS(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function zm(s){this._internalRoot=s}Ad.prototype.render=zm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ir();lS(u,h,s,o,null,null)},Ad.prototype.unmount=zm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;lS(s.current,2,null,s,null,null),ld(),o[Ee]=null}};function Ad(s){this._internalRoot=s}Ad.prototype.unstable_scheduleHydration=function(s){if(s){var o=oe();s={blockedOn:null,target:s,priority:o};for(var u=0;u<vs.length&&o!==0&&o<vs[u].priority;u++);vs.splice(u,0,s),u===0&&pS(s)}};var vS=e.version;if(vS!=="19.2.4")throw Error(r(527,vS,"19.2.4"));Q.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var mR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{pi=Od.inject(mR),wt=Od}catch{}}return rc.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,h="",g=Tb,y=_b,E=Cb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=aS(s,1,!1,null,null,u,h,null,g,y,E,yS),s[Ee]=o.current,ym(s),new zm(o)},rc.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var h=!1,g="",y=Tb,E=_b,_=Cb,j=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.formState!==void 0&&(j=u.formState)),o=aS(s,1,!0,o,u??null,h,g,j,y,E,_,yS),o.context=oS(null),u=o.current,h=ir(),h=F(h),g=ns(h),g.callback=null,rs(u,g,h),u=h,o.current.lanes=u,vt(o,u),ni(o),s[Ee]=o.current,ym(s),new Ad(o)},rc.version="19.2.4",rc}var AS;function TR(){if(AS)return Pm.exports;AS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pm.exports=kR(),Pm.exports}var _R=TR();var $E=t=>{throw TypeError(t)},CR=(t,e,n)=>e.has(t)||$E("Cannot "+n),qm=(t,e,n)=>(CR(t,e,"read from private field"),n?n.call(t):e.get(t)),AR=(t,e,n)=>e.has(t)?$E("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),OS="popstate";function OR(t={}){function e(i,a){let{pathname:l="/",search:c="",hash:d=""}=Gi(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Bc("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:li(a))}function r(i,a){$t(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return MR(e,n,r,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $t(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RR(){return Math.random().toString(36).substring(2,10)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function Bc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Gi(e):e,state:n,key:e&&e.key||r||RR()}}function li({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let S=p(),k=S==null?null:S-f;f=S,d&&d({action:c,location:x.location,delta:k})}function v(S,k){c="PUSH";let O=Bc(x.location,S,k);n&&n(O,S),f=p()+1;let R=RS(O,f),U=x.createHref(O);try{l.pushState(R,"",U)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(U)}a&&d&&d({action:c,location:x.location,delta:1})}function b(S,k){c="REPLACE";let O=Bc(x.location,S,k);n&&n(O,S),f=p();let R=RS(O,f),U=x.createHref(O);l.replaceState(R,"",U),a&&d&&d({action:c,location:x.location,delta:0})}function w(S){return qE(S)}let x={get action(){return c},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(OS,m),d=S,()=>{i.removeEventListener(OS,m),d=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:b,go(S){return l.go(S)}};return x}function qE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:li(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var yc,MS=class{constructor(t){if(AR(this,yc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(qm(this,yc).has(t))return qm(this,yc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){qm(this,yc).set(t,e)}};yc=new WeakMap;var NR=new Set(["lazy","caseSensitive","path","id","index","children"]);function DR(t){return NR.has(t)}var jR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function LR(t){return jR.has(t)}function zR(t){return t.index===!0}function Pc(t,e,n=[],r={},i=!1){return t.map((a,l)=>{let c=[...n,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(Ke(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ke(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),zR(a)){let f={...a,id:d};return r[d]=NS(f,e(f)),f}else{let f={...a,id:d,children:void 0};return r[d]=NS(f,e(f)),a.children&&(f.children=Pc(a.children,e,c,r,i)),f}})}function NS(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function As(t,e,n="/"){return vc(t,e,n,!1)}function vc(t,e,n,r){let i=typeof e=="string"?Gi(e):e,a=jr(i.pathname||"/",n);if(a==null)return null;let l=VE(t);BR(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=YR(a);c=KR(l[d],f,r)}return c}function IR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function VE(t,e=[],n=[],r="",i=!1){let a=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Ke(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=oi([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),VE(l.children,e,v,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:FR(m,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of FE(l.path))a(l,c,!0,d)}),e}function FE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=FE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function BR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PR=/^:[\w-]+$/,UR=3,HR=2,$R=1,qR=10,VR=-2,DS=t=>t==="*";function FR(t,e){let n=t.split("/"),r=n.length;return n.some(DS)&&(r+=VR),e&&(r+=HR),n.filter(i=>!DS(i)).reduce((i,a)=>i+(PR.test(a)?UR:a===""?$R:qR),r)}function GR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KR(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=ff({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=ff({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:oi([a,m.pathname]),pathnameBase:QR(oi([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=oi([a,m.pathnameBase]))}return l}function ff(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let w=c[v]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[v];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function WR(t,e=!1,n=!0){$t(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JR({basename:t,pathname:e}){return e==="/"?t:oi([t,e])}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ny=t=>GE.test(t);function XR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gi(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=jS(n.substring(1),"/"):a=jS(n,e)):a=e,{pathname:a,search:ZR(r),hash:eM(i)}}function jS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dy(t){let e=KE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jy(t,e,n,r=!1){let i;typeof t=="string"?i=Gi(t):(i={...t},Ke(!i.pathname||!i.pathname.includes("?"),Vm("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),Vm("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),Vm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=XR(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),QR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,au=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ou(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YE(t,e){let n=t;if(typeof n!="string"||!GE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(WE)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=jr(l.pathname,e);l.origin===a.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{$t(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var Ds=Symbol("Uninstrumented");function tM(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let l=Object.keys(n);for(let c of l)a[c]&&n[c].push(a[c])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=Xo(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let l=i[a],c=n[`lazy.${a}`];if(typeof l=="function"&&c.length>0){let d=Xo(c,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[a]:d}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&n[i].length>0){let l=a[Ds]??a,c=Xo(n[i],l,(...d)=>LS(d[0]));c&&(i==="loader"&&l.hydrate===!0&&(c.hydrate=!0),c[Ds]=l,r[i]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let a=i[Ds]??i,l=Xo(n.middleware,a,(...c)=>LS(c[0]));return l?(l[Ds]=a,l):i})),r}function nM(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let a=Object.keys(i);for(let l of a)i[l]&&n[l].push(i[l])}})),n.navigate.length>0){let r=t.navigate[Ds]??t.navigate,i=Xo(n.navigate,r,(...a)=>{let[l,c]=a;return{to:typeof l=="number"||typeof l=="string"?l:l?li(l):".",...zS(t,c??{})}});i&&(i[Ds]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[Ds]??t.fetch,i=Xo(n.fetch,r,(...a)=>{let[l,,c,d]=a;return{href:c??".",fetcherKey:l,...zS(t,d??{})}});i&&(i[Ds]=r,t.fetch=i)}return t}function Xo(t,e,n){return t.length===0?null:async(...r)=>{let i=await JE(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function JE(t,e,n,r){let i=t[r],a;if(i){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=JE(t,e,n,r-1),a=await l,Ke(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(c,e)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await c(),await l}else try{a={type:"success",value:await n()}}catch(l){a={type:"error",value:l}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function LS(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:rM(e),params:{...r},unstable_pattern:i,context:iM(n)}}function zS(t,e){return{currentUrl:li(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function rM(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function iM(t){if(aM(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var sM=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aM(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===sM}var XE=["POST","PUT","PATCH","DELETE"],oM=new Set(XE),lM=["GET",...XE],cM=new Set(lM),QE=new Set([301,302,303,307,308]),uM=new Set([307,308]),Fm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ic={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZE="remix-router-transitions",ek=Symbol("ResetLoaderData");function hM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||fM,a=i;if(t.unstable_instrumentations){let D=t.unstable_instrumentations;a=P=>({...i(P),...tM(D.map(F=>F.route).filter(Boolean),P)})}let l={},c=Pc(t.routes,a,void 0,l),d,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||vM,m={...t.future},v=null,b=new Set,w=null,x=null,S=null,k=t.hydrationData!=null,O=As(c,t.history.location,f),R=!1,U=null,A;if(O==null&&!t.patchRoutesOnNavigation){let D=Or(404,{pathname:t.history.location.pathname}),{matches:P,route:F}=Rd(c);A=!0,O=P,U={[F.id]:D}}else if(O&&!t.hydrationData&&Bt(O,c,t.history.location.pathname).active&&(O=null),O)if(O.some(D=>D.route.lazy))A=!1;else if(!O.some(D=>Ly(D.route)))A=!0;else{let D=t.hydrationData?t.hydrationData.loaderData:null,P=t.hydrationData?t.hydrationData.errors:null;if(P){let F=O.findIndex(ne=>P[ne.route.id]!==void 0);A=O.slice(0,F+1).every(ne=>!Bg(ne.route,D,P))}else A=O.every(F=>!Bg(F.route,D,P))}else{A=!1,O=[];let D=Bt(null,c,t.history.location.pathname);D.active&&D.matches&&(R=!0,O=D.matches)}let N,T={historyAction:t.history.action,location:t.history.location,matches:O,initialized:A,navigation:Fm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||U,fetchers:new Map,blockers:new Map},z="POP",G=null,le=!1,he,ye=!1,Pe=new Map,ue=null,re=!1,I=!1,Q=new Set,Y=new Map,_e=0,Ce=-1,L=new Map,J=new Set,W=new Map,te=new Map,ce=new Set,we=new Map,Se,Le=null;function Qe(){if(v=t.history.listen(({action:D,location:P,delta:F})=>{if(Se){Se(),Se=void 0;return}$t(we.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=mi({currentLocation:T.location,nextLocation:P,historyAction:D});if(ne&&F!=null){let oe=new Promise(ke=>{Se=ke});t.history.go(F*-1),Ir(ne,{state:"blocked",location:P,proceed(){Ir(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),oe.then(()=>t.history.go(F))},reset(){let ke=new Map(T.blockers);ke.set(ne,ic),st({blockers:ke})}}),G?.resolve(),G=null;return}return In(D,P)}),n){zM(e,Pe);let D=()=>IM(e,Pe);e.addEventListener("pagehide",D),ue=()=>e.removeEventListener("pagehide",D)}return T.initialized||In("POP",T.location,{initialHydration:!0}),N}function cn(){v&&v(),ue&&ue(),b.clear(),he&&he.abort(),T.fetchers.forEach((D,P)=>pr(P)),T.blockers.forEach((D,P)=>Yn(P))}function Rn(D){return b.add(D),()=>b.delete(D)}function st(D,P={}){D.matches&&(D.matches=D.matches.map(oe=>{let ke=l[oe.route.id],fe=oe.route;return fe.element!==ke.element||fe.errorElement!==ke.errorElement||fe.hydrateFallbackElement!==ke.hydrateFallbackElement?{...oe,route:ke}:oe})),T={...T,...D};let F=[],ne=[];T.fetchers.forEach((oe,ke)=>{oe.state==="idle"&&(ce.has(ke)?F.push(ke):ne.push(ke))}),ce.forEach(oe=>{!T.fetchers.has(oe)&&!Y.has(oe)&&F.push(oe)}),[...b].forEach(oe=>oe(T,{deletedFetchers:F,newErrors:D.errors??null,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),F.forEach(oe=>pr(oe)),ne.forEach(oe=>T.fetchers.delete(oe))}function zr(D,P,{flushSync:F}={}){let ne=T.actionData!=null&&T.navigation.formMethod!=null&&Cn(T.navigation.formMethod)&&T.navigation.state==="loading"&&D.state?._isRedirect!==!0,oe;P.actionData?Object.keys(P.actionData).length>0?oe=P.actionData:oe=null:ne?oe=T.actionData:oe=null;let ke=P.loaderData?GS(T.loaderData,P.loaderData,P.matches||[],P.errors):T.loaderData,fe=T.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((Ne,Ae)=>fe.set(Ae,ic)));let de=re?!1:It(D,P.matches||T.matches),pe=le===!0||T.navigation.formMethod!=null&&Cn(T.navigation.formMethod)&&D.state?._isRedirect!==!0;d&&(c=d,d=void 0),re||z==="POP"||(z==="PUSH"?t.history.push(D,D.state):z==="REPLACE"&&t.history.replace(D,D.state));let Ee;if(z==="POP"){let Ne=Pe.get(T.location.pathname);Ne&&Ne.has(D.pathname)?Ee={currentLocation:T.location,nextLocation:D}:Pe.has(D.pathname)&&(Ee={currentLocation:D,nextLocation:T.location})}else if(ye){let Ne=Pe.get(T.location.pathname);Ne?Ne.add(D.pathname):(Ne=new Set([D.pathname]),Pe.set(T.location.pathname,Ne)),Ee={currentLocation:T.location,nextLocation:D}}st({...P,actionData:oe,loaderData:ke,historyAction:z,location:D,initialized:!0,navigation:Fm,revalidation:"idle",restoreScrollPosition:de,preventScrollReset:pe,blockers:fe},{viewTransitionOpts:Ee,flushSync:F===!0}),z="POP",le=!1,ye=!1,re=!1,I=!1,G?.resolve(),G=null,Le?.resolve(),Le=null}async function zn(D,P){if(G?.resolve(),G=null,typeof D=="number"){G||(G=JS());let Ze=G.promise;return t.history.go(D),Ze}let F=Ig(T.location,T.matches,f,D,P?.fromRouteId,P?.relative),{path:ne,submission:oe,error:ke}=IS(!1,F,P),fe=T.location,de=Bc(T.location,ne,P&&P.state);de={...de,...t.history.encodeLocation(de)};let pe=P&&P.replace!=null?P.replace:void 0,Ee="PUSH";pe===!0?Ee="REPLACE":pe===!1||oe!=null&&Cn(oe.formMethod)&&oe.formAction===T.location.pathname+T.location.search&&(Ee="REPLACE");let Ne=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,Ae=(P&&P.flushSync)===!0,it=mi({currentLocation:fe,nextLocation:de,historyAction:Ee});if(it){Ir(it,{state:"blocked",location:de,proceed(){Ir(it,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),zn(D,P)},reset(){let Ze=new Map(T.blockers);Ze.set(it,ic),st({blockers:Ze})}});return}await In(Ee,de,{submission:oe,pendingError:ke,preventScrollReset:Ne,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:Ae,callSiteDefaultShouldRevalidate:P&&P.unstable_defaultShouldRevalidate})}function Ks(){Le||(Le=JS()),Yi(),st({revalidation:"loading"});let D=Le.promise;return T.navigation.state==="submitting"?D:T.navigation.state==="idle"?(In(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),D):(In(z||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:ye===!0}),D)}async function In(D,P,F){he&&he.abort(),he=null,z=D,re=(F&&F.startUninterruptedRevalidation)===!0,yt(T.location,T.matches),le=(F&&F.preventScrollReset)===!0,ye=(F&&F.enableViewTransition)===!0;let ne=d||c,oe=F&&F.overrideNavigation,ke=F?.initialHydration&&T.matches&&T.matches.length>0&&!R?T.matches:As(ne,P,f),fe=(F&&F.flushSync)===!0;if(ke&&T.initialized&&!I&&_M(T.location,P)&&!(F&&F.submission&&Cn(F.submission.formMethod))){zr(P,{matches:ke},{flushSync:fe});return}let de=Bt(ke,ne,P.pathname);if(de.active&&de.matches&&(ke=de.matches),!ke){let{error:Rt,notFoundMatches:Mt,route:et}=Br(P.pathname);zr(P,{matches:Mt,loaderData:{},errors:{[et.id]:Rt}},{flushSync:fe});return}he=new AbortController;let pe=Vo(t.history,P,he.signal,F&&F.submission),Ee=t.getContext?await t.getContext():new MS,Ne;if(F&&F.pendingError)Ne=[Os(ke).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&Cn(F.submission.formMethod)){let Rt=await fi(pe,P,F.submission,ke,Ee,de.active,F&&F.initialHydration===!0,{replace:F.replace,flushSync:fe});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[Mt,et]=Rt.pendingActionResult;if(ar(et)&&Uc(et.error)&&et.error.status===404){he=null,zr(P,{matches:Rt.matches,loaderData:{},errors:{[Mt]:et.error}});return}}ke=Rt.matches||ke,Ne=Rt.pendingActionResult,oe=Gm(P,F.submission),fe=!1,de.active=!1,pe=Vo(t.history,pe.url,pe.signal)}let{shortCircuited:Ae,matches:it,loaderData:Ze,errors:Ct}=await Ws(pe,P,ke,Ee,de.active,oe,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,fe,Ne,F&&F.callSiteDefaultShouldRevalidate);Ae||(he=null,zr(P,{matches:it||ke,...KS(Ne),loaderData:Ze,errors:Ct}))}async function fi(D,P,F,ne,oe,ke,fe,de={}){Yi();let pe=jM(P,F);if(st({navigation:pe},{flushSync:de.flushSync===!0}),ke){let Ae=await Jn(ne,P.pathname,D.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){if(Ae.partialMatches.length===0){let{matches:Ze,route:Ct}=Rd(c);return{matches:Ze,pendingActionResult:[Ct.id,{type:"error",error:Ae.error}]}}let it=Os(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[it,{type:"error",error:Ae.error}]}}else if(Ae.matches)ne=Ae.matches;else{let{notFoundMatches:it,error:Ze,route:Ct}=Br(P.pathname);return{matches:it,pendingActionResult:[Ct.id,{type:"error",error:Ze}]}}}let Ee,Ne=rf(ne,P);if(!Ne.route.action&&!Ne.route.lazy)Ee={type:"error",error:Or(405,{method:D.method,pathname:P.pathname,routeId:Ne.route.id})};else{let Ae=el(a,l,D,ne,Ne,fe?[]:r,oe),it=await hi(D,Ae,oe,null);if(Ee=it[Ne.route.id],!Ee){for(let Ze of ne)if(it[Ze.route.id]){Ee=it[Ze.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(_a(Ee)){let Ae;return de&&de.replace!=null?Ae=de.replace:Ae=qS(Ee.response.headers.get("Location"),new URL(D.url),f,t.history)===T.location.pathname+T.location.search,await _t(D,Ee,!0,{submission:F,replace:Ae}),{shortCircuited:!0}}if(ar(Ee)){let Ae=Os(ne,Ne.route.id);return(de&&de.replace)!==!0&&(z="PUSH"),{matches:ne,pendingActionResult:[Ae.route.id,Ee,Ne.route.id]}}return{matches:ne,pendingActionResult:[Ne.route.id,Ee]}}async function Ws(D,P,F,ne,oe,ke,fe,de,pe,Ee,Ne,Ae,it){let Ze=ke||Gm(P,fe),Ct=fe||de||YS(Ze),Rt=!re&&!Ee;if(oe){if(Rt){let Pt=En(Ae);st({navigation:Ze,...Pt!==void 0?{actionData:Pt}:{}},{flushSync:Ne})}let tt=await Jn(F,P.pathname,D.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){if(tt.partialMatches.length===0){let{matches:Hr,route:fn}=Rd(c);return{matches:Hr,loaderData:{},errors:{[fn.id]:tt.error}}}let Pt=Os(tt.partialMatches).route.id;return{matches:tt.partialMatches,loaderData:{},errors:{[Pt]:tt.error}}}else if(tt.matches)F=tt.matches;else{let{error:Pt,notFoundMatches:Hr,route:fn}=Br(P.pathname);return{matches:Hr,loaderData:{},errors:{[fn.id]:Pt}}}}let Mt=d||c,{dsMatches:et,revalidatingFetchers:rn}=BS(D,ne,a,l,t.history,T,F,Ct,P,Ee?[]:r,Ee===!0,I,Q,ce,W,J,Mt,f,t.patchRoutesOnNavigation!=null,Ae,it);if(Ce=++_e,!t.dataStrategy&&!et.some(tt=>tt.shouldLoad)&&!et.some(tt=>tt.route.middleware&&tt.route.middleware.length>0)&&rn.length===0){let tt=Qt();return zr(P,{matches:F,loaderData:{},errors:Ae&&ar(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...KS(Ae),...tt?{fetchers:new Map(T.fetchers)}:{}},{flushSync:Ne}),{shortCircuited:!0}}if(Rt){let tt={};if(!oe){tt.navigation=Ze;let Pt=En(Ae);Pt!==void 0&&(tt.actionData=Pt)}rn.length>0&&(tt.fetchers=Ys(rn)),st(tt,{flushSync:Ne})}rn.forEach(tt=>{wt(tt.key),tt.controller&&Y.set(tt.key,tt.controller)});let Pn=()=>rn.forEach(tt=>wt(tt.key));he&&he.signal.addEventListener("abort",Pn);let{loaderResults:kt,fetcherResults:Pr}=await Qr(et,rn,D,ne);if(D.signal.aborted)return{shortCircuited:!0};he&&he.signal.removeEventListener("abort",Pn),rn.forEach(tt=>Y.delete(tt.key));let Xn=Md(kt);if(Xn)return await _t(D,Xn.result,!0,{replace:pe}),{shortCircuited:!0};if(Xn=Md(Pr),Xn)return J.add(Xn.key),await _t(D,Xn.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Ur,errors:gr}=FS(T,F,kt,Ae,rn,Pr);Ee&&T.errors&&(gr={...T.errors,...gr});let yi=Qt(),Qs=Xa(Ce),Zs=yi||Qs||rn.length>0;return{matches:F,loaderData:Ur,errors:gr,...Zs?{fetchers:new Map(T.fetchers)}:{}}}function En(D){if(D&&!ar(D[1]))return{[D[0]]:D[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Ys(D){return D.forEach(P=>{let F=T.fetchers.get(P.key),ne=sc(void 0,F?F.data:void 0);T.fetchers.set(P.key,ne)}),new Map(T.fetchers)}async function Js(D,P,F,ne){wt(D);let oe=(ne&&ne.flushSync)===!0,ke=d||c,fe=Ig(T.location,T.matches,f,F,P,ne?.relative),de=As(ke,fe,f),pe=Bt(de,ke,fe);if(pe.active&&pe.matches&&(de=pe.matches),!de){Mn(D,P,Or(404,{pathname:fe}),{flushSync:oe});return}let{path:Ee,submission:Ne,error:Ae}=IS(!0,fe,ne);if(Ae){Mn(D,P,Ae,{flushSync:oe});return}let it=t.getContext?await t.getContext():new MS,Ze=(ne&&ne.preventScrollReset)===!0;if(Ne&&Cn(Ne.formMethod)){await un(D,P,Ee,de,it,pe.active,oe,Ze,Ne,ne&&ne.unstable_defaultShouldRevalidate);return}W.set(D,{routeId:P,path:Ee}),await Xr(D,P,Ee,de,it,pe.active,oe,Ze,Ne)}async function un(D,P,F,ne,oe,ke,fe,de,pe,Ee){Yi(),W.delete(D);let Ne=T.fetchers.get(D);dn(D,LM(pe,Ne),{flushSync:fe});let Ae=new AbortController,it=Vo(t.history,F,Ae.signal,pe);if(ke){let nt=await Jn(ne,new URL(it.url).pathname,it.signal,D);if(nt.type==="aborted")return;if(nt.type==="error"){Mn(D,P,nt.error,{flushSync:fe});return}else if(nt.matches)ne=nt.matches;else{Mn(D,P,Or(404,{pathname:F}),{flushSync:fe});return}}let Ze=rf(ne,F);if(!Ze.route.action&&!Ze.route.lazy){let nt=Or(405,{method:pe.formMethod,pathname:F,routeId:P});Mn(D,P,nt,{flushSync:fe});return}Y.set(D,Ae);let Ct=_e,Rt=el(a,l,it,ne,Ze,r,oe),Mt=await hi(it,Rt,oe,D),et=Mt[Ze.route.id];if(!et){for(let nt of Rt)if(Mt[nt.route.id]){et=Mt[nt.route.id];break}}if(it.signal.aborted){Y.get(D)===Ae&&Y.delete(D);return}if(ce.has(D)){if(_a(et)||ar(et)){dn(D,Pi(void 0));return}}else{if(_a(et))if(Y.delete(D),Ce>Ct){dn(D,Pi(void 0));return}else return J.add(D),dn(D,sc(pe)),_t(it,et,!1,{fetcherSubmission:pe,preventScrollReset:de});if(ar(et)){Mn(D,P,et.error);return}}let rn=T.navigation.location||T.location,Pn=Vo(t.history,rn,Ae.signal),kt=d||c,Pr=T.navigation.state!=="idle"?As(kt,T.navigation.location,f):T.matches;Ke(Pr,"Didn't find any matches after fetcher action");let Xn=++_e;L.set(D,Xn);let Ur=sc(pe,et.data);T.fetchers.set(D,Ur);let{dsMatches:gr,revalidatingFetchers:yi}=BS(Pn,oe,a,l,t.history,T,Pr,pe,rn,r,!1,I,Q,ce,W,J,kt,f,t.patchRoutesOnNavigation!=null,[Ze.route.id,et],Ee);yi.filter(nt=>nt.key!==D).forEach(nt=>{let ea=nt.key,bu=T.fetchers.get(ea),pl=sc(void 0,bu?bu.data:void 0);T.fetchers.set(ea,pl),wt(ea),nt.controller&&Y.set(ea,nt.controller)}),st({fetchers:new Map(T.fetchers)});let Qs=()=>yi.forEach(nt=>wt(nt.key));Ae.signal.addEventListener("abort",Qs);let{loaderResults:Zs,fetcherResults:tt}=await Qr(gr,yi,Pn,oe);if(Ae.signal.aborted)return;if(Ae.signal.removeEventListener("abort",Qs),L.delete(D),Y.delete(D),yi.forEach(nt=>Y.delete(nt.key)),T.fetchers.has(D)){let nt=Pi(et.data);T.fetchers.set(D,nt)}let Pt=Md(Zs);if(Pt)return _t(Pn,Pt.result,!1,{preventScrollReset:de});if(Pt=Md(tt),Pt)return J.add(Pt.key),_t(Pn,Pt.result,!1,{preventScrollReset:de});let{loaderData:Hr,errors:fn}=FS(T,Pr,Zs,void 0,yi,tt);Xa(Xn),T.navigation.state==="loading"&&Xn>Ce?(Ke(z,"Expected pending action"),he&&he.abort(),zr(T.navigation.location,{matches:Pr,loaderData:Hr,errors:fn,fetchers:new Map(T.fetchers)})):(st({errors:fn,loaderData:GS(T.loaderData,Hr,Pr,fn),fetchers:new Map(T.fetchers)}),I=!1)}async function Xr(D,P,F,ne,oe,ke,fe,de,pe){let Ee=T.fetchers.get(D);dn(D,sc(pe,Ee?Ee.data:void 0),{flushSync:fe});let Ne=new AbortController,Ae=Vo(t.history,F,Ne.signal);if(ke){let et=await Jn(ne,new URL(Ae.url).pathname,Ae.signal,D);if(et.type==="aborted")return;if(et.type==="error"){Mn(D,P,et.error,{flushSync:fe});return}else if(et.matches)ne=et.matches;else{Mn(D,P,Or(404,{pathname:F}),{flushSync:fe});return}}let it=rf(ne,F);Y.set(D,Ne);let Ze=_e,Ct=el(a,l,Ae,ne,it,r,oe),Mt=(await hi(Ae,Ct,oe,D))[it.route.id];if(Y.get(D)===Ne&&Y.delete(D),!Ae.signal.aborted){if(ce.has(D)){dn(D,Pi(void 0));return}if(_a(Mt))if(Ce>Ze){dn(D,Pi(void 0));return}else{J.add(D),await _t(Ae,Mt,!1,{preventScrollReset:de});return}if(ar(Mt)){Mn(D,P,Mt.error);return}dn(D,Pi(Mt.data))}}async function _t(D,P,F,{submission:ne,fetcherSubmission:oe,preventScrollReset:ke,replace:fe}={}){F||(G?.resolve(),G=null),P.response.headers.has("X-Remix-Revalidate")&&(I=!0);let de=P.response.headers.get("Location");Ke(de,"Expected a Location header on the redirect Response"),de=qS(de,new URL(D.url),f,t.history);let pe=Bc(T.location,de,{_isRedirect:!0});if(n){let Ct=!1;if(P.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Ny(de)){const Rt=qE(de,!0);Ct=Rt.origin!==e.location.origin||jr(Rt.pathname,f)==null}if(Ct){fe?e.location.replace(de):e.location.assign(de);return}}he=null;let Ee=fe===!0||P.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ne,formAction:Ae,formEncType:it}=T.navigation;!ne&&!oe&&Ne&&Ae&&it&&(ne=YS(T.navigation));let Ze=ne||oe;if(uM.has(P.response.status)&&Ze&&Cn(Ze.formMethod))await In(Ee,pe,{submission:{...Ze,formAction:de},preventScrollReset:ke||le,enableViewTransition:F?ye:void 0});else{let Ct=Gm(pe,ne);await In(Ee,pe,{overrideNavigation:Ct,fetcherSubmission:oe,preventScrollReset:ke||le,enableViewTransition:F?ye:void 0})}}async function hi(D,P,F,ne){let oe,ke={};try{oe=await wM(p,D,P,ne,F,!1)}catch(fe){return P.filter(de=>de.shouldLoad).forEach(de=>{ke[de.route.id]={type:"error",error:fe}}),ke}if(D.signal.aborted)return ke;if(!Cn(D.method))for(let fe of P){if(oe[fe.route.id]?.type==="error")break;!oe.hasOwnProperty(fe.route.id)&&!T.loaderData.hasOwnProperty(fe.route.id)&&(!T.errors||!T.errors.hasOwnProperty(fe.route.id))&&fe.shouldCallHandler()&&(oe[fe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${fe.route.id}`)})}for(let[fe,de]of Object.entries(oe))if(RM(de)){let pe=de.result;ke[fe]={type:"redirect",response:kM(pe,D,fe,P,f)}}else ke[fe]=await EM(de);return ke}async function Qr(D,P,F,ne){let oe=hi(F,D,ne,null),ke=Promise.all(P.map(async pe=>{if(pe.matches&&pe.match&&pe.request&&pe.controller){let Ne=(await hi(pe.request,pe.matches,ne,pe.key))[pe.match.route.id];return{[pe.key]:Ne}}else return Promise.resolve({[pe.key]:{type:"error",error:Or(404,{pathname:pe.path})}})})),fe=await oe,de=(await ke).reduce((pe,Ee)=>Object.assign(pe,Ee),{});return{loaderResults:fe,fetcherResults:de}}function Yi(){I=!0,W.forEach((D,P)=>{Y.has(P)&&Q.add(P),wt(P)})}function dn(D,P,F={}){T.fetchers.set(D,P),st({fetchers:new Map(T.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Mn(D,P,F,ne={}){let oe=Os(T.matches,P);pr(D),st({errors:{[oe.route.id]:F},fetchers:new Map(T.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function hr(D){return te.set(D,(te.get(D)||0)+1),ce.has(D)&&ce.delete(D),T.fetchers.get(D)||dM}function Ja(D,P){wt(D,P?.reason),dn(D,Pi(null))}function pr(D){let P=T.fetchers.get(D);Y.has(D)&&!(P&&P.state==="loading"&&L.has(D))&&wt(D),W.delete(D),L.delete(D),J.delete(D),ce.delete(D),Q.delete(D),T.fetchers.delete(D)}function pi(D){let P=(te.get(D)||0)-1;P<=0?(te.delete(D),ce.add(D)):te.set(D,P),st({fetchers:new Map(T.fetchers)})}function wt(D,P){let F=Y.get(D);F&&(F.abort(P),Y.delete(D))}function Bn(D){for(let P of D){let F=hr(P),ne=Pi(F.data);T.fetchers.set(P,ne)}}function Qt(){let D=[],P=!1;for(let F of J){let ne=T.fetchers.get(F);Ke(ne,`Expected fetcher: ${F}`),ne.state==="loading"&&(J.delete(F),D.push(F),P=!0)}return Bn(D),P}function Xa(D){let P=[];for(let[F,ne]of L)if(ne<D){let oe=T.fetchers.get(F);Ke(oe,`Expected fetcher: ${F}`),oe.state==="loading"&&(wt(F),L.delete(F),P.push(F))}return Bn(P),P.length>0}function Xs(D,P){let F=T.blockers.get(D)||ic;return we.get(D)!==P&&we.set(D,P),F}function Yn(D){T.blockers.delete(D),we.delete(D)}function Ir(D,P){let F=T.blockers.get(D)||ic;Ke(F.state==="unblocked"&&P.state==="blocked"||F.state==="blocked"&&P.state==="blocked"||F.state==="blocked"&&P.state==="proceeding"||F.state==="blocked"&&P.state==="unblocked"||F.state==="proceeding"&&P.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${P.state}`);let ne=new Map(T.blockers);ne.set(D,P),st({blockers:ne})}function mi({currentLocation:D,nextLocation:P,historyAction:F}){if(we.size===0)return;we.size>1&&$t(!1,"A router only supports one blocker at a time");let ne=Array.from(we.entries()),[oe,ke]=ne[ne.length-1],fe=T.blockers.get(oe);if(!(fe&&fe.state==="proceeding")&&ke({currentLocation:D,nextLocation:P,historyAction:F}))return oe}function Br(D){let P=Or(404,{pathname:D}),F=d||c,{matches:ne,route:oe}=Rd(F);return{notFoundMatches:ne,route:oe,error:P}}function mr(D,P,F){if(w=D,S=P,x=F||null,!k&&T.navigation===Fm){k=!0;let ne=It(T.location,T.matches);ne!=null&&st({restoreScrollPosition:ne})}return()=>{w=null,S=null,x=null}}function ze(D,P){return x&&x(D,P.map(ne=>IR(ne,T.loaderData)))||D.key}function yt(D,P){if(w&&S){let F=ze(D,P);w[F]=S()}}function It(D,P){if(w){let F=ze(D,P),ne=w[F];if(typeof ne=="number")return ne}return null}function Bt(D,P,F){if(t.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:vc(P,F,f,!0)}}else return{active:!0,matches:vc(P,F,f,!0)||[]};return{active:!1,matches:null}}async function Jn(D,P,F,ne){if(!t.patchRoutesOnNavigation)return{type:"success",matches:D};let oe=D;for(;;){let ke=d==null,fe=d||c,de=l;try{await t.patchRoutesOnNavigation({signal:F,path:P,matches:oe,fetcherKey:ne,patch:(Ne,Ae)=>{F.aborted||PS(Ne,Ae,fe,de,a,!1)}})}catch(Ne){return{type:"error",error:Ne,partialMatches:oe}}finally{ke&&!F.aborted&&(c=[...c])}if(F.aborted)return{type:"aborted"};let pe=As(fe,P,f),Ee=null;if(pe){if(Object.keys(pe[0].params).length===0)return{type:"success",matches:pe};if(Ee=vc(fe,P,f,!0),!(Ee&&oe.length<Ee.length&&vt(oe,Ee.slice(0,oe.length))))return{type:"success",matches:pe}}if(Ee||(Ee=vc(fe,P,f,!0)),!Ee||vt(oe,Ee))return{type:"success",matches:null};oe=Ee}}function vt(D,P){return D.length===P.length&&D.every((F,ne)=>F.route.id===P[ne].route.id)}function kn(D){l={},d=Pc(D,a,void 0,l)}function gi(D,P,F=!1){let ne=d==null;PS(D,P,d||c,l,a,F),ne&&(c=[...c],st({}))}return N={get basename(){return f},get future(){return m},get state(){return T},get routes(){return c},get window(){return e},initialize:Qe,subscribe:Rn,enableScrollRestoration:mr,navigate:zn,fetch:Js,revalidate:Ks,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:hr,resetFetcher:Ja,deleteFetcher:pi,dispose:cn,getBlocker:Xs,deleteBlocker:Yn,patchRoutes:gi,_internalFetchControllers:Y,_internalSetRoutes:kn,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){st(D)}},t.unstable_instrumentations&&(N=nM(N,t.unstable_instrumentations.map(D=>D.router).filter(Boolean))),N}function pM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ig(t,e,n,r,i,a){let l,c;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){c=f;break}}else l=e,c=e[e.length-1];let d=jy(r||".",Dy(l),jr(t.pathname,n)||t.pathname,a==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=Iy(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(b=>b).forEach(b=>p.append("index",b));let v=p.toString();d.search=v?`?${v}`:""}}return n!=="/"&&(d.pathname=JR({basename:n,pathname:d.pathname})),li(d)}function IS(t,e,n){if(!n||!pM(n))return{path:e};if(n.formMethod&&!DM(n.formMethod))return{path:e,error:Or(405,{method:n.formMethod})};let r=()=>({path:e,error:Or(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=ak(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Cn(a))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[b,w])=>`${v}${b}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Cn(a))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=Ug(n.formData),d=n.formData;else if(n.body instanceof FormData)c=Ug(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=VS(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=VS(c)}catch{return r()}let f={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Cn(f.formMethod))return{path:e,submission:f};let p=Gi(e);return t&&p.search&&Iy(p.search)&&c.append("index",""),p.search=`?${c}`,{path:li(p),submission:f}}function BS(t,e,n,r,i,a,l,c,d,f,p,m,v,b,w,x,S,k,O,R,U){let A=R?ar(R[1])?R[1].error:R[1].data:void 0,N=i.createURL(a.location),T=i.createURL(d),z;if(p&&a.errors){let re=Object.keys(a.errors)[0];z=l.findIndex(I=>I.route.id===re)}else if(R&&ar(R[1])){let re=R[0];z=l.findIndex(I=>I.route.id===re)-1}let G=R?R[1].statusCode:void 0,le=G&&G>=400,he={currentUrl:N,currentParams:a.matches[0]?.params||{},nextUrl:T,nextParams:l[0].params,...c,actionResult:A,actionStatus:G},ye=ou(l),Pe=l.map((re,I)=>{let{route:Q}=re,Y=null;if(z!=null&&I>z?Y=!1:Q.lazy?Y=!0:Ly(Q)?p?Y=Bg(Q,a.loaderData,a.errors):mM(a.loaderData,a.matches[I],re)&&(Y=!0):Y=!1,Y!==null)return Pg(n,r,t,ye,re,f,e,Y);let _e=!1;typeof U=="boolean"?_e=U:le?_e=!1:(m||N.pathname+N.search===T.pathname+T.search||N.search!==T.search||gM(a.matches[I],re))&&(_e=!0);let Ce={...he,defaultShouldRevalidate:_e},L=Tc(re,Ce);return Pg(n,r,t,ye,re,f,e,L,Ce,U)}),ue=[];return w.forEach((re,I)=>{if(p||!l.some(te=>te.route.id===re.routeId)||b.has(I))return;let Q=a.fetchers.get(I),Y=Q&&Q.state!=="idle"&&Q.data===void 0,_e=As(S,re.path,k);if(!_e){if(O&&Y)return;ue.push({key:I,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(x.has(I))return;let Ce=rf(_e,re.path),L=new AbortController,J=Vo(i,re.path,L.signal),W=null;if(v.has(I))v.delete(I),W=el(n,r,J,_e,Ce,f,e);else if(Y)m&&(W=el(n,r,J,_e,Ce,f,e));else{let te;typeof U=="boolean"?te=U:le?te=!1:te=m;let ce={...he,defaultShouldRevalidate:te};Tc(Ce,ce)&&(W=el(n,r,J,_e,Ce,f,e,ce))}W&&ue.push({key:I,routeId:re.routeId,path:re.path,matches:W,match:Ce,request:J,controller:L})}),{dsMatches:Pe,revalidatingFetchers:ue}}function Ly(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Bg(t,e,n){if(t.lazy)return!0;if(!Ly(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function mM(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function gM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Tc(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function PS(t,e,n,r,i,a){let l;if(t){let f=r[t];Ke(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],d=[];if(e.forEach(f=>{let p=l.find(m=>tk(f,m));p?d.push({existingRoute:p,newRoute:f}):c.push(f)}),c.length>0){let f=Pc(c,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(a&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:m}=d[f],v=p,[b]=Pc([m],i,[],{},!0);Object.assign(v,{element:b.element?b.element:v.element,errorElement:b.errorElement?b.errorElement:v.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:v.hydrateFallbackElement})}}function tk(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>tk(n,i))):!1}var US=new WeakMap,nk=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Ke(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let l=US.get(i);l||(l={},US.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let f=DR(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)$t(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(m)$t(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await a();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},HS=new WeakMap;function yM(t,e,n,r,i){let a=n[t.id];if(Ke(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=HS.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{Ke(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),b={};for(let w in v){let x=v[w];if(x===void 0)continue;let S=LR(w),O=a[w]!==void 0&&w!=="hasErrorBoundary";S?$t(!S,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?$t(!O,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):b[w]=x}Object.assign(a,b),Object.assign(a,{...r(a),lazy:void 0})})();return HS.set(a,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(i&&i.includes(p))continue;let m=nk({key:p,route:t,manifest:n,mapRouteProperties:r});m&&(c.push(m),p===e&&(d=m))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function $S(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function vM(t){return t.matches.some(e=>e.route.middleware)?rk(t,()=>$S(t)):$S(t)}function rk(t,e){return bM(t,e,r=>{if(NM(r))throw r;return r},AM,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(Math.max(l.findIndex(f=>f.route.id===i),0),Math.max(l.findIndex(f=>f.shouldCallHandler()),0)),d=Os(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function bM(t,e,n,r,i){let{matches:a,request:l,params:c,context:d,unstable_pattern:f}=t,p=a.flatMap(v=>v.route.middleware?v.route.middleware.map(b=>[v.route.id,b]):[]);return await ik({request:l,params:c,context:d,unstable_pattern:f},p,e,n,r,i)}async function ik(t,e,n,r,i,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let d=e[l];if(!d)return await n();let[f,p]=d,m,v=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await ik(t,e,n,r,i,a,l+1)},m.value}catch(b){return m={value:await a(b,f,m)},m.value}};try{let b=await p(t,v),w=b!=null?r(b):void 0;return i(w)?w:m?w??m.value:(m={value:await v()},m.value)}catch(b){return await a(b,f,m)}}function sk(t,e,n,r,i){let a=nk({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=yM(r.route,Cn(n.method)?"action":"loader",e,t,i);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Pg(t,e,n,r,i,a,l,c,d=null,f){let p=!1,m=sk(t,e,n,i,a);return{...i,_lazyPromises:m,shouldLoad:c,shouldRevalidateArgs:d,shouldCallHandler(v){return p=!0,d?typeof f=="boolean"?Tc(i,{...d,defaultShouldRevalidate:f}):typeof v=="boolean"?Tc(i,{...d,defaultShouldRevalidate:v}):Tc(i,d):c},resolve(v){let{lazy:b,loader:w,middleware:x}=i.route,S=p||c||v&&!Cn(n.method)&&(b||w),k=x&&x.length>0&&!w&&!b;return S&&(Cn(n.method)||!k)?SM({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function el(t,e,n,r,i,a,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:sk(t,e,n,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Pg(t,e,n,ou(r),d,a,l,!0,c))}async function wM(t,e,n,r,i,a){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,unstable_pattern:ou(n),params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,runClientMiddleware:f=>{let p=l;return rk(p,()=>f({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function SM({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:a,scopedContext:l}){let c,d,f=Cn(t.method),p=f?"action":"loader",m=v=>{let b,w=new Promise((k,O)=>b=O);d=()=>b(),t.signal.addEventListener("abort",d);let x=k=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:l},...k!==void 0?[k]:[]),S=(async()=>{try{return{type:"data",result:await(a?a(O=>x(O)):x())}}catch(k){return{type:"error",result:k}}})();return Promise.race([S,w])};try{let v=f?n.route.action:n.route.loader;if(r||i)if(v){let b,[w]=await Promise.all([m(v).catch(x=>{b=x}),r,i]);if(b!==void 0)throw b;c=w}else{await r;let b=f?n.route.action:n.route.loader;if(b)[c]=await Promise.all([m(b),i]);else if(p==="action"){let w=new URL(t.url),x=w.pathname+w.search;throw Or(405,{method:t.method,pathname:x,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)c=await m(v);else{let b=new URL(t.url),w=b.pathname+b.search;throw Or(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function xM(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function EM(t){let{result:e,type:n}=t;if(zy(e)){let r;try{r=await xM(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new au(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?WS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:CM(e),statusCode:Uc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Uc(e)?e.status:void 0}:WS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kM(t,e,n,r,i){let a=t.headers.get("Location");if(Ke(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ny(a)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=Ig(new URL(e.url),l,i,a),t.headers.set("Location",a)}return t}function qS(t,e,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ny(t)){let a=t,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(i.includes(l.protocol))throw new Error("Invalid redirect location");let c=jr(l.pathname,n)!=null;if(l.origin===e.origin&&c)return l.pathname+l.search+l.hash}try{let a=r.createURL(t);if(i.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Vo(t,e,n,r){let i=t.createURL(ak(e)).toString(),a={signal:n};if(r&&Cn(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=Ug(r.formData):a.body=r.formData}return new Request(i,a)}function Ug(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function VS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function TM(t,e,n,r=!1,i=!1){let a={},l=null,c,d=!1,f={},p=n&&ar(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let v=m.route.id,b=e[v];if(Ke(!_a(b),"Cannot handle redirect results in processLoaderData"),ar(b)){let w=b.error;if(p!==void 0&&(w=p,p=void 0),l=l||{},i)l[v]=w;else{let x=Os(t,v);l[x.route.id]==null&&(l[x.route.id]=w)}r||(a[v]=ek),d||(d=!0,c=Uc(b.error)?b.error.status:500),b.headers&&(f[v]=b.headers)}else a[v]=b.data,b.statusCode&&b.statusCode!==200&&!d&&(c=b.statusCode),b.headers&&(f[v]=b.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:f}}function FS(t,e,n,r,i,a){let{loaderData:l,errors:c}=TM(e,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:m}=d;if(m&&m.signal.aborted)return;let v=a[f];if(Ke(v,"Did not find corresponding fetcher result"),ar(v)){let b=Os(t.matches,p?.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:v.error}),t.fetchers.delete(f)}else if(_a(v))Ke(!1,"Unhandled fetcher revalidation redirect");else{let b=Pi(v.data);t.fetchers.set(f,b)}}),{loaderData:l,errors:c}}function GS(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==ek).reduce((a,[l,c])=>(a[l]=c,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function KS(t){return t?ar(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Os(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Rd(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Or(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new au(t||500,l,new Error(c),!0)}function Md(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_a(i))return{key:r,result:i}}}function ak(t){let e=typeof t=="string"?Gi(t):t;return li({...e,hash:""})}function _M(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function CM(t){return new au(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function AM(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&OM(n))}function OM(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function RM(t){return zy(t.result)&&QE.has(t.result.status)}function ar(t){return t.type==="error"}function _a(t){return(t&&t.type)==="redirect"}function WS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function zy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function MM(t){return QE.has(t)}function NM(t){return zy(t)&&MM(t.status)&&t.headers.has("Location")}function DM(t){return cM.has(t.toUpperCase())}function Cn(t){return oM.has(t.toUpperCase())}function Iy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function rf(t,e){let n=typeof e=="string"?Gi(e).search:e.search;if(t[t.length-1].route.index&&Iy(n||""))return t[t.length-1];let r=KE(t);return r[r.length-1]}function YS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Gm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function sc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Pi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zM(t,e){try{let n=t.sessionStorage.getItem(ZE);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function IM(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ZE,JSON.stringify(n))}catch(r){$t(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function JS(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var qa=M.createContext(null);qa.displayName="DataRouter";var lu=M.createContext(null);lu.displayName="DataRouterState";var ok=M.createContext(!1);function BM(){return M.useContext(ok)}var By=M.createContext({isTransitioning:!1});By.displayName="ViewTransition";var lk=M.createContext(new Map);lk.displayName="Fetchers";var PM=M.createContext(null);PM.displayName="Await";var Lr=M.createContext(null);Lr.displayName="Navigation";var ch=M.createContext(null);ch.displayName="Location";var di=M.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Py=M.createContext(null);Py.displayName="RouteError";var ck="REACT_ROUTER_ERROR",UM="REDIRECT",HM="ROUTE_ERROR_RESPONSE";function $M(t){if(t.startsWith(`${ck}:${UM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qM(t){if(t.startsWith(`${ck}:${HM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new au(e.status,e.statusText,e.data)}catch{}}function VM(t,{relative:e}={}){Ke(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Lr),{hash:i,pathname:a,search:l}=uu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:oi([n,a])),r.createHref({pathname:c,search:l,hash:i})}function cu(){return M.useContext(ch)!=null}function Va(){return Ke(cu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ch).location}var uk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dk(t){M.useContext(Lr).static||M.useLayoutEffect(t)}function Fa(){let{isDataRoute:t}=M.useContext(di);return t?iN():FM()}function FM(){Ke(cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(qa),{basename:e,navigator:n}=M.useContext(Lr),{matches:r}=M.useContext(di),{pathname:i}=Va(),a=JSON.stringify(Dy(r)),l=M.useRef(!1);return dk(()=>{l.current=!0}),M.useCallback((d,f={})=>{if($t(l.current,uk),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=jy(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:oi([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,i,t])}M.createContext(null);function GM(){let{matches:t}=M.useContext(di),e=t[t.length-1];return e?e.params:{}}function uu(t,{relative:e}={}){let{matches:n}=M.useContext(di),{pathname:r}=Va(),i=JSON.stringify(Dy(n));return M.useMemo(()=>jy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function KM(t,e,n,r,i){Ke(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(Lr),{matches:l}=M.useContext(di),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let O=m&&m.path||"";hk(f,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Va(),b;b=v;let w=b.pathname||"/",x=w;if(p!=="/"){let O=p.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=As(t,{pathname:x});return $t(m||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$t(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),QM(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:oi([p,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:oi([p,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i)}function WM(){let t=rN(),e=Uc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,l)}var YM=M.createElement(WM,null),fk=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=qM(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(di.Provider,{value:this.props.routeContext},M.createElement(Py.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(JM,{error:t},e):e}};fk.contextType=ok;var Km=new WeakMap;function JM({children:t,error:e}){let{basename:n}=M.useContext(Lr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=$M(e.digest);if(r){let i=Km.get(e);if(i)throw i;let a=YE(r.location,n);if(WE&&!Km.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Km.set(e,l),l}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function XM({routeContext:t,match:e,children:n}){let r=M.useContext(qa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(di.Provider,{value:t},n)}function QM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:b}=n,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ou(n.matches),errorInfo:m})}:void 0;return a.reduceRight((p,m,v)=>{let b,w=!1,x=null,S=null;n&&(b=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||YM,c&&(d<0&&v===0?(hk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===v&&(w=!0,S=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,v+1)),O=()=>{let R;return b?R=x:w?R=S:m.route.Component?R=M.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,M.createElement(XM,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?M.createElement(fk,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):O()},null)}function Uy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZM(t){let e=M.useContext(qa);return Ke(e,Uy(t)),e}function eN(t){let e=M.useContext(lu);return Ke(e,Uy(t)),e}function tN(t){let e=M.useContext(di);return Ke(e,Uy(t)),e}function Hy(t){let e=tN(t),n=e.matches[e.matches.length-1];return Ke(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nN(){return Hy("useRouteId")}function rN(){let t=M.useContext(Py),e=eN("useRouteError"),n=Hy("useRouteError");return t!==void 0?t:e.errors?.[n]}function iN(){let{router:t}=ZM("useNavigate"),e=Hy("useNavigate"),n=M.useRef(!1);return dk(()=>{n.current=!0}),M.useCallback(async(i,a={})=>{$t(n.current,uk),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var XS={};function hk(t,e,n){!e&&!XS[t]&&(XS[t]=!0,$t(!1,n))}var QS={};function ZS(t,e){!t&&!QS[e]&&(QS[e]=!0,console.warn(e))}var sN="useOptimistic",ex=UE[sN],aN=()=>{};function oN(t){return ex?ex(t):[t,aN]}function lN(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var cN=["HydrateFallback","hydrateFallbackElement"],uN=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function dN({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=BM()||r;let[a,l]=M.useState(t.state),[c,d]=oN(a),[f,p]=M.useState(),[m,v]=M.useState({isTransitioning:!1}),[b,w]=M.useState(),[x,S]=M.useState(),[k,O]=M.useState(),R=M.useRef(new Map),U=M.useCallback((z,{deletedFetchers:G,newErrors:le,flushSync:he,viewTransitionOpts:ye})=>{le&&n&&Object.values(le).forEach(ue=>n(ue,{location:z.location,params:z.matches[0]?.params??{},unstable_pattern:ou(z.matches)})),z.fetchers.forEach((ue,re)=>{ue.data!==void 0&&R.current.set(re,ue.data)}),G.forEach(ue=>R.current.delete(ue)),ZS(he===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Pe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(ZS(ye==null||Pe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ye||!Pe){e&&he?e(()=>l(z)):r===!1?l(z):M.startTransition(()=>{r===!0&&d(ue=>tx(ue,z)),l(z)});return}if(e&&he){e(()=>{x&&(b?.resolve(),x.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:ye.currentLocation,nextLocation:ye.nextLocation})});let ue=t.window.document.startViewTransition(()=>{e(()=>l(z))});ue.finished.finally(()=>{e(()=>{w(void 0),S(void 0),p(void 0),v({isTransitioning:!1})})}),e(()=>S(ue));return}x?(b?.resolve(),x.skipTransition(),O({state:z,currentLocation:ye.currentLocation,nextLocation:ye.nextLocation})):(p(z),v({isTransitioning:!0,flushSync:!1,currentLocation:ye.currentLocation,nextLocation:ye.nextLocation}))},[t.window,e,x,b,r,d,n]);M.useLayoutEffect(()=>t.subscribe(U),[t,U]),M.useEffect(()=>{m.isTransitioning&&!m.flushSync&&w(new uN)},[m]),M.useEffect(()=>{if(b&&f&&t.window){let z=f,G=b.promise,le=t.window.document.startViewTransition(async()=>{r===!1?l(z):M.startTransition(()=>{r===!0&&d(he=>tx(he,z)),l(z)}),await G});le.finished.finally(()=>{w(void 0),S(void 0),p(void 0),v({isTransitioning:!1})}),S(le)}},[f,b,t.window,r,d]),M.useEffect(()=>{b&&f&&c.location.key===f.location.key&&b.resolve()},[b,x,c.location,f]),M.useEffect(()=>{!m.isTransitioning&&k&&(p(k.state),v({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),O(void 0))},[m.isTransitioning,k]);let A=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:z=>t.navigate(z),push:(z,G,le)=>t.navigate(z,{state:G,preventScrollReset:le?.preventScrollReset}),replace:(z,G,le)=>t.navigate(z,{replace:!0,state:G,preventScrollReset:le?.preventScrollReset})}),[t]),N=t.basename||"/",T=M.useMemo(()=>({router:t,navigator:A,static:!1,basename:N,onError:n}),[t,A,N,n]);return M.createElement(M.Fragment,null,M.createElement(qa.Provider,{value:T},M.createElement(lu.Provider,{value:c},M.createElement(lk.Provider,{value:R.current},M.createElement(By.Provider,{value:m},M.createElement(pN,{basename:N,location:c.location,navigationType:c.historyAction,navigator:A,unstable_useTransitions:r},M.createElement(fN,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function tx(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var fN=M.memo(hN);function hN({routes:t,future:e,state:n,onError:r}){return KM(t,void 0,n,r,e)}function pN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){Ke(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[c,i,a,l]);typeof n=="string"&&(n=Gi(n));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:b="default"}=n,w=M.useMemo(()=>{let x=jr(f,c);return x==null?null:{location:{pathname:x,search:p,hash:m,state:v,key:b},navigationType:r}},[c,f,p,m,v,b,r]);return $t(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(Lr.Provider,{value:d},M.createElement(ch.Provider,{children:e,value:w}))}var sf="get",af="application/x-www-form-urlencoded";function uh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function mN(t){return uh(t)&&t.tagName.toLowerCase()==="button"}function gN(t){return uh(t)&&t.tagName.toLowerCase()==="form"}function yN(t){return uh(t)&&t.tagName.toLowerCase()==="input"}function vN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bN(t,e){return t.button===0&&(!e||e==="_self")&&!vN(t)}var Nd=null;function wN(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var SN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(t){return t!=null&&!SN.has(t)?($t(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):t}function xN(t,e){let n,r,i,a,l;if(gN(t)){let c=t.getAttribute("action");r=c?jr(c,e):null,n=t.getAttribute("method")||sf,i=Wm(t.getAttribute("enctype"))||af,a=new FormData(t)}else if(mN(t)||yN(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?jr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||sf,i=Wm(t.getAttribute("formenctype"))||Wm(c.getAttribute("enctype"))||af,a=new FormData(c,t),!wN()){let{name:f,type:p,value:m}=t;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(uh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sf,r=null,i=af,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EN(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&jr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function kN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _N(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await kN(a,n);return l.links?l.links():[]}return[]}));return RN(r.flat(1).filter(TN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nx(t,e,n,r,i,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function CN(t,e,{includeHydrateFallback:n}={}){return AN(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function AN(t){return[...new Set(t)]}function ON(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function RN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(ON(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function pk(){let t=M.useContext(qa);return $y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MN(){let t=M.useContext(lu);return $y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qy=M.createContext(void 0);qy.displayName="FrameworkContext";function mk(){let t=M.useContext(qy);return $y(t,"You must render this element inside a <HydratedRouter> element"),t}function NN(t,e){let n=M.useContext(qy),[r,i]=M.useState(!1),[a,l]=M.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,v=M.useRef(null);M.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=k=>{k.forEach(O=>{l(O.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),M.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ac(c,b),onBlur:ac(d,w),onMouseEnter:ac(f,b),onMouseLeave:ac(p,w),onTouchStart:ac(m,b)}]:[!1,v,{}]}function ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function DN({page:t,...e}){let{router:n}=pk(),r=M.useMemo(()=>As(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(LN,{page:t,matches:r,...e}):null}function jN(t){let{manifest:e,routeModules:n}=mk(),[r,i]=M.useState([]);return M.useEffect(()=>{let a=!1;return _N(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function LN({page:t,matches:e,...n}){let r=Va(),{future:i,manifest:a,routeModules:l}=mk(),{basename:c}=pk(),{loaderData:d,matches:f}=MN(),p=M.useMemo(()=>nx(t,e,f,a,r,"data"),[t,e,f,a,r]),m=M.useMemo(()=>nx(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(e.forEach(O=>{let R=a.routes[O.route.id];!R||!R.hasLoader||(!p.some(U=>U.route.id===O.route.id)&&O.route.id in d&&l[O.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:x.add(O.route.id))}),x.size===0)return[];let k=EN(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return S&&x.size>0&&k.searchParams.set("_routes",e.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[c,i.unstable_trailingSlashAwareDataRequests,d,r,a,p,e,t,l]),b=M.useMemo(()=>CN(m,a),[m,a]),w=jN(m);return M.createElement(M.Fragment,null,v.map(x=>M.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),b.map(x=>M.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:S})=>M.createElement("link",{key:x,nonce:n.nonce,...S,crossOrigin:S.crossOrigin??n.crossOrigin})))}function zN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IN&&(window.__reactRouterVersion="7.13.0")}catch{}function BN(t,e){return hM({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:OR({window:e?.window}),hydrationData:PN(),routes:t,mapRouteProperties:lN,hydrationRouteProperties:cN,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function PN(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:UN(t.errors)}),t}function UN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new au(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yk=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v,...b},w){let{basename:x,unstable_useTransitions:S}=M.useContext(Lr),k=typeof f=="string"&&gk.test(f),O=YE(f,x);f=O.to;let R=VM(f,{relative:i}),[U,A,N]=NN(r,b),T=qN(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function z(le){e&&e(le),le.defaultPrevented||T(le)}let G=M.createElement("a",{...b,...N,href:O.absoluteURL||R,onClick:O.isExternal||a?e:z,ref:zN(w,A),target:d,"data-discover":!k&&n==="render"?"true":void 0});return U&&!k?M.createElement(M.Fragment,null,G,M.createElement(DN,{page:R})):G});yk.displayName="Link";var vk=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},p){let m=uu(l,{relative:f.relative}),v=Va(),b=M.useContext(lu),{navigator:w,basename:x}=M.useContext(Lr),S=b!=null&&WN(m)&&c===!0,k=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,O=v.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),R=R?R.toLowerCase():null,k=k.toLowerCase()),R&&x&&(R=jr(R,x)||R);const U=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let A=O===k||!i&&O.startsWith(k)&&O.charAt(U)==="/",N=R!=null&&(R===k||!i&&R.startsWith(k)&&R.charAt(k.length)==="/"),T={isActive:A,isPending:N,isTransitioning:S},z=A?e:void 0,G;typeof r=="function"?G=r(T):G=[r,A?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let le=typeof a=="function"?a(T):a;return M.createElement(yk,{...f,"aria-current":z,className:G,ref:p,style:le,to:l,viewTransition:c},typeof d=="function"?d(T):d)});vk.displayName="NavLink";var HN=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=sf,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v,...b},w)=>{let{unstable_useTransitions:x}=M.useContext(Lr),S=GN(),k=KN(c,{relative:f}),O=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&gk.test(c),U=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let N=A.nativeEvent.submitter,T=N?.getAttribute("formmethod")||l,z=()=>S(N||A.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v});x&&n!==!1?M.startTransition(()=>z()):z()};return M.createElement("form",{ref:w,method:O,action:k,onSubmit:r?d:U,...b,"data-discover":!R&&t==="render"?"true":void 0})});HN.displayName="Form";function $N(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bk(t){let e=M.useContext(qa);return Ke(e,$N(t)),e}function qN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=Fa(),p=Va(),m=uu(t,{relative:a});return M.useCallback(v=>{if(bN(v,e)){v.preventDefault();let b=n!==void 0?n:li(p)===li(m),w=()=>f(t,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});d?M.startTransition(()=>w()):w()}},[p,f,m,n,r,e,t,i,a,l,c,d])}var VN=0,FN=()=>`__${String(++VN)}__`;function GN(){let{router:t}=bk("useSubmit"),{basename:e}=M.useContext(Lr),n=nN(),r=t.fetch,i=t.navigate;return M.useCallback(async(a,l={})=>{let{action:c,method:d,encType:f,formData:p,body:m}=xN(a,e);if(l.navigate===!1){let v=l.fetcherKey||FN();await r(v,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function KN(t,{relative:e}={}){let{basename:n}=M.useContext(Lr),r=M.useContext(di);Ke(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...uu(t||".",{relative:e})},l=Va();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:oi([n,a.pathname])),li(a)}function WN(t,{relative:e}={}){let n=M.useContext(By);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bk("useViewTransitionState"),i=uu(t,{relative:e});if(!n.isTransitioning)return!1;let a=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ff(i.pathname,l)!=null||ff(i.pathname,a)!=null}var wk=HE();const Sk=My(wk);function YN(t){return M.createElement(dN,{flushSync:wk.flushSync,...t})}const xk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const JN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const XN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const rx=t=>{const e=XN(t);return e.charAt(0).toUpperCase()+e.slice(1)};var QN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const eD=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>M.createElement("svg",{ref:d,...QN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xk("lucide",i),...!a&&!ZN(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>M.createElement(f,p)),...Array.isArray(a)?a:[a]]));const dr=(t,e)=>{const n=M.forwardRef(({className:r,...i},a)=>M.createElement(eD,{ref:a,iconNode:e,className:xk(`lucide-${JN(rx(t))}`,`lucide-${t}`,r),...i}));return n.displayName=rx(t),n};const tD=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],nD=dr("arrow-down-to-line",tD);const rD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],iD=dr("arrow-left",rD);const sD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ek=dr("chevron-left",sD);const aD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oD=dr("circle-check",aD);const lD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],cD=dr("ellipsis",lD);const uD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kk=dr("external-link",uD);const dD=[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],Tk=dr("image-up",dD);const fD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],du=dr("loader-circle",fD);const hD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hf=dr("pencil",hD);const pD=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mD=dr("trash",pD);const gD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yD=dr("triangle-alert",gD);const vD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bD=dr("user",vD);const wD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hc=dr("x",wD);function _k(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_k(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ck(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_k(t))&&(r&&(r+=" "),r+=e);return r}const SD=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},xD=(t,e)=>({classGroupId:t,validator:e}),Ak=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),pf="-",ix=[],ED="arbitrary..",kD=t=>{const e=_D(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return TD(l);const c=l.split(pf),d=c[0]===""&&c.length>1?1:0;return Ok(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?SD(f,d):d:f||ix}return n[l]||ix}}},Ok=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const f=Ok(t,e+1,a);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(pf):t.slice(e).join(pf),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},TD=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?ED+r:void 0})(),_D=t=>{const{theme:e,classGroups:n}=t;return CD(n,e)},CD=(t,e)=>{const n=Ak();for(const r in t){const i=t[r];Vy(i,n,r,e)}return n},Vy=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const l=t[a];AD(l,e,n,r)}},AD=(t,e,n,r)=>{if(typeof t=="string"){OD(t,e,n);return}if(typeof t=="function"){RD(t,e,n,r);return}MD(t,e,n,r)},OD=(t,e,n)=>{const r=t===""?e:Rk(e,t);r.classGroupId=n},RD=(t,e,n,r)=>{if(ND(t)){Vy(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(xD(n,t))},MD=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let l=0;l<a;l++){const[c,d]=i[l];Vy(d,Rk(e,c),n,r)}},Rk=(t,e)=>{let n=t;const r=e.split(pf),i=r.length;for(let a=0;a<i;a++){const l=r[a];let c=n.nextPart.get(l);c||(c=Ak(),n.nextPart.set(l,c)),n=c}return n},ND=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,DD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,l)=>{n[a]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in n?n[a]=l:i(a,l)}}},Hg="!",sx=":",jD=[],ax=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),LD=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let l=0,c=0,d=0,f;const p=i.length;for(let x=0;x<p;x++){const S=i[x];if(l===0&&c===0){if(S===sx){a.push(i.slice(d,x)),d=x+1;continue}if(S==="/"){f=x;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const m=a.length===0?i:i.slice(d);let v=m,b=!1;m.endsWith(Hg)?(v=m.slice(0,-1),b=!0):m.startsWith(Hg)&&(v=m.slice(1),b=!0);const w=f&&f>d?f-d:void 0;return ax(a,b,v,w)};if(e){const i=e+sx,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):ax(jD,!1,l,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},zD=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const l=n[a],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},ID=t=>({cache:DD(t.cacheSize),parseClassName:LD(t),sortModifiers:zD(t),...kD(t)}),BD=/\s+/,PD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],c=t.trim().split(BD);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:v,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let S=!!x,k=r(S?w.substring(0,x):w);if(!k){if(!S){d=p+(d.length>0?" "+d:d);continue}if(k=r(w),!k){d=p+(d.length>0?" "+d:d);continue}S=!1}const O=v.length===0?"":v.length===1?v[0]:a(v).join(":"),R=b?O+Hg:O,U=R+k;if(l.indexOf(U)>-1)continue;l.push(U);const A=i(k,S);for(let N=0;N<A.length;++N){const T=A[N];l.push(R+T)}d=p+(d.length>0?" "+d:d)}return d},UD=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=Mk(n))&&(i&&(i+=" "),i+=r);return i},Mk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Mk(t[r]))&&(n&&(n+=" "),n+=e);return n},HD=(t,...e)=>{let n,r,i,a;const l=d=>{const f=e.reduce((p,m)=>m(p),t());return n=ID(f),r=n.cache.get,i=n.cache.set,a=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=PD(d,n);return i(d,p),p};return a=l,(...d)=>a(UD(...d))},$D=[],en=t=>{const e=n=>n[t]||$D;return e.isThemeGetter=!0,e},Nk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qD=/^\d+\/\d+$/,VD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,No=t=>qD.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),ws=t=>!!t&&Number.isInteger(Number(t)),Ym=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),Li=t=>VD.test(t),jk=()=>!0,YD=t=>FD.test(t)&&!GD.test(t),Fy=()=>!1,JD=t=>KD.test(t),XD=t=>WD.test(t),QD=t=>!ve(t)&&!be(t),ZD=t=>qs(t,Ik,Fy),ve=t=>Nk.test(t),ya=t=>qs(t,Bk,YD),ox=t=>qs(t,o2,Ge),e2=t=>qs(t,Uk,jk),t2=t=>qs(t,Pk,Fy),lx=t=>qs(t,Lk,Fy),n2=t=>qs(t,zk,XD),Dd=t=>qs(t,Hk,JD),be=t=>Dk.test(t),oc=t=>Ga(t,Bk),r2=t=>Ga(t,Pk),cx=t=>Ga(t,Lk),i2=t=>Ga(t,Ik),s2=t=>Ga(t,zk),jd=t=>Ga(t,Hk,!0),a2=t=>Ga(t,Uk,!0),qs=(t,e,n)=>{const r=Nk.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ga=(t,e,n=!1)=>{const r=Dk.exec(t);return r?r[1]?e(r[1]):n:!1},Lk=t=>t==="position"||t==="percentage",zk=t=>t==="image"||t==="url",Ik=t=>t==="length"||t==="size"||t==="bg-size",Bk=t=>t==="length",o2=t=>t==="number",Pk=t=>t==="family-name",Uk=t=>t==="number"||t==="weight",Hk=t=>t==="shadow",l2=()=>{const t=en("color"),e=en("font"),n=en("text"),r=en("font-weight"),i=en("tracking"),a=en("leading"),l=en("breakpoint"),c=en("container"),d=en("spacing"),f=en("radius"),p=en("shadow"),m=en("inset-shadow"),v=en("text-shadow"),b=en("drop-shadow"),w=en("blur"),x=en("perspective"),S=en("aspect"),k=en("ease"),O=en("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...U(),be,ve],N=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],z=()=>[be,ve,d],G=()=>[No,"full","auto",...z()],le=()=>[ws,"none","subgrid",be,ve],he=()=>["auto",{span:["full",ws,be,ve]},ws,be,ve],ye=()=>[ws,"auto",be,ve],Pe=()=>["auto","min","max","fr",be,ve],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...z()],Q=()=>[No,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],Y=()=>[t,be,ve],_e=()=>[...U(),cx,lx,{position:[be,ve]}],Ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",i2,ZD,{size:[be,ve]}],J=()=>[Ym,oc,ya],W=()=>["","none","full",f,be,ve],te=()=>["",Ge,oc,ya],ce=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Ge,Ym,cx,lx],Le=()=>["","none",w,be,ve],Qe=()=>["none",Ge,be,ve],cn=()=>["none",Ge,be,ve],Rn=()=>[Ge,be,ve],st=()=>[No,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[jk],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[QD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Ge],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",No,ve,be,S]}],container:["container"],columns:[{columns:[Ge,ve,be,c]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[ws,"auto",be,ve]}],basis:[{basis:[No,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,No,"auto","initial","none",ve]}],grow:[{grow:["",Ge,be,ve]}],shrink:[{shrink:["",Ge,be,ve]}],order:[{order:[ws,"first","last","none",be,ve]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:he()}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:he()}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Pe()}],"auto-rows":[{"auto-rows":Pe()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[c,"screen",...Q()]}],"min-w":[{"min-w":[c,"screen","none",...Q()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,oc,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,a2,e2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ym,ve]}],"font-family":[{font:[r2,t2,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,be,ve]}],"line-clamp":[{"line-clamp":[Ge,"none",be,ox]}],leading:[{leading:[a,...z()]}],"list-image":[{"list-image":["none",be,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",be,ya]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Ge,"auto",be,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_e()}],"bg-repeat":[{bg:Ce()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ws,be,ve],radial:["",be,ve],conic:[ws,be,ve]},s2,n2]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,be,ve]}],"outline-w":[{outline:["",Ge,oc,ya]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",p,jd,Dd]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",m,jd,Dd]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Ge,ya]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",v,jd,Dd]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Ge,be,ve]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[be,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_e()}],"mask-repeat":[{mask:Ce()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ve]}],filter:[{filter:["","none",be,ve]}],blur:[{blur:Le()}],brightness:[{brightness:[Ge,be,ve]}],contrast:[{contrast:[Ge,be,ve]}],"drop-shadow":[{"drop-shadow":["","none",b,jd,Dd]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Ge,be,ve]}],"hue-rotate":[{"hue-rotate":[Ge,be,ve]}],invert:[{invert:["",Ge,be,ve]}],saturate:[{saturate:[Ge,be,ve]}],sepia:[{sepia:["",Ge,be,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ve]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,be,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,be,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,be,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,be,ve]}],"backdrop-invert":[{"backdrop-invert":["",Ge,be,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,be,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,be,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,be,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",be,ve]}],ease:[{ease:["linear","initial",k,be,ve]}],delay:[{delay:[Ge,be,ve]}],animate:[{animate:["none",O,be,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,be,ve]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:cn()}],"scale-x":[{"scale-x":cn()}],"scale-y":[{"scale-y":cn()}],"scale-z":[{"scale-z":cn()}],"scale-3d":["scale-3d"],skew:[{skew:Rn()}],"skew-x":[{"skew-x":Rn()}],"skew-y":[{"skew-y":Rn()}],transform:[{transform:[be,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ve]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Ge,oc,ya,ox]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},c2=HD(l2);function il(...t){return c2(Ck(t))}function u2({className:t,...e}){return C.jsx(du,{role:"status","aria-label":"Loading",className:il("size-4 animate-spin",t),...e})}function dh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function d2(t,e,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function d(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){p.done?a(p.value):i(p.value).then(c,d)}f((r=r.apply(t,e||[])).next())})}const f2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Gy extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class h2 extends Gy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ux extends Gy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dx extends Gy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $g;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($g||($g={}));class p2{constructor(e,{headers:n={},customFetch:r,region:i=$g.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=f2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return d2(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:c,method:d,body:f,signal:p,timeout:m}=r;let v={},{region:b}=r;b||(b=this.region);const w=new URL(`${this.url}/${n}`);b&&b!=="any"&&(v["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let x;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(v["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(v["Content-Type"]="application/json",x=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?x=JSON.stringify(f):x=f;let S=p;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),p?(S=l.signal,p.addEventListener("abort",()=>l.abort())):S=l.signal);const k=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:x,signal:S}).catch(A=>{throw new h2(A)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new ux(k);if(!k.ok)throw new dx(k);let R=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),U;return R==="application/json"?U=yield k.json():R==="application/octet-stream"||R==="application/pdf"?U=yield k.blob():R==="text/event-stream"?U=k:R==="multipart/form-data"?U=yield k.formData():U=yield k.text(),{data:U,error:null,response:k}}catch(c){return{data:null,error:c,response:c instanceof dx||c instanceof ux?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var m2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},g2=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,d=null,f=a.status,p=a.statusText;if(a.ok){var m,v;if(n.method!=="HEAD"){var b;const k=await a.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?c=k:c=JSON.parse(k))}const x=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),S=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");x&&S&&S.length>1&&(d=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var w;const x=await a.text();try{l=JSON.parse(x),Array.isArray(l)&&a.status===404&&(c=[],l=null,f=200,p="OK")}catch{a.status===404&&x===""?(f=204,p="No Content"):l={message:x}}if(l&&n.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&n.shouldThrowOnError)throw new m2(l)}return{error:l,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var l;let c="";const d=a?.cause;if(d){var f,p,m,v;const w=(f=d?.message)!==null&&f!==void 0?f:"",x=(p=d?.code)!==null&&p!==void 0?p:"";c=`${(m=a?.name)!==null&&m!==void 0?m:"FetchError"}: ${a?.message}`,c+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${w}`,x&&(c+=` (${x})`),d?.stack&&(c+=`
${d.stack}`)}else{var b;c=(b=a?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(l=a?.name)!==null&&l!==void 0?l:"FetchError"}: ${a?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},y2=class extends g2{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const fx=new RegExp("[,()]");var Fo=class extends y2{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&fx.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&fx.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},v2=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new Fo({method:i,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new Fo({method:i,url:a,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);c.searchParams.set("columns",p.join(","))}}return new Fo({method:l,url:c,headers:d,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Fo({method:r,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Fo({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},b2=class $k{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new v2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $k(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),m=r&&Object.values(n).some(p);m?(c="POST",f=n):r||i?(c=r?"HEAD":"GET",Object.entries(n).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{d.searchParams.append(b,w)})):(c="POST",f=n);const v=new Headers(this.headers);return m?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new Fo({method:c,url:d,headers:v,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class w2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S2="2.93.3",x2=`realtime-js/${S2}`,E2="1.0.0",qk="2.0.0",hx=qk,qg=1e4,k2=1e3,T2=100;var ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ks||(ks={}));var tn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tn||(tn={}));var Kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Kr||(Kr={}));var Vg;(function(t){t.websocket="websocket"})(Vg||(Vg={}));var Ea;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ea||(Ea={}));class _2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,n,r){var i,a;const l=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+m.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(b),x=0;w.setUint8(x++,this.KINDS.userBroadcastPush),w.setUint8(x++,d.length),w.setUint8(x++,c.length),w.setUint8(x++,l.length),w.setUint8(x++,f.length),w.setUint8(x++,m.length),w.setUint8(x++,n),Array.from(d,k=>w.setUint8(x++,k.charCodeAt(0))),Array.from(c,k=>w.setUint8(x++,k.charCodeAt(0))),Array.from(l,k=>w.setUint8(x++,k.charCodeAt(0))),Array.from(f,k=>w.setUint8(x++,k.charCodeAt(0))),Array.from(m,k=>w.setUint8(x++,k.charCodeAt(0)));var S=new Uint8Array(b.byteLength+r.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(r),b.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,l,c,d]=r;return n({join_ref:i,ref:a,topic:l,event:c,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+i));d=d+i;const p=r.decode(e.slice(d,d+a));d=d+a;const m=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,w={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Vk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(bt||(bt={}));const px=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=C2(l,t,e,i),a),{}):{}},C2=(t,e,n,r)=>{const i=e.find(c=>c.name===t),a=i?.type,l=n[t];return a&&!r.includes(a)?Fk(a,l):Fg(l)},Fk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return M2(e,n)}switch(t){case bt.bool:return A2(e);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return O2(e);case bt.json:case bt.jsonb:return R2(e);case bt.timestamp:return N2(e);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return Fg(e);default:return Fg(e)}},Fg=t=>t,A2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},O2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},R2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},M2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Fk(e,c))}return t},N2=t=>typeof t=="string"?t.replace(" ","T"):t,Gk=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Jm{constructor(e,n,r={},i=qg){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mx;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mx||(mx={}));class _c{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_c.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=_c.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_c.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(a,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const m=a[f];if(m){const v=p.map(S=>S.presence_ref),b=m.map(S=>S.presence_ref),w=p.filter(S=>b.indexOf(S.presence_ref)<0),x=m.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(c[f]=w),x.length>0&&(d[f]=x)}else c[f]=p}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const m=e[c].map(b=>b.presence_ref),v=p.filter(b=>m.indexOf(b.presence_ref)<0);e[c].unshift(...v)}r(c,p,d)}),this.map(l,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[c]=f,i(c,f,d),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gx||(gx={}));var Cc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cc||(Cc={}));var Hi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));class Qo{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jm(this,Kr.join,this.params,this.timeout),this.rejoinTimer=new Vk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new _c(this),this.broadcastEndpointURL=Gk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tn.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Cc.PRESENCE]&&this.bindings[Cc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Hi.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Hi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(Hi.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(w=x?.length)!==null&&w!==void 0?w:0,k=[];for(let O=0;O<S;O++){const R=x[O],{filter:{event:U,schema:A,table:N,filter:T}}=R,z=b&&b[O];if(z&&z.event===U&&Qo.isFilterValueEqual(z.schema,A)&&Qo.isFilterValueEqual(z.table,N)&&Qo.isFilterValueEqual(z.filter,T))k.push(Object.assign(Object.assign({},R),{id:z.id}));else{this.unsubscribe(),this.state=tn.errored,e?.(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Hi.SUBSCRIBED);return}}).receive("error",b=>{this.state=tn.errored,e?.(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===tn.joined&&e===Cc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Jm(this,Kr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Jm(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>T2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Kr;if(r&&[c,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,x,S;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(x=b.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var w,x,S,k,O,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const U=b.id,A=(w=b.filter)===null||w===void 0?void 0:w.event;return U&&((x=n.ids)===null||x===void 0?void 0:x.includes(U))&&(A==="*"||A?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const U=(O=(k=b?.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return U==="*"||U===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:x,table:S,commit_timestamp:k,type:O,errors:R}=w;v=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:k,eventType:O,new:{},old:{},errors:R}),this._getPayloadRecords(w))}b.callback(v,r)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Qo.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kr.close,{},e)}_onError(e){this._on(Kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=px(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=px(e.columns,e.old_record)),n}}const Xm=()=>{},Ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D2=[1e3,2e3,5e3,1e4],j2=1e4,L2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z2{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qg,this.transport=null,this.heartbeatIntervalMs=Ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xm,this.ref=0,this.reconnectTimer=null,this.vsn=hx,this.logger=Xm,this.conn=null,this.sendBuffer=[],this.serializer=new _2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vg.websocket}`,this.httpEndpoint=Gk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return Ea.Connecting;case ks.open:return Ea.Open;case ks.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Qo(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(k2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:l}=n,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ks.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ks.open||this.conn.readyState===ks.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([L2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:x2};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Kr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,l,c,d,f,p,m,v,b;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:qg,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ld.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Xm,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:hx,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>D2[w-1]||j2),this.vsn){case E2:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((w,x)=>x(JSON.stringify(w))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((w,x)=>x(JSON.parse(w)));break;case qk:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var $c=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function I2(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function B2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function P2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const c=I2(t.baseUrl,r,i),d=await B2(t.auth),f=await e(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),p=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!f.ok){const b=m?v:void 0,w=b?.error;throw new $c(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:b})}return{status:f.status,headers:f.headers,data:v}}}}function zd(t){return t.join("")}var U2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zd(t.namespace)}`}),!0}catch(e){if(e instanceof $c&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof $c&&n.status===409)return;throw n}}};function Do(t){return t.join("")}var H2=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof $c&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof $c&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},$2=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=P2({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new U2(this.client,e),this.tableOps=new H2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},fh=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function hh(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Id=class extends fh{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kk=class extends fh{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const q2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),V2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gg=t=>{if(Array.isArray(t))return t.map(n=>Gg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Gg(r)}),e},F2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function G2(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K2(t){var e=G2(t,"string");return qc(e)=="symbol"?e:e+""}function W2(t,e,n){return(e=K2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(n),!0).forEach(function(r){W2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const vx=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Y2=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const c=l?.statusCode||l?.code||a+"";e(new Id(vx(l),a,c,r))}).catch(()=>{if(r==="vectors"){const l=a+"";e(new Id(i.statusText||`HTTP ${a} error`,a,l,r))}else{const l=a+"";e(new Id(i.statusText||`HTTP ${a} error`,a,l,r))}});else{const l=a+"";e(new Id(i.statusText||`HTTP ${a} error`,a,l,r))}}else e(new Kk(vx(t),t,r))},J2=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?Ie(Ie({},i),n):(V2(r)?(i.headers=Ie({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Ie(Ie({},i),n))};async function lc(t,e,n,r,i,a,l){return new Promise((c,d)=>{t(n,J2(e,r,i,a)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(l==="vectors"){const p=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>c(f)).catch(f=>Y2(f,d,r,l))})}function Wk(t="storage"){return{get:async(e,n,r,i)=>lc(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,a)=>lc(e,"POST",n,i,a,r,t),put:async(e,n,r,i,a)=>lc(e,"PUT",n,i,a,r,t),head:async(e,n,r,i)=>lc(e,"HEAD",n,Ie(Ie({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,a)=>lc(e,"DELETE",n,i,a,r,t)}}const X2=Wk("storage"),{get:Vc,post:Gr,put:Kg,head:Q2,remove:Ky}=X2,or=Wk("vectors");var fl=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=q2(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hh(n))return{data:null,error:n};throw n}}},Z2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(hh(e))return{data:null,error:e};throw e}}};let Yk;Yk=Symbol.toStringTag;var ej=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Yk]="BlobDownloadBuilder",this.promise=null}asStream(){return new Z2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(hh(e))return{data:null,error:e};throw e}}};const tj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var nj=class extends fl{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let a;const l=Ie(Ie({},bx),r);let c=Ie(Ie({},i.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r?.headers&&(c=Ie(Ie({},c),r.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),m=await(t=="PUT"?Kg:Gr)(i.fetch,`${i.url}/object/${p}`,a,Ie({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{path:f,id:m.Id,fullPath:m.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),l=i._getFinalPath(a),c=new URL(i.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",e),i.handleOperation(async()=>{let d;const f=Ie({upsert:bx.upsert},r),p=Ie(Ie({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:a,fullPath:(await Kg(i.fetch,c.toString(),d,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=Ie({},n.headers);e?.upsert&&(i["x-upsert"]="true");const a=await Gr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+a.url),c=l.searchParams.get("token");if(!c)throw new fh("No token returned by API");return{signedUrl:l.toString(),path:t,token:c}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Gr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Gr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),a=await Gr(r.fetch,`${r.url}/object/sign/${i}`,Ie({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await Gr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(l=>Ie(Ie({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null}))})}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),l=()=>Vc(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new ej(l,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Gg(await Vc(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Q2(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(hh(r)&&r instanceof Kk){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Ky(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=Ie(Ie(Ie({},tj),e),{},{prefix:t||""});return await Gr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=Ie({},t);return await Gr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const rj="2.93.3",fu={"X-Client-Info":`storage-js/${rj}`};var ij=class extends fl{constructor(t,e={},n,r){const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),l=Ie(Ie({},fu),e);super(a,l,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Vc(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Gr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Kg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Gr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ky(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},sj=class extends fl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Ie(Ie({},fu),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Gr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Vc(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ky(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!F2(t))throw new fh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new $2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(i,c),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},aj=class extends fl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Ie(Ie({},fu),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await or.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await or.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},oj=class extends fl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Ie(Ie({},fu),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},lj=class extends fl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=Ie(Ie({},fu),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await or.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},cj=class extends lj{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new uj(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},uj=class extends aj{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new dj(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},dj=class extends oj{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Ie(Ie({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},fj=class extends ij{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new nj(this.url,this.headers,t,this.fetch)}get vectors(){return new cj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sj(this.url+"/iceberg",this.headers,this.fetch)}};const Jk="2.93.3",Go=30*1e3,Wg=3,Qm=Wg*Go,hj="http://localhost:9999",pj="supabase.auth.token",mj={"X-Client-Info":`gotrue-js/${Jk}`},Yg="X-Supabase-Api-Version",Xk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yj=600*1e3;class Fc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class vj extends Fc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bj(t){return Te(t)&&t.name==="AuthApiError"}class ka extends Fc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ki extends Fc{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class sr extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zm(t){return Te(t)&&t.name==="AuthSessionMissingError"}class jo extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bd extends Ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pd extends Ki{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wj(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class wx extends Ki{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sj extends Ki{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jg extends Ki{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function eg(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class Sx extends Ki{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xg extends Ki{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xx=` 	
\r=`.split(""),xj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xx.length;e+=1)t[xx[e].charCodeAt(0)]=-2;for(let e=0;e<mf.length;e+=1)t[mf[e].charCodeAt(0)]=e;return t})();function Ex(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mf[r]),e.queuedBits-=6}}function Qk(t,e,n){const r=xj[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kx(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Tj(l,r,n)};for(let l=0;l<t.length;l+=1)Qk(t.charCodeAt(l),i,a);return e.join("")}function Ej(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function kj(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Ej(r,e)}}function Tj(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function tl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Qk(t.charCodeAt(i),n,r);return new Uint8Array(e)}function _j(t){const e=[];return kj(t,n=>e.push(n)),new Uint8Array(e)}function Ca(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Ex(i,n,r)),Ex(null,n,r),e.join("")}function Cj(t){return Math.round(Date.now()/1e3)+t}function Aj(){return Symbol("auth-callback")}const vn=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},Zk=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function Oj(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const eT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Rj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ko=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ba=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yn=async(t,e)=>{await t.removeItem(e)};class ph{constructor(){this.promise=new ph.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ph.promiseConstructor=Promise;function Ud(t){const e=t.split(".");if(e.length!==3)throw new Xg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gj.test(e[r]))throw new Xg("JWT not in base64url format");return{header:JSON.parse(kx(e[0])),payload:JSON.parse(kx(e[1])),signature:tl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Mj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Nj(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function Dj(t){return("0"+t.toString(16)).substr(-2)}function jj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Dj).join("")}async function Lj(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function zj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Lj(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(t,e,n=!1){const r=jj();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ko(t,`${e}-code-verifier`,i);const a=await zj(r);return[a,r===a?"plain":"s256"]}const Ij=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bj(t){const e=t.headers.get(Yg);if(!e||!e.match(Ij))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Uj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zo(t){if(!Hj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $j(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function Tx(t){return JSON.parse(JSON.stringify(t))}const xa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qj=[502,503,504];async function _x(t){var e;if(!Rj(t))throw new Jg(xa(t),0);if(qj.includes(t.status))throw new Jg(xa(t),t.status);let n;try{n=await t.json()}catch(a){throw new ka(xa(a),a)}let r;const i=Bj(t);if(i&&i.getTime()>=Xk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sx(xa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Sx(xa(n),t.status,n.weak_password.reasons);throw new vj(xa(n),t.status||500,r)}const Vj=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function je(t,e,n,r){var i;const a=Object.assign({},r?.headers);a[Yg]||(a[Yg]=Xk["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await Fj(t,e,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Fj(t,e,n,r,i,a){const l=Vj(e,r,i,a);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new Jg(xa(d),0)}if(c.ok||await _x(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await _x(d)}}function Fr(t){var e;let n=null;Wj(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Cj(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Cx(t){const e=Fr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gj(t){return{data:t,error:null}}function Kj(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,l=dh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function Ax(t){return t}function Wj(t){return t.access_token&&t.refresh_token&&t.expires_in}const ng=["global","local","others"];class Yj{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=eT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ng[0]){if(ng.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ng.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rs})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dh(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Kj,redirectTo:n?.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rs})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ax});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=x}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){zo(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rs})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){zo(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Rs})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){zo(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rs})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){zo(e.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){zo(e.userId),zo(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ax});if(p.error)throw p.error;const m=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=x}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function Ox(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Io={debug:!!(globalThis&&Zk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Jj extends tT{}async function Xj(t,e,n){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Jj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Io.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Qj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nT(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Zj(t){return parseInt(t,16)}function eL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function tL(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:p,uri:m,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=nT(t.address),w=p?`${p}://${r}`:r,x=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${b}

${x}`;let k=`URI: ${m}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),d&&(k+=`
Request ID: ${d}`),f){let O=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);O+=`
- ${R}`}k+=O}return`${S}
${k}`}class Wt extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class gf extends Wt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function nL({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(rT(l)){if(a.rp.id!==l)return new Wt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function rL({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(rT(r)){if(n.rpId!==r)return new Wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class iL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sL=new iL;function aL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=dh(t,["challenge","user","excludeCredentials"]),a=tl(e).buffer,l=Object.assign(Object.assign({},n),{id:tl(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:tl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function oL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=dh(t,["challenge","allowCredentials"]),i=tl(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:tl(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function lL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ca(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ca(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ca(new Uint8Array(i.authenticatorData)),clientDataJSON:Ca(new Uint8Array(i.clientDataJSON)),signature:Ca(new Uint8Array(i.signature)),userHandle:i.userHandle?Ca(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rT(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Rx(){var t,e;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function uL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",e)}:{data:null,error:new gf("Empty credential response",e)}}catch(e){return{data:null,error:nL({error:e,options:t})}}}async function dL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",e)}:{data:null,error:new gf("Empty credential response",e)}}catch(e){return{data:null,error:rL({error:e,options:t})}}}const fL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=yf(c,l):r[a]=yf(l)}else r[a]=l}return r}function pL(t,e){return yf(fL,t,e||{})}function mL(t,e){return yf(hL,t,e||{})}class gL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){var l;try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const f=i??sL.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;if(!p.name){const m=r;if(m)p.name=`${p.id}:${m}`;else{const b=(await this.client.getUser()).data.user,w=((l=b?.user_metadata)===null||l===void 0?void 0:l.name)||b?.email||b?.id||"User";p.name=`${p.id}:${w}`}}p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=pL(c.webauthn.credential_options.publicKey,a?.create),{data:m,error:v}=await uL({publicKey:p,signal:f});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const p=mL(c.webauthn.credential_options.publicKey,a?.request),{data:m,error:v}=await dL(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:f}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(c){return Te(c)?{data:null,error:c}:{data:null,error:new ka("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Fc("rpId is required for WebAuthn authentication")};try{if(!Rx())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new ka("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Fc("rpId is required for WebAuthn registration")};try{if(!Rx())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new ka("Unexpected error in register",l)}}}}Qj();const yL={url:hj,storageKey:pj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mx(t,e,n){return await n()}const Bo={};class Gc{get jwks(){var e,n;return(n=(e=Bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Bo[this.storageKey]=Object.assign(Object.assign({},Bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bo[this.storageKey]=Object.assign(Object.assign({},Bo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},yL),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Gc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Gc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=eT(a.fetch),this.lock=a.lock||Mx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&vn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Xj:this.lock=Mx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Zk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ox(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ox(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jk}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(vn()&&(n=Oj(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),wj(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?this._returnResult({error:n}):this._returnResult({error:new ka("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Fr}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:p,password:m,options:v}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Lo(this.storage,this.storageKey)),a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:w},xform:Fr})}else if("phone"in e){const{phone:p,password:m,options:v}=e;a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Fr})}else throw new Bd("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await yn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:c}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Cx})}else if("phone"in e){const{phone:a,password:l,options:c}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Cx})}else throw new Bd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new jo;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,l,c,d,f,p,m,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:x,wallet:S,statement:k,options:O}=e;let R;if(vn())if(typeof S=="object")R=S;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")R=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}const U=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),A=await R.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=nT(A[0]);let T=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const G=await R.request({method:"eth_chainId"});T=Zj(G)}const z={domain:U.host,address:N,statement:k,uri:U.href,version:"1",chainId:T,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=tL(z),w=await R.request({method:"personal_sign",params:[eL(b),N]})}try{const{data:x,error:S}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fr});if(S)throw S;if(!x||!x.session||!x.user){const k=new jo;return this._returnResult({data:{user:null,session:null},error:k})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:S})}catch(x){if(Te(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,r,i,a,l,c,d,f,p,m,v,b;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:S,wallet:k,statement:O,options:R}=e;let U;if(vn())if(typeof k=="object")U=k;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))U=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const A=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const N=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),O?{statement:O}:null));let T;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")T=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)T=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),x=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${A.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=R?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((m=(p=R?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...R.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const N=await U.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:S,error:k}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ca(x)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Fr});if(k)throw k;if(!S||!S.session||!S.user){const O=new jo;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:k})}catch(S){if(Te(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await ba(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Sj;const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fr});if(await yn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=e,c=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Fr}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new jo;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,l;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lo(this.storage,this.storageKey));const{error:m}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Bd("You must provide either an email or phone number.")}catch(c){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Fr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Lo(this.storage,this.storageKey));const f=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Gj});return!((a=f.data)===null||a===void 0)&&a.url&&vn()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new sr;const{error:i}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:c}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new Bd("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Qm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await ba(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=tg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=$j(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rs}):await this._useSession(async n=>{var r,i,a;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sr}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Rs})})}catch(n){if(Te(n))return Zm(n)&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new sr;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Lo(this.storage,this.storageKey));const{data:f,error:p}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Rs});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sr;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=Ud(e.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new sr;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!vn())throw new Pd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wx("No code detected.");const{data:O,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=e;if(!a||!c||!l||!f)throw new Pd("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let v=p+m;d&&(v=parseInt(d));const b=v-p;b*1e3<=Go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const w=v-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:x,error:S}=await this._getUser(a);if(S)throw S;const k={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:l,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!Zm(a))return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(bj(c)&&(c.status===404||c.status===401||c.status===403)||Zm(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Aj(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lo(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,d,f,p;const{data:m,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return vn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Te(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:c,token:d,access_token:f,nonce:p}=e,m=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Fr}),{data:v,error:b}=m;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new jo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(i){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Nj(async i=>(i>0&&await Mj(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fr})),(i,a)=>{const l=200*Math.pow(2,i);return a&&eg(a)&&Date.now()+l-r<Go})}catch(r){if(this._debug(n,"error",r),Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ba(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ko(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l?.user)!==null&&e!==void 0?e:tg()}else if(i&&!i.user&&!i.user){const l=await ba(this.storage,this.storageKey+"-user");l&&l?.user?(i.user=l.user,await yn(this.storage,this.storageKey+"-user"),await Ko(this.storage,this.storageKey,i)):i.user=tg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qm;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Qm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),eg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&l?.user?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ph;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new sr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Te(a)){const l={data:null,error:a};return eg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ko(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Tx(i);await Ko(this.storage,this.storageKey,a)}else{const i=Tx(n);await Ko(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yn(this.storage,this.storageKey),await yn(this.storage,this.storageKey+"-code-verifier"),await yn(this.storage,this.storageKey+"-user"),this.userStorage&&await yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Go);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Go}ms, refresh threshold is ${Wg} ticks`),i<=Wg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Lo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await je(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lL(e.webauthn.credential_response):cL(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:aL(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:oL(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,a;if(e)try{const{payload:b}=Ud(e);let w=null;b.aal&&(w=b.aal);let x=w;const{data:{user:S},error:k}=await this.getUser(e);if(k)return this._returnResult({data:null,error:k});((r=(n=S?.factors)===null||n===void 0?void 0:n.filter(U=>U.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(x="aal2");const R=b.amr||[];return{data:{currentLevel:w,nextLevel:x,currentAuthenticationMethods:R},error:null}}catch(b){if(Te(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ud(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((a=(i=l.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new sr})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new sr});const l=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&vn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new sr});const l=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&vn()&&!n?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new sr})})}catch(e){if(Te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sr})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+yj>i)return r;const{data:a,error:l}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});r=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:d}}=Ud(r);n?.allowExpired||Pj(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const p=Uj(i.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,_j(`${c}.${d}`)))throw new Xg("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}}Gc.nextInstanceID={};const vL=Gc,bL="2.93.3";let bc="";typeof Deno<"u"?bc="deno":typeof document<"u"?bc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bc="react-native":bc="node";const wL={"X-Client-Info":`supabase-js-${bc}/${bL}`},SL={headers:wL},xL={schema:"public"},EL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kL={};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function TL(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _L(t){var e=TL(t,"string");return Kc(e)=="symbol"?e:e+""}function CL(t,e,n){return(e=_L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(n),!0).forEach(function(r){CL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const AL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OL=()=>Headers,RL=(t,e,n)=>{const r=AL(n),i=OL();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let f=new i(l?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Lt(Lt({},l),{},{headers:f}))}};function ML(t){return t.endsWith("/")?t:t+"/"}function NL(t,e){var n,r;const{db:i,auth:a,realtime:l,global:c}=t,{db:d,auth:f,realtime:p,global:m}=e,v={db:Lt(Lt({},d),i),auth:Lt(Lt({},f),a),realtime:Lt(Lt({},p),l),storage:{},global:Lt(Lt(Lt({},m),c),{},{headers:Lt(Lt({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function DL(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ML(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jL=class extends vL{constructor(t){super(t)}},LL=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=DL(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:xL,realtime:kL,auth:Lt(Lt({},EL),{},{storageKey:l}),global:SL},d=NL(n??{},c);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=RL(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Lt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new b2(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new fj(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new p2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:f},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jL({url:this.authUrl.href,headers:Lt(Lt({},v),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new z2(this.realtimeUrl.href,Lt(Lt({},t),{},{params:Lt(Lt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zL=(t,e,n)=>new LL(t,e,n);function IL(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}IL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BL="https://qnxquvnewtbzdgywthlw.supabase.co",PL="sb_publishable_mQpMKu1i5lS8h5PHKVjrJw_D6FpD3XT",ur=zL(BL,PL),Dx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jx=Ck,UL=(t,e)=>n=>{var r;if(e?.variants==null)return jx(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const p=n?.[f],m=a?.[f];if(p===null)return null;const v=Dx(p)||Dx(m);return i[f][v]}),c=n&&Object.entries(n).reduce((f,p)=>{let[m,v]=p;return v===void 0||(f[m]=v),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:v,...b}=p;return Object.entries(b).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...a,...c}[x]):{...a,...c}[x]===S})?[...f,m,v]:f},[]);return jx(t,l,d,n?.class,n?.className)},HL=UL("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function iT({className:t,variant:e,...n}){return C.jsx("div",{"data-slot":"alert",role:"alert",className:il(HL({variant:e}),t),...n})}function sT({className:t,...e}){return C.jsx("div",{"data-slot":"alert-title",className:il("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function aT({className:t,...e}){return C.jsx("div",{"data-slot":"alert-description",className:il("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function Qg({title:t,desc:e}){return C.jsxs(iT,{className:"max-w-md bg-[#34D399]    p-2 fixed top-2  sm:bottom-2 sm:top-auto sm:right-2  sm:ml-20 ml-12 sm:animate-[fadeIn_0.3s_ease-out_forwards] animate-[fadeOut_0.3s_ease-out_forwards] opacity-0",children:[C.jsx(oD,{}),C.jsx(sT,{children:t}),C.jsx(aT,{className:"p-0",children:e})]})}function Zg({errorMsg:t}){return C.jsxs(iT,{className:"max-w-md ml-6 border-amber-200 bg-amber-50 text-amber-900 dark:border-amber-900 dark:bg-amber-950 dark:text-amber-50",children:[C.jsx(yD,{}),C.jsxs(sT,{children:["Error Code. ",t.status," "]}),C.jsx(aT,{children:t.message})]})}function $L(){const[t,e]=M.useState(null),[n,r]=M.useState(),i=M.useRef(),a=M.useRef(),l=Fa();async function c(){event.preventDefault();let d=i.current.value,f=a.current.value,{data:p,error:m}=await ur.auth.signInWithPassword({email:d,password:f});if(m){console.log("error is."),e(m);return}p&&(console.log("Data is."),console.log(p),e(null),r(!0),l("/auth"))}return C.jsxs("div",{className:"bg-[url('/background.jpeg')] min-h-screen max-w-screen bg-center bg-cover ",children:[C.jsx("h1",{className:"text-3xl font-bold px-2 text-clip b inline text-transparent bg-clip-text bg-linear-to-r from-indigo-400 to-pink-600  w-full ",children:"Pennat"}),C.jsxs("div",{className:"mt-16",children:[C.jsx("p",{className:"text-4xl m-3 font-bold font-[verdana] md:text-7xl sm:text-5xl p-2 text-white",children:"Welcome to new era. of digital jouranling"}),C.jsx("p",{className:"px-2 text-2xl border-s-4 ml-12 font-semibold font-sans my-8 w-fit   rounded text-white",children:"Login to your account"}),C.jsxs("form",{action:".",onSubmit:c,children:[C.jsxs("div",{className:"mx-12",children:[C.jsx("label",{htmlFor:"email",className:"font-stretch-50% font-normal font-[verdana] text-black sm:text-white",children:"Enter your email"})," ",C.jsx("br",{}),C.jsx("input",{ref:i,type:"email",id:"email",required:!0,title:"Enter your email",placeholder:"pennat@exmple.com",className:`p-2 border rounded  \r
               bg-slate-300 \r
              \r
               min-w-56 text-black`}),C.jsx("br",{}),C.jsx("label",{htmlFor:"password",className:"font-stretch-50% font-normal  font-[verdana] text-black sm:text-white",children:"Enter your password"})," ",C.jsx("br",{}),C.jsx("input",{ref:a,type:"text",id:"password",required:!0,placeholder:"",minLength:6,maxLength:20,title:"enter your password",className:`p-2 border rounded  \r
                 \r
               bg-slate-300 \r
              \r
               min-w-56 text-black`})," ",C.jsx("br",{}),C.jsx("p",{className:"text-sm text-slate-200"})]}),C.jsx("button",{type:"submit",className:"bg-slate-900 px-4 py-2 mx-4 my-4 ml-12 border  text-white cursor-pointer",children:"Continue"}),t&&C.jsx(Zg,{errorMsg:t})]}),n&&C.jsx(Qg,{title:"Logged in  successfully",desc:"Your profile information has been loaded."}),C.jsx("br",{}),C.jsxs("p",{className:"text-sm text-slate-200 ml-12",children:["Don't have an account?"," ",C.jsxs("span",{onClick:()=>{l("/signup")},className:"text-blue-200 cursor-pointer underline ",children:["Create one",C.jsx(kk,{className:"inline ml-1 mb-1",size:"12px"})]})]})]})]})}function qL(){const[t,e]=M.useState(null),[n,r]=M.useState(null),[i,a]=M.useState(!1),[l,c]=M.useState(),d=Fa(),f=M.useRef(),p=M.useRef(),m=M.useRef(),v=M.useRef(),b=M.useRef();async function w(){event.preventDefault();let S=f.current.value,k=p.current.value,{error:O,data:R}=await ur.auth.signUp({email:S,password:k,options:{data:{}}});if(O){console.log("error is."),e(O),r(null);return}R&&(console.log("Data is."),console.log(R),e(null),r(R.user),c(!0),setTimeout(()=>{a(!0),c(!1)},1e3),console.log(R.user))}async function x(){console.log(n),event.preventDefault();let S=m.current.value,k=b.current.value,O=v.current.value;console.log({fullname:S,username:k,dob:O});let{data:R,error:U}=await ur.from("UserTable").insert([{username:k,name:S,email:n.email,gender:"1"}]).select();if(U){e(U);return}R&&(console.log(R),c(!0),setTimeout(()=>{c(!1),d("/auth")},3e3))}return C.jsxs("div",{className:"bg-[url('/background.jpeg')] min-h-screen max-w-screen bg-center bg-cover ",children:[C.jsx("h1",{className:"text-3xl font-bold px-2 text-clip b inline text-transparent bg-clip-text bg-linear-to-r from-indigo-400 to-pink-600  w-full ",children:"Pennat"}),C.jsxs("div",{className:"mt-16",children:[C.jsx("p",{className:"text-4xl m-3 font-bold font-[verdana] md:text-7xl sm:text-5xl p-2 text-white",children:"Welcome to new era. of digital jouranling"}),C.jsx("p",{className:"px-2 text-2xl border-s-4 ml-12 font-semibold font-sans my-8 w-fit   rounded text-white",children:"Create an account."}),!i&&C.jsxs("form",{action:".",onSubmit:w,children:[C.jsxs("div",{className:"mx-12",children:[C.jsx("label",{htmlFor:"email",className:"font-stretch-50% font-normal font-[verdana] text-black sm:text-white",children:"Enter your email"})," ",C.jsx("br",{}),C.jsx("input",{ref:f,type:"email",id:"email",required:!0,placeholder:"pennat@exmple.com",className:`p-2 border rounded  \r
            bg-slate-300 \r
           \r
            min-w-56 text-black`}),C.jsx("br",{}),C.jsx("label",{htmlFor:"password",className:"font-stretch-50% font-normal  font-[verdana] text-black sm:text-white",children:"Enter your password"})," ",C.jsx("br",{}),C.jsx("input",{ref:p,type:"text",id:"password",required:!0,placeholder:"Abcd1234$$@",minLength:6,maxLength:20,className:`p-2 border rounded  \r
              \r
            bg-slate-300 \r
           \r
            min-w-56 text-black`})," ",C.jsx("br",{}),C.jsx("p",{className:"text-sm text-slate-200",children:"Min. length 6, include uppercase,lowercase,numbers and special symbols"})]}),C.jsx("button",{type:"submit",className:"bg-slate-900 px-4 py-2 mx-4 my-4 ml-12 border  text-white cursor-pointer ",children:"Continue"}),t&&C.jsx(Zg,{errorMsg:t}),l&&C.jsx(Qg,{title:"Account created successfully",desc:"Please provide few details too."})]}),i&&C.jsxs("form",{action:".",onSubmit:x,children:[C.jsxs("div",{className:"mx-12",children:[C.jsx("label",{htmlFor:"fullname",className:"font-stretch-50% font-normal font-[verdana] text-black sm:text-white",children:"Enter your fullname"})," ",C.jsx("br",{}),C.jsx("input",{ref:m,type:"text",id:"fullname",required:!0,pattern:"[A-Za-z]+( [A-Za-z]+)*",title:"Enter a valid name (letters only, single space allowed)",placeholder:"John Doe",className:`p-2 border rounded  \r
            bg-slate-300 \r
              min-w-56 text-black`}),C.jsx("br",{}),C.jsx("label",{htmlFor:"username",className:"font-stretch-50% font-normal  font-[verdana] text-black sm:text-white",children:"Create an username"})," ",C.jsx("br",{}),C.jsx("input",{ref:b,type:"text",id:"username",required:!0,placeholder:"johne_doe1",minLength:4,pattern:"[a-z0-9_]+",className:`p-2 border rounded  \r
              \r
            bg-slate-300 \r
           \r
            min-w-56 text-black`})," ",C.jsx("br",{}),C.jsx("p",{className:"text-sm text-slate-200",children:"Lowercase letters,numbers and _ is allowed.Keep it atleast four character long."}),C.jsx("br",{}),C.jsx("label",{htmlFor:"dob",className:"font-stretch-50% font-normal  font-[verdana] text-black sm:text-white",children:"Enter your DOB."})," ",C.jsx("br",{}),C.jsx("input",{ref:v,type:"date",id:"dob",required:!0,placeholder:"YYYY-MM-DD",minLength:4,className:`p-2 border rounded  \r
              \r
            bg-slate-300 \r
           \r
            min-w-56 text-black`})," "]}),C.jsx("button",{type:"submit",className:"bg-slate-900 px-4 py-2 mx-4 my-4 ml-12 border  text-white cursor-pointer",children:"Continue"}),t&&C.jsx(Zg,{errorMsg:t}),l&&C.jsx(Qg,{title:"Details saved successfully",desc:"Your profile information has been saved. Changes will be reflected immediately."})]})]}),C.jsxs("p",{className:"text-sm text-slate-200 ml-12",children:["Already have an account?"," ",C.jsxs("span",{onClick:()=>{d("/login")},className:"text-blue-200 cursor-pointer underline ",children:["Log in",C.jsx(kk,{className:"inline ml-1 mb-1",size:"12px"})]})]})]})}function VL(){const t=Fa();return C.jsxs("nav",{className:`flex   w-full justify-between px-4 fixed \r
		dark:bg-[#121212]\r
		top-0  z-2  py-2`,children:[C.jsx("div",{children:C.jsx("h1",{className:"font-bold text-3xl pl-2",children:"Pennat"})}),C.jsx("div",{children:C.jsx("ul",{className:`flex\r
             justify-evenly  \r
             *:p-2\r
              *:px-3\r
            [&>li:hover]:bg-slate-900\r
             *:my-1\r
              *:rounded-full\r
\r
             [&>li:hover]:text-white\r
               [&>li:hover]:cursor-pointer`,children:C.jsx("li",{onClick:()=>{t("/profile")},children:C.jsxs("span",{className:"flex flex-col sm:flex-row items-center text-xs sm:text-[1rem]",children:[" ",C.jsx(bD,{height:"16px"}),C.jsx("span",{className:"",children:"Profile"})]})})})})]})}const Wc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAMAAABC4vDmAAAARVBMVEX6+vqPj4/////l5eWMjIyIiIj19fWCgoKVlZXGxsaYmJiSkpKxsbG3t7fp6eny8vKkpKS+vr7Nzc2qqqrf39/X19eenp7INw94AAAC6UlEQVR4nO2b27KrIAxAMXLxBqJo//9TD9o9s7trVawYPDNZD20f14RbSChjBEEQBEEQBEEQBEEQxE2BiecnpHZ5AtAOpbZVXVdW94O8gRdA3hSZEJxnGedCZJU2ibUARqu8zitc2TGlFRjL35RmLe7aZFrQiw9KT61UwQItPitNiC6JFbgNJ2+lU1g1m05JrKDbcfJWPbIVDGrPKctUjmslq32njD9QnQIGbx7AEjNUMmDw5lghSoFe2TRThqoNmVFzpPBmFYxBM2q2GrBCtXm+pBo/CFWaxg9tUgWuvTlUSFKQH5BSLZJU+DzHO2p8bndg+JCWH5RHpJBS0EORUlhSd5xTzNxw9d1yn2JQBzvh7ej3PPvGwHTKRypHcrpnPhWaoiPfsoJzdDyl8NsM7nVUPgLmOreYSqE3ZIN9b99PFbAShFerZidWKkWFCrZrQYmqZkxvxEqhlhFegLFeWYOiQLuELq3MomA9wVWTrjo8aeWOv00twR1ysWxpxQYtlOA/CMW7nKVvhDAA02tnPU737Q1aMz9MJlI+vwnifwegNfkXmAvbpTC6IvzK90JdNBcdOytnShhcXdKXhCH7WmnWKi7IQ9tzTt6qil7rAHfSyZ/UTeRQwXDaycfKRJbqYkjFzkZtDKkmrpOsYkhFvpwGdUJJapIq7jh8IQWNXSkXV4qd3zvjr77grvGmVOSbPJQxpCLX0CCPIRX9RP4qu/tLFTt3OdRP+8wFFVBzevzq+L2j03lC9BxhQp6T4ll8pYO9xyUXNZMPNK8+OF1VAgX7tVX0/PwXuf1gccvpKiW2+4xy1enih4zl2iPYdXjsM28BDI8Dbe0JZa+vywIri/BocV70KHVZkGURVurgqiolWmebjbbeCxcXtR1Rq9cAee+m+vnKoAnFXZ/gCT8wmXeuKnxIxG9x3//MiocrDUtV4p/+/GGGsS+1bpyn0V3Zj3nLkv8rBN5Jq0MQBEEQBEEQBEEQBEGs8Q9UMiC2Cz0iwAAAAABJRU5ErkJggg==",hu=M.createContext(),pu=M.createContext(),Wy=M.createContext();pu.Provider;Wy.Provider;hu.Provider;var cc={},Po={},Hd={},Ss={},wa={},rg={},Lx;function oT(){return Lx||(Lx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(rg)),rg}var qe={},zx;function Ix(){if(zx)return qe;zx=1;var t=qe&&qe.__extends||(function(){var A=function(N,T){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var le in G)Object.prototype.hasOwnProperty.call(G,le)&&(z[le]=G[le])},A(N,T)};return function(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");A(N,T);function z(){this.constructor=N}N.prototype=T===null?Object.create(T):(z.prototype=T.prototype,new z)}})(),e=qe&&qe.__assign||function(){return e=Object.assign||function(A){for(var N,T=1,z=arguments.length;T<z;T++){N=arguments[T];for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(A[G]=N[G])}return A},e.apply(this,arguments)};Object.defineProperty(qe,"__esModule",{value:!0}),qe.cloneNode=qe.hasChildren=qe.isDocument=qe.isDirective=qe.isComment=qe.isText=qe.isCDATA=qe.isTag=qe.Element=qe.Document=qe.CDATA=qe.NodeWithChildren=qe.ProcessingInstruction=qe.Comment=qe.Text=qe.DataNode=qe.Node=void 0;var n=oT(),r=(function(){function A(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(A.prototype,"parentNode",{get:function(){return this.parent},set:function(N){this.parent=N},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"previousSibling",{get:function(){return this.prev},set:function(N){this.prev=N},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"nextSibling",{get:function(){return this.next},set:function(N){this.next=N},enumerable:!1,configurable:!0}),A.prototype.cloneNode=function(N){return N===void 0&&(N=!1),R(this,N)},A})();qe.Node=r;var i=(function(A){t(N,A);function N(T){var z=A.call(this)||this;return z.data=T,z}return Object.defineProperty(N.prototype,"nodeValue",{get:function(){return this.data},set:function(T){this.data=T},enumerable:!1,configurable:!0}),N})(r);qe.DataNode=i;var a=(function(A){t(N,A);function N(){var T=A!==null&&A.apply(this,arguments)||this;return T.type=n.ElementType.Text,T}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),N})(i);qe.Text=a;var l=(function(A){t(N,A);function N(){var T=A!==null&&A.apply(this,arguments)||this;return T.type=n.ElementType.Comment,T}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),N})(i);qe.Comment=l;var c=(function(A){t(N,A);function N(T,z){var G=A.call(this,z)||this;return G.name=T,G.type=n.ElementType.Directive,G}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),N})(i);qe.ProcessingInstruction=c;var d=(function(A){t(N,A);function N(T){var z=A.call(this)||this;return z.children=T,z}return Object.defineProperty(N.prototype,"firstChild",{get:function(){var T;return(T=this.children[0])!==null&&T!==void 0?T:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"childNodes",{get:function(){return this.children},set:function(T){this.children=T},enumerable:!1,configurable:!0}),N})(r);qe.NodeWithChildren=d;var f=(function(A){t(N,A);function N(){var T=A!==null&&A.apply(this,arguments)||this;return T.type=n.ElementType.CDATA,T}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),N})(d);qe.CDATA=f;var p=(function(A){t(N,A);function N(){var T=A!==null&&A.apply(this,arguments)||this;return T.type=n.ElementType.Root,T}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),N})(d);qe.Document=p;var m=(function(A){t(N,A);function N(T,z,G,le){G===void 0&&(G=[]),le===void 0&&(le=T==="script"?n.ElementType.Script:T==="style"?n.ElementType.Style:n.ElementType.Tag);var he=A.call(this,G)||this;return he.name=T,he.attribs=z,he.type=le,he}return Object.defineProperty(N.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"tagName",{get:function(){return this.name},set:function(T){this.name=T},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"attributes",{get:function(){var T=this;return Object.keys(this.attribs).map(function(z){var G,le;return{name:z,value:T.attribs[z],namespace:(G=T["x-attribsNamespace"])===null||G===void 0?void 0:G[z],prefix:(le=T["x-attribsPrefix"])===null||le===void 0?void 0:le[z]}})},enumerable:!1,configurable:!0}),N})(d);qe.Element=m;function v(A){return(0,n.isTag)(A)}qe.isTag=v;function b(A){return A.type===n.ElementType.CDATA}qe.isCDATA=b;function w(A){return A.type===n.ElementType.Text}qe.isText=w;function x(A){return A.type===n.ElementType.Comment}qe.isComment=x;function S(A){return A.type===n.ElementType.Directive}qe.isDirective=S;function k(A){return A.type===n.ElementType.Root}qe.isDocument=k;function O(A){return Object.prototype.hasOwnProperty.call(A,"children")}qe.hasChildren=O;function R(A,N){N===void 0&&(N=!1);var T;if(w(A))T=new a(A.data);else if(x(A))T=new l(A.data);else if(v(A)){var z=N?U(A.children):[],G=new m(A.name,e({},A.attribs),z);z.forEach(function(Pe){return Pe.parent=G}),A.namespace!=null&&(G.namespace=A.namespace),A["x-attribsNamespace"]&&(G["x-attribsNamespace"]=e({},A["x-attribsNamespace"])),A["x-attribsPrefix"]&&(G["x-attribsPrefix"]=e({},A["x-attribsPrefix"])),T=G}else if(b(A)){var z=N?U(A.children):[],le=new f(z);z.forEach(function(ue){return ue.parent=le}),T=le}else if(k(A)){var z=N?U(A.children):[],he=new p(z);z.forEach(function(ue){return ue.parent=he}),A["x-mode"]&&(he["x-mode"]=A["x-mode"]),T=he}else if(S(A)){var ye=new c(A.name,A.data);A["x-name"]!=null&&(ye["x-name"]=A["x-name"],ye["x-publicId"]=A["x-publicId"],ye["x-systemId"]=A["x-systemId"]),T=ye}else throw new Error("Not implemented yet: ".concat(A.type));return T.startIndex=A.startIndex,T.endIndex=A.endIndex,A.sourceCodeLocation!=null&&(T.sourceCodeLocation=A.sourceCodeLocation),T}qe.cloneNode=R;function U(A){for(var N=A.map(function(z){return R(z,!0)}),T=1;T<N.length;T++)N[T].prev=N[T-1],N[T-1].next=N[T];return N}return qe}var Bx;function lT(){return Bx||(Bx=1,(function(t){var e=wa&&wa.__createBinding||(Object.create?(function(c,d,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(d,f);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(c,p,m)}):(function(c,d,f,p){p===void 0&&(p=f),c[p]=d[f]})),n=wa&&wa.__exportStar||function(c,d){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&e(d,c,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=oT(),i=Ix();n(Ix(),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=(function(){function c(d,f,p){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof f=="function"&&(p=f,f=a),typeof d=="object"&&(f=d,d=void 0),this.callback=d??null,this.options=f??a,this.elementCB=p??null}return c.prototype.onparserinit=function(d){this.parser=d},c.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(d){this.handleCallback(d)},c.prototype.onclosetag=function(){this.lastNode=null;var d=this.tagStack.pop();this.options.withEndIndices&&(d.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(d)},c.prototype.onopentag=function(d,f){var p=this.options.xmlMode?r.ElementType.Tag:void 0,m=new i.Element(d,f,void 0,p);this.addNode(m),this.tagStack.push(m)},c.prototype.ontext=function(d){var f=this.lastNode;if(f&&f.type===r.ElementType.Text)f.data+=d,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{var p=new i.Text(d);this.addNode(p),this.lastNode=p}},c.prototype.oncomment=function(d){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=d;return}var f=new i.Comment(d);this.addNode(f),this.lastNode=f},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var d=new i.Text(""),f=new i.CDATA([d]);this.addNode(f),d.parent=f,this.lastNode=d},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(d,f){var p=new i.ProcessingInstruction(d,f);this.addNode(p)},c.prototype.handleCallback=function(d){if(typeof this.callback=="function")this.callback(d,this.dom);else if(d)throw d},c.prototype.addNode=function(d){var f=this.tagStack[this.tagStack.length-1],p=f.children[f.children.length-1];this.options.withStartIndices&&(d.startIndex=this.parser.startIndex),this.options.withEndIndices&&(d.endIndex=this.parser.endIndex),f.children.push(d),p&&(d.prev=p,p.next=d),d.parent=f,this.lastNode=null},c})();t.DomHandler=l,t.default=l})(wa)),wa}var ig={},Px;function FL(){return Px||(Px=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now().toString(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")})(ig)),ig}var Ux;function cT(){if(Ux)return Ss;Ux=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.formatAttributes=r,Ss.hasOpenTag=a,Ss.escapeSpecialCharacters=l,Ss.revertEscapedCharacters=c,Ss.formatDOM=d;var t=lT(),e=FL();function n(f){return e.CASE_SENSITIVE_TAG_NAMES_MAP[f]}function r(f){for(var p={},m=0,v=f.length;m<v;m++){var b=f[m];p[b.name]=b.value}return p}function i(f){f=f.toLowerCase();var p=n(f);return p||f}function a(f,p){var m="<"+p,v=f.toLowerCase().indexOf(m);if(v===-1)return!1;var b=f[v+m.length];return b===">"||b===" "||b==="	"||b===`
`||b==="\r"||b==="/"}function l(f){return f.replace(e.CARRIAGE_RETURN_REGEX,e.CARRIAGE_RETURN_PLACEHOLDER)}function c(f){return f.replace(e.CARRIAGE_RETURN_PLACEHOLDER_REGEX,e.CARRIAGE_RETURN)}function d(f,p,m){var v,b,w,x;p===void 0&&(p=null);for(var S=[],k,O=0,R=f.length;O<R;O++){var U=f[O];switch(U.nodeType){case 1:{var A=i(U.nodeName);k=new t.Element(A,r(U.attributes)),k.children=d(A==="template"?U.content.childNodes:U.childNodes,k);break}case 3:k=new t.Text(c((v=U.nodeValue)!==null&&v!==void 0?v:""));break;case 8:k=new t.Comment((b=U.nodeValue)!==null&&b!==void 0?b:"");break;default:continue}var N=(w=S[O-1])!==null&&w!==void 0?w:null;N&&(N.next=k),k.parent=p,k.prev=N,k.next=null,S.push(k)}return m&&(k=new t.ProcessingInstruction(m.substring(0,m.indexOf(" ")).toLowerCase(),m),k.next=(x=S[0])!==null&&x!==void 0?x:null,k.parent=p,S.unshift(k),S[1]&&(S[1].prev=S[0])),S}return Ss}var Hx;function GL(){if(Hx)return Hd;Hx=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.default=w;var t=cT(),e="html",n="head",r="body",i=/<([a-zA-Z]+[0-9]?)/,a=function(x,S){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(x,S){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},c=typeof window=="object"&&window.DOMParser;if(typeof c=="function"){var d=new c,f="text/html";l=function(x,S){return S&&(x="<".concat(S,">").concat(x,"</").concat(S,">")),d.parseFromString(x,f)},a=l}if(typeof document=="object"&&document.implementation){var p=document.implementation.createHTMLDocument();a=function(x,S){if(S){var k=p.documentElement.querySelector(S);return k&&(k.innerHTML=x),p}return p.documentElement.innerHTML=x,p}}var m=typeof document=="object"&&document.createElement("template"),v;m&&m.content&&(v=function(x){return m.innerHTML=x,m.content.childNodes});var b=function(){return document.createDocumentFragment().childNodes};function w(x){var S,k,O,R,U,A;x=(0,t.escapeSpecialCharacters)(x);var N=i.exec(x),T=(S=N?.[1])===null||S===void 0?void 0:S.toLowerCase();switch(T){case e:{var z=l(x);if(!(0,t.hasOpenTag)(x,n)){var G=z.querySelector(n);(k=G?.parentNode)===null||k===void 0||k.removeChild(G)}if(!(0,t.hasOpenTag)(x,r)){var G=z.querySelector(r);(O=G?.parentNode)===null||O===void 0||O.removeChild(G)}return z.querySelectorAll(e)}case n:case r:{var le=a(x).querySelectorAll(T);return(0,t.hasOpenTag)(x,r)&&(0,t.hasOpenTag)(x,n)?(U=(R=le[0].parentNode)===null||R===void 0?void 0:R.childNodes)!==null&&U!==void 0?U:b():le}default:{if(v)return v(x);var G=a(x,r).querySelector(r);return(A=G?.childNodes)!==null&&A!==void 0?A:b()}}}return Hd}var $x;function KL(){if($x)return Po;$x=1;var t=Po&&Po.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=i;var e=t(GL()),n=cT(),r=/<(![a-zA-Z\s]+)>/;function i(a){if(typeof a!="string")throw new TypeError("First argument must be a string");if(!a)return[];var l=r.exec(a),c=l?l[1]:void 0;return(0,n.formatDOM)((0,e.default)(a),null,c)}return Po}var $d={},_r={},uc={},qx;function WL(){if(qx)return uc;qx=1;var t=0;uc.SAME=t;var e=1;return uc.CAMELCASE=e,uc.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},uc}var Vx;function YL(){if(Vx)return _r;Vx=1;const t=0,e=1,n=2,r=3,i=4,a=5,l=6;function c(A){return f.hasOwnProperty(A)?f[A]:null}function d(A,N,T,z,G,le,he){this.acceptsBooleans=N===n||N===r||N===i,this.attributeName=z,this.attributeNamespace=G,this.mustUseProperty=T,this.propertyName=A,this.type=N,this.sanitizeURL=le,this.removeEmptyString=he}const f={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(A=>{f[A]=new d(A,t,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([A,N])=>{f[A]=new d(A,e,!1,N,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(A=>{f[A]=new d(A,n,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(A=>{f[A]=new d(A,n,!1,A,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(A=>{f[A]=new d(A,r,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(A=>{f[A]=new d(A,r,!0,A,null,!1,!1)}),["capture","download"].forEach(A=>{f[A]=new d(A,i,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(A=>{f[A]=new d(A,l,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(A=>{f[A]=new d(A,a,!1,A.toLowerCase(),null,!1,!1)});const m=/[\-\:]([a-z])/g,v=A=>A[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(A=>{const N=A.replace(m,v);f[N]=new d(N,e,!1,A,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(A=>{const N=A.replace(m,v);f[N]=new d(N,e,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(A=>{const N=A.replace(m,v);f[N]=new d(N,e,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(A=>{f[A]=new d(A,e,!1,A.toLowerCase(),null,!1,!1)});const b="xlinkHref";f[b]=new d("xlinkHref",e,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(A=>{f[A]=new d(A,e,!1,A.toLowerCase(),null,!0,!0)});const{CAMELCASE:w,SAME:x,possibleStandardNames:S}=WL(),O=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",R=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+O+"]*$")),U=Object.keys(S).reduce((A,N)=>{const T=S[N];return T===x?A[N]=N:T===w?A[N.toLowerCase()]=N:A[N]=T,A},{});return _r.BOOLEAN=r,_r.BOOLEANISH_STRING=n,_r.NUMERIC=a,_r.OVERLOADED_BOOLEAN=i,_r.POSITIVE_NUMERIC=l,_r.RESERVED=t,_r.STRING=e,_r.getPropertyInfo=c,_r.isCustomAttribute=R,_r.possibleStandardNames=U,_r}var dc={},Uo={},sg,Fx;function JL(){if(Fx)return sg;Fx=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",v="comment",b="declaration";function w(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var O=1,R=1;function U(ue){var re=ue.match(e);re&&(O+=re.length);var I=ue.lastIndexOf(d);R=~I?ue.length-I:R+ue.length}function A(){var ue={line:O,column:R};return function(re){return re.position=new N(ue),G(),re}}function N(ue){this.start=ue,this.end={line:O,column:R},this.source=k.source}N.prototype.content=S;function T(ue){var re=new Error(k.source+":"+O+":"+R+": "+ue);if(re.reason=ue,re.filename=k.source,re.line=O,re.column=R,re.source=S,!k.silent)throw re}function z(ue){var re=ue.exec(S);if(re){var I=re[0];return U(I),S=S.slice(I.length),re}}function G(){z(n)}function le(ue){var re;for(ue=ue||[];re=he();)re!==!1&&ue.push(re);return ue}function he(){var ue=A();if(!(f!=S.charAt(0)||p!=S.charAt(1))){for(var re=2;m!=S.charAt(re)&&(p!=S.charAt(re)||f!=S.charAt(re+1));)++re;if(re+=2,m===S.charAt(re-1))return T("End of comment missing");var I=S.slice(2,re-2);return R+=2,U(I),S=S.slice(re),R+=2,ue({type:v,comment:I})}}function ye(){var ue=A(),re=z(r);if(re){if(he(),!z(i))return T("property missing ':'");var I=z(a),Q=ue({type:b,property:x(re[0].replace(t,m)),value:I?x(I[0].replace(t,m)):m});return z(l),Q}}function Pe(){var ue=[];le(ue);for(var re;re=ye();)re!==!1&&(ue.push(re),le(ue));return ue}return G(),Pe()}function x(S){return S?S.replace(c,m):m}return sg=w,sg}var Gx;function XL(){if(Gx)return Uo;Gx=1;var t=Uo&&Uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.default=n;const e=t(JL());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const l=(0,e.default)(r),c=typeof i=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;c?i(f,p,d):p&&(a=a||{},a[f]=p)}),a}return Uo}var fc={},Kx;function QL(){if(Kx)return fc;Kx=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(f){return!f||n.test(f)||t.test(f)},l=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),a(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,c):f=f.replace(r,c),f.replace(e,l))};return fc.camelCase=d,fc}var hc,Wx;function ZL(){if(Wx)return hc;Wx=1;var t=hc&&hc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(XL()),n=QL();function r(i,a){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(c,d){c&&d&&(l[(0,n.camelCase)(c,a)]=d)}),l}return r.default=r,hc=r,hc}var Yx;function uT(){return Yx||(Yx=1,(function(t){var e=dc&&dc.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=a,t.setStyleProp=c;var n=$a(),r=e(ZL()),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function a(p,m){return p.includes("-")?!i.has(p):!!(m&&typeof m.is=="string")}var l={reactCompat:!0};function c(p,m){if(typeof p=="string"){if(!p.trim()){m.style={};return}try{m.style=(0,r.default)(p,l)}catch{m.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var d=function(p){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(p.name)};t.canTextBeChildOfNode=d;var f=function(p){return p};t.returnFirstArg=f})(dc)),dc}var Jx;function dT(){if(Jx)return $d;Jx=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.default=a;var t=YL(),e=uT(),n=["checked","value"],r=["input","select","textarea"],i={reset:!0,submit:!0};function a(c,d){c===void 0&&(c={});var f={},p=!!(c.type&&i[c.type]);for(var m in c){var v=c[m];if((0,t.isCustomAttribute)(m)){f[m]=v;continue}var b=m.toLowerCase(),w=l(b);if(w){var x=(0,t.getPropertyInfo)(w);switch(n.includes(w)&&r.includes(d)&&!p&&(w=l("default"+b)),f[w]=v,x?.type){case t.BOOLEAN:f[w]=!0;break;case t.OVERLOADED_BOOLEAN:v===""&&(f[w]=!0);break}continue}e.PRESERVE_CUSTOM_ATTRIBUTES&&(f[m]=v)}return(0,e.setStyleProp)(c.style,f),f}function l(c){return t.possibleStandardNames[c]}return $d}var Ho={},Xx;function ez(){if(Xx)return Ho;Xx=1;var t=Ho&&Ho.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.default=a;var e=$a(),n=t(dT()),r=uT(),i={cloneElement:e.cloneElement,createElement:e.createElement,isValidElement:e.isValidElement};function a(c,d){var f,p,m,v,b;d===void 0&&(d={});for(var w=[],x=typeof d.replace=="function",S=(f=d.transform)!==null&&f!==void 0?f:r.returnFirstArg,k=(p=d.library)!==null&&p!==void 0?p:i,O=k.cloneElement,R=k.createElement,U=k.isValidElement,A=c.length,N=0;N<A;N++){var T=c[N];if(x){var z=(m=d.replace)===null||m===void 0?void 0:m.call(d,T,N);if(U(z)){A>1&&(z=O(z,{key:(v=z.key)!==null&&v!==void 0?v:N})),w.push(S(z,T,N));continue}}if(T.type==="text"){var G=!T.data.trim().length;if(G&&T.parent&&!(0,r.canTextBeChildOfNode)(T.parent)||d.trim&&G)continue;w.push(S(T.data,T,N));continue}var le=T,he={};l(le)?((0,r.setStyleProp)(le.attribs.style,le.attribs),he=le.attribs):le.attribs&&(he=(0,n.default)(le.attribs,le.name));var ye=void 0;switch(T.type){case"script":case"style":T.children[0]&&(he.dangerouslySetInnerHTML={__html:T.children[0].data});break;case"tag":T.name==="textarea"&&T.children[0]?he.defaultValue=T.children[0].data:!((b=T.children)===null||b===void 0)&&b.length&&(ye=a(T.children,d));break;default:continue}A>1&&(he.key=N),w.push(S(R(T.name,he,ye),T,N))}return w.length===1?w[0]:w}function l(c){return r.PRESERVE_CUSTOM_ATTRIBUTES&&c.type==="tag"&&(0,r.isCustomComponent)(c.name,c.attribs)}return Ho}var Qx;function tz(){return Qx||(Qx=1,(function(t){var e=cc&&cc.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=c;var n=e(KL());t.htmlToDOM=n.default;var r=e(dT());t.attributesToProps=r.default;var i=e(ez());t.domToReact=i.default;var a=lT();Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return a.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return a.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return a.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return a.Text}});var l={lowerCaseAttributeNames:!1};function c(d,f){var p;if(typeof d!="string")throw new TypeError("First argument must be a string");return d?(0,i.default)((0,n.default)(d,(p=f?.htmlparser2)!==null&&p!==void 0?p:l),f):[]}})(cc)),cc}var nz=tz();const Zx=My(nz),fT=Zx.default||Zx;function rz({article:t}){const{name:e,username:n,profile_img:r}=t.UserTable;console.log(t);const[i]=M.useContext(pu),[,a]=M.useContext(hu);let l=t?.author_id,c=i?.user_id;async function d(){if(t&&t.id){console.log("calling supabase");const f=await ur.from("ArticleTable").delete().eq("id",t.id);console.log(f),f.status=="204"&&a(p=>(console.log("updating"),p.filter(m=>m.id!=t.id)))}}return C.jsxs("div",{className:" h-fit w-[80vw] sm:w-[60vw]  my-2 rounded-md dark:border-[#1F1B24]  px-2 pt-1 pb-4  border border-gray-200 shadow-xs",children:[C.jsxs("div",{className:"  flex justify-between mx-1",children:[C.jsxs("div",{className:" flex flex-row items-center ",children:[C.jsx("img",{src:r||Wc,alt:"user-img",className:"size-9 mx-2 my-1 rounded-full"}),C.jsxs("div",{className:"",children:[C.jsx("p",{className:"text-[12px]",children:e}),C.jsx("p",{className:"text-[10px] hover:bg-gray-500 rounded-full mx-0 hover:px-1 cursor-pointer",children:C.jsxs(vk,{to:`/${n}`,children:["@",n]})})]})]}),C.jsxs("div",{className:"relative [&>ul]:hidden [&:hover>ul]:block cursor-pointer hidden",children:[C.jsx(cD,{}),C.jsx("ul",{className:"bg-white  p-1 absolute rounded-md border-gray-500 ",children:c===l&&C.jsxs("li",{className:"flex border items-center px-2 -mt-2 -ml-2 py-1 text-red-900 rounded-md hover:bg-red-400",onClick:d,children:[C.jsx(mD,{className:"inline",size:"16px"}),"Delete"]})})]})]}),C.jsx("div",{className:"px-4 py-2 text-lg font-semibold my-0",children:t.title}),C.jsx("div",{className:"px-4",children:fT(t.body)})]})}function iz(){const[t]=M.useContext(hu);let e=Fa();return M.useEffect(()=>{setTimeout(()=>{if(!t.length)return console.log("articles data is empty."),e("/auth"),null},500)},[t,e]),C.jsxs("div",{children:[t?.length&&C.jsx("div",{className:`flex justify-center  flex-col items-center w-full box-border pb-8 \r
				`,children:t&&t.map(n=>C.jsx(rz,{article:n},n.id))}),!t?.length&&C.jsx("div",{className:"min-h-screen flex items-center justify-center",children:C.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[C.jsx(du,{size:24,className:"animate-spin"}),C.jsx("span",{children:"Loading profile..."})]})})]})}function e1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hT(...t){return e=>{let n=!1;const r=t.map(i=>{const a=e1(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():e1(t[i],null)}}}}function pT(...t){return M.useCallback(hT(...t),t)}function sz(t){const e=az(t),n=M.forwardRef((r,i)=>{const{children:a,...l}=r,c=M.Children.toArray(a),d=c.find(lz);if(d){const f=d.props.children,p=c.map(m=>m===d?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:m);return C.jsx(e,{...l,ref:i,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return C.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function az(t){const e=M.forwardRef((n,r)=>{const{children:i,...a}=n;if(M.isValidElement(i)){const l=uz(i),c=cz(a,i.props);return i.type!==M.Fragment&&(c.ref=r?hT(r,l):l),M.cloneElement(i,c)}return M.Children.count(i)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oz=Symbol("radix.slottable");function lz(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oz}function cz(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function uz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mT=dz.reduce((t,e)=>{const n=sz(`Primitive.${e}`),r=M.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function fz(t,e=[]){let n=[];function r(a,l){const c=M.createContext(l),d=n.length;n=[...n,l];const f=m=>{const{scope:v,children:b,...w}=m,x=v?.[t]?.[d]||c,S=M.useMemo(()=>w,Object.values(w));return C.jsx(x.Provider,{value:S,children:b})};f.displayName=a+"Provider";function p(m,v){const b=v?.[t]?.[d]||c,w=M.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>M.createContext(l));return function(c){const d=c?.[t]||a;return M.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,hz(i,...e)]}function hz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const m=d(a)[`__scope${f}`];return{...c,...m}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function pz(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var gT=globalThis?.document?M.useLayoutEffect:()=>{},mz=UE[" useInsertionEffect ".trim().toString()]||gT;function gz({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=yz({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const p=M.useRef(t!==void 0);M.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=M.useCallback(p=>{if(c){const m=vz(p)?p(t):p;m!==t&&l.current?.(m)}else a(p)},[c,t,a,l]);return[d,f]}function yz({defaultProp:t,onChange:e}){const[n,r]=M.useState(t),i=M.useRef(n),a=M.useRef(e);return mz(()=>{a.current=e},[e]),M.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function vz(t){return typeof t=="function"}var ag={exports:{}},og={};var t1;function bz(){if(t1)return og;t1=1;var t=$a();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(m,v){var b=v(),w=r({inst:{value:b,getSnapshot:v}}),x=w[0].inst,S=w[1];return a(function(){x.value=b,x.getSnapshot=v,d(x)&&S({inst:x})},[m,b,v]),i(function(){return d(x)&&S({inst:x}),m(function(){d(x)&&S({inst:x})})},[m]),l(b),b}function d(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!n(m,b)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return og.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,og}var n1;function yT(){return n1||(n1=1,ag.exports=bz()),ag.exports}var vT=yT();function wz(t){const e=M.useRef({value:t,previous:t});return M.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Sz(t){const[e,n]=M.useState(void 0);return gT(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mh="Switch",[xz]=fz(mh),[Ez,kz]=xz(mh),bT=M.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:d="on",onCheckedChange:f,form:p,...m}=t,[v,b]=M.useState(null),w=pT(e,R=>b(R)),x=M.useRef(!1),S=v?p||!!v.closest("form"):!0,[k,O]=gz({prop:i,defaultProp:a??!1,onChange:f,caller:mh});return C.jsxs(Ez,{scope:n,checked:k,disabled:c,children:[C.jsx(mT.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":ET(k),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:w,onClick:pz(t.onClick,R=>{O(U=>!U),S&&(x.current=R.isPropagationStopped(),x.current||R.stopPropagation())})}),S&&C.jsx(xT,{control:v,bubbles:!x.current,name:r,value:d,checked:k,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});bT.displayName=mh;var wT="SwitchThumb",ST=M.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=kz(wT,n);return C.jsx(mT.span,{"data-state":ET(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});ST.displayName=wT;var Tz="SwitchBubbleInput",xT=M.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const l=M.useRef(null),c=pT(l,a),d=wz(n),f=Sz(e);return M.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&b){const w=new Event("click",{bubbles:r});b.call(p,n),p.dispatchEvent(w)}},[d,n,r]),C.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xT.displayName=Tz;function ET(t){return t?"checked":"unchecked"}var _z=bT,Cz=ST;function Az({className:t,size:e="default",...n}){const r=()=>{console.log(n)};return C.jsx(_z,{onChange:r,"data-slot":"switch","data-size":e,className:il("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",t),...n,children:C.jsx(Cz,{"data-slot":"switch-thumb",className:il("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function bn(t){this.content=t}bn.prototype={constructor:bn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),a=r.content.slice();return i==-1?a.push(n||t,e):(a[i+1]=e,n&&(a[i]=n)),new bn(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new bn(n)},addToStart:function(t,e){return new bn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new bn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),a=r.find(t);return i.splice(a==-1?i.length:a,0,e,n),new bn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=bn.from(t),t.size?new bn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=bn.from(t),t.size?new bn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=bn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};bn.from=function(t){if(t instanceof bn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new bn(e)};function kT(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),a=e.child(r);if(i==a){n+=i.nodeSize;continue}if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let l=0;i.text[l]==a.text[l];l++)n++;return n}if(i.content.size||a.content.size){let l=kT(i.content,a.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function TT(t,e,n,r){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:n,b:r};let l=t.child(--i),c=e.child(--a),d=l.nodeSize;if(l==c){n-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let f=0,p=Math.min(l.text.length,c.text.length);for(;f<p&&l.text[l.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let f=TT(l.content,c.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class ie{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,a){for(let l=0,c=0;c<n;l++){let d=this.content[l],f=c+d.nodeSize;if(f>e&&r(d,i+c,a||null,l)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,i+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let a="",l=!0;return this.nodesBetween(e,n,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(l?l=!1:a+=r),a+=f},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new ie(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;d>e&&((l<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=d}return new ie(r,i)}cutByIndex(e,n){return e==n?ie.empty:e==0&&n==this.content.length?this:new ie(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),a=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ie(i,a)}addToStart(e){return new ie([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ie(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return kT(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return TT(this,e,n,r)}findIndex(e){if(e==0)return qd(0,e);if(e==this.size)return qd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),a=r+i.nodeSize;if(a>=e)return a==e?qd(n+1,a):qd(n,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ie.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ie(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ie.empty;let n,r=0;for(let i=0;i<e.length;i++){let a=e[i];r+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(n||(n=e.slice(0,i)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new ie(n||e,r)}static from(e){if(!e)return ie.empty;if(e instanceof ie)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ie([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ie.empty=new ie([],0);const lg={index:0,offset:0};function qd(t,e){return lg.index=t,lg.offset=e,lg}function vf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!vf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!vf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let gt=class ey{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&vf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ey.none;if(e instanceof ey)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};gt.none=[];class bf extends Error{}class me{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=CT(this.content,e+this.openStart,n);return r&&new me(r,this.openStart,this.openEnd)}removeBetween(e,n){return new me(_T(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return me.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new me(ie.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new me(e,r,i)}}me.empty=new me(ie.empty,0,0);function _T(t,e,n){let{index:r,offset:i}=t.findIndex(e),a=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,a.copy(_T(a.content,e-i-1,n-i-1)))}function CT(t,e,n,r){let{index:i,offset:a}=t.findIndex(e),l=t.maybeChild(i);if(a==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=CT(l.content,e-a-1,n,l);return c&&t.replaceChild(i,l.copy(c))}function Oz(t,e,n){if(n.openStart>t.depth)throw new bf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new bf("Inconsistent open depths");return AT(t,e,n,0)}function AT(t,e,n,r){let i=t.index(r),a=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=AT(t,e,n,r+1);return a.copy(a.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return Da(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=Rz(n,t);return Da(a,RT(t,l,c,e,r))}else return Da(a,wf(t,e,r))}function OT(t,e){if(!e.type.compatibleContent(t.type))throw new bf("Cannot join "+e.type.name+" onto "+t.type.name)}function ty(t,e,n){let r=t.node(n);return OT(r,e.node(n)),r}function Na(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ac(t,e,n,r){let i=(e||t).node(n),a=0,l=e?e.index(n):i.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&(Na(t.nodeAfter,r),a++));for(let c=a;c<l;c++)Na(i.child(c),r);e&&e.depth==n&&e.textOffset&&Na(e.nodeBefore,r)}function Da(t,e){return t.type.checkContent(e),t.copy(e)}function RT(t,e,n,r,i){let a=t.depth>i&&ty(t,e,i+1),l=r.depth>i&&ty(n,r,i+1),c=[];return Ac(null,t,i,c),a&&l&&e.index(i)==n.index(i)?(OT(a,l),Na(Da(a,RT(t,e,n,r,i+1)),c)):(a&&Na(Da(a,wf(t,e,i+1)),c),Ac(e,n,i,c),l&&Na(Da(l,wf(n,r,i+1)),c)),Ac(r,null,i,c),new ie(c)}function wf(t,e,n){let r=[];if(Ac(null,t,n,r),t.depth>n){let i=ty(t,e,n+1);Na(Da(i,wf(t,e,n+1)),r)}return Ac(e,null,n,r),new ie(r)}function Rz(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)i=e.node(a).copy(ie.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Yc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)i+=r.child(a).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return gt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let a=r.marks;for(var l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!i||!a[l].isInSet(i.marks))&&(a=a[l--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Sf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,a=n;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(a),f=a-d;if(r.push(l,c,i+d),!f||(l=l.child(c),l.isText))break;a=f-1,i+=d+1}return new Yc(n,r,a)}static resolveCached(e,n){let r=r1.get(e);if(r)for(let a=0;a<r.elts.length;a++){let l=r.elts[a];if(l.pos==n)return l}else r1.set(e,r=new Mz);let i=r.elts[r.i]=Yc.resolve(e,n);return r.i=(r.i+1)%Nz,i}}class Mz{constructor(){this.elts=[],this.i=0}}const Nz=12,r1=new WeakMap;class Sf{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Dz=Object.create(null);class Jr{constructor(e,n,r,i=gt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ie.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&vf(this.attrs,n||e.defaultAttrs||Dz)&&gt.sameSet(this.marks,r||gt.none)}copy(e=null){return e==this.content?this:new Jr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Jr(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return me.empty;let i=this.resolve(e),a=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),f=i.node(l).content.cut(i.pos-c,a.pos-c);return new me(f,i.depth-l,a.depth-l)}replace(e,n,r){return Oz(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Yc.resolveCached(this,e)}resolveNoCache(e){return Yc.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),MT(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ie.empty,i=0,a=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,a),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=i;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(r),l=a&&a.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=gt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!gt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ie.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,i,r);return a.type.checkAttrs(a.attrs),a}}Jr.prototype.text=void 0;class xf extends Jr{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):MT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new xf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new xf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function MT(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ia{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new jz(e,n);if(r.next==null)return Ia.empty;let i=NT(r);r.next&&r.err("Unexpected trailing text");let a=Hz(Uz(i));return $z(a,r),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let a=n;i&&a<r;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function a(l,c){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return ie.from(c.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:p,next:m}=l.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=a(m,c.concat(p));if(v)return v}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)a+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return a}).join(`
`)}}Ia.empty=new Ia(!0);class jz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function NT(t){let e=[];do e.push(Lz(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Lz(t){let e=[];do e.push(zz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function zz(t){let e=Pz(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Iz(t,e);else break;return e}function i1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Iz(t,e){let n=i1(t),r=n;return t.eat(",")&&(t.next!="}"?r=i1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Bz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let a in n){let l=n[a];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Pz(t){if(t.eat("(")){let e=NT(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Bz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Uz(t){let e=[[]];return i(a(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,d){let f={term:d,to:c};return e[l].push(f),f}function i(l,c){l.forEach(d=>d.to=c)}function a(l,c){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(a(f,c)),[]);if(l.type=="seq")for(let d=0;;d++){let f=a(l.exprs[d],c);if(d==l.exprs.length-1)return f;i(f,c=n())}else if(l.type=="star"){let d=n();return r(c,d),i(a(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(a(l.expr,c),d),i(a(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(a(l.expr,c));if(l.type=="range"){let d=c;for(let f=0;f<l.min;f++){let p=n();i(a(l.expr,d),p),d=p}if(l.max==-1)i(a(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let p=n();r(d,p),i(a(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function DT(t,e){return e-t}function s1(t,e){let n=[];return r(e),n.sort(DT);function r(i){let a=t[i];if(a.length==1&&!a[0].term)return r(a[0].to);n.push(i);for(let l=0;l<a.length;l++){let{term:c,to:d}=a[l];!c&&n.indexOf(d)==-1&&r(d)}}}function Hz(t){let e=Object.create(null);return n(s1(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let p=0;p<i.length;p++)i[p][0]==c&&(f=i[p][1]);s1(t,d).forEach(p=>{f||i.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let a=e[r.join(",")]=new Ia(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(DT);a.next.push({type:i[l][0],next:e[c.join(",")]||n(c)})}return a}}function $z(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],a=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:d,next:f}=i.next[c];l.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(f)==-1&&r.push(f)}a&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function jT(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function LT(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let a=t[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function zT(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function IT(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Vz(t,r,e[r]);return n}let a1=class BT{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=IT(e,r.attrs),this.defaultAttrs=jT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ia.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:LT(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Jr(this,this.computeAttrs(e),ie.from(n),gt.setFrom(r))}createChecked(e=null,n,r){return n=ie.from(n),this.checkContent(n),new Jr(this,this.computeAttrs(e),n,gt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ie.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),a=i&&i.fillBefore(ie.empty,!0);return a?new Jr(this,e,n.append(a),gt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){zT(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:gt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((a,l)=>r[a]=new BT(a,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function qz(t,e,n){let r=n.split("|");return i=>{let a=i===null?"null":typeof i;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${a}`)}}class Vz{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?qz(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class gh{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=IT(e,i.attrs),this.excluded=null;let a=jT(this.attrs);this.instance=a?new gt(this,a):null}create(e=null){return!e&&this.instance?this.instance:new gt(this,LT(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((a,l)=>r[a]=new gh(a,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){zT(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class PT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=bn.from(e.nodes),n.marks=bn.from(e.marks||{}),this.nodes=a1.compile(this.spec.nodes,this),this.marks=gh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],l=a.spec.content||"",c=a.spec.marks;if(a.contentMatch=r[l]||(r[l]=Ia.parse(l,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=c=="_"?null:c?o1(this,c.split(" ")):c==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],l=a.spec.excludes;a.excluded=l==null?[a]:l==""?[]:o1(this,l.split(" "))}this.nodeFromJSON=i=>Jr.fromJSON(this,i),this.markFromJSON=i=>gt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof a1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new xf(r,r.defaultAttrs,e,gt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function o1(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t.marks[i],l=a;if(a)n.push(a);else for(let c in t.marks){let d=t.marks[c];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Fz(t){return t.tag!=null}function Gz(t){return t.style!=null}class Is{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Fz(i))this.tags.push(i);else if(Gz(i)){let a=/[^=]*/.exec(i.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let r=new c1(this,n,!1);return r.addAll(e,gt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new c1(this,n,!0);return r.addAll(e,gt.none,n.from,n.to),me.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(Yz(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}matchStyle(e,n,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let l=this.styles[a],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let a=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<a)break}n.splice(l,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(l=>{r(l=u1(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(l=>{r(l=u1(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Is(e,Is.schemaRules(e)))}}const UT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},HT={ol:!0,ul:!0},Jc=1,ny=2,Oc=4;function l1(t,e,n){return e!=null?(e?Jc:0)|(e==="full"?ny:0):t&&t.whitespace=="pre"?Jc|ny:n&~Oc}class Vd{constructor(e,n,r,i,a,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=gt.none,this.match=a||(l&Oc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ie.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Jc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let n=ie.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ie.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!UT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class c1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,a,l=l1(null,n.preserveWhitespace,0)|(r?Oc:0);i?a=new Vd(i.type,i.attrs,gt.none,!0,n.topMatch||i.type.contentMatch,l):r?a=new Vd(null,null,gt.none,!0,null,l):a=new Vd(e.schema.topNodeType,null,gt.none,!0,null,l),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,a=i.options&ny?"full":this.localPreserveWS||(i.options&Jc)>0,{schema:l}=this.parser;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)if(a==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let d=0;d<c.length;d++)d&&this.insertNode(l.linebreakReplacement.create(),n,!0),c[d]&&this.insertNode(l.text(c[d]),n,!/\S/.test(c[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],d=e.previousSibling;(!c||d&&d.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;HT.hasOwnProperty(l)&&this.parser.normalizeLists&&Wz(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:Kz.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(UT.hasOwnProperty(l))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),f=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(a),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],l=r.getPropertyValue(a);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(a,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,i){let a,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(c)&&this.open--}addAll(e,n,r,i){let a=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(l,n);this.findAtPoint(e,a)}findPlace(e,n,r){let i,a;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],f=d.findWrapping(e);if(f&&(!i||i.length>f.length+c)&&(i=f,a=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!i)return null;this.sync(a);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let l=gt.none;for(let c of i.concat(e.marks))(a.type?a.type.allowsMarkType(c.type):d1(c.type,e.type))&&(l=c.addToSet(l));return a.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let a=this.findPlace(e.create(n),r,!1);return a&&(a=this.enterInner(e,n,r,!0,i)),a}enterInner(e,n,r,i=!1,a){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=l1(e,a,l.options);l.options&Oc&&l.content.length==0&&(c|=Oc);let d=gt.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):d1(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Vd(e,n,d,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Jc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),l=(c,d)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;d>=a;d--)if(l(c-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Wz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&HT.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Yz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function u1(t){let e={};for(let n in t)e[n]=t[n];return e}function d1(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let a=[],l=c=>{a.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:p}=c.edge(d);if(f==e||a.indexOf(p)<0&&l(p))return!0}};if(l(i.contentMatch))return!0}}class Ka{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=cg(n).createDocumentFragment());let i=r,a=[];return e.forEach(l=>{if(a.length||l.marks.length){let c=0,d=0;for(;c<a.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(a[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<a.length;)i=a.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],p=this.serializeMark(f,l.isInline,n);p&&(a.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=of(cg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&of(cg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return of(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ka(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=f1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return f1(e.marks)}}function f1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function cg(t){return t.document||window.document}const h1=new WeakMap;function Jz(t){let e=h1.get(t);return e===void 0&&h1.set(t,e=Xz(t)),e}function Xz(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function of(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=Jz(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,d=n?t.createElementNS(n,i):t.createElement(i),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let v=m.indexOf(" ");v>0?d.setAttributeNS(m.slice(0,v),m.slice(v+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:w}=of(t,v,n,r);if(d.appendChild(b),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:d,contentDOM:c}}const $T=65535,qT=Math.pow(2,16);function Qz(t,e){return t+e*qT}function p1(t){return t&$T}function Zz(t){return(t-(t&$T))/qT}const VT=1,FT=2,lf=4,GT=8;class ry{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&GT)>0}get deletedBefore(){return(this.delInfo&(VT|lf))>0}get deletedAfter(){return(this.delInfo&(FT|lf))>0}get deletedAcross(){return(this.delInfo&lf)>0}}class lr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&lr.empty)return lr.empty}recover(e){let n=0,r=p1(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Zz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let f=this.ranges[c+a],p=this.ranges[c+l],m=d+f;if(e<=m){let v=f?e==d?-1:e==m?1:n:n,b=d+i+(v<0?0:p);if(r)return b;let w=e==(n<0?d:m)?null:Qz(c/3,e-d),x=e==d?FT:e==m?VT:lf;return(n<0?e!=d:e!=m)&&(x|=GT),new ry(b,x,w)}i+=p-f}return r?e+i:new ry(e+i,0,null)}touches(e,n){let r=0,i=p1(n),a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+a],p=d+f;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?a:0),d=l+(this.inverted?0:a),f=this.ranges[i+n],p=this.ranges[i+r];e(c,c+f,d,d+p),a+=p-f}}invert(){return new lr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?lr.empty:new lr(e<0?[0,-e,0]:[0,0,e])}}lr.empty=new lr([]);class Xc{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Xc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Xc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let a=this.from;a<this.to;a++){let l=this._maps[a],c=l.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new ry(e,i,null)}}const ug=Object.create(null);class On{getMap(){return lr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ug[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ug)throw new RangeError("Duplicate use of step JSON ID "+e);return ug[e]=n,n.prototype.jsonID=e,n}}class Yt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Yt(e,null)}static fail(e){return new Yt(null,e)}static fromReplace(e,n,r,i){try{return Yt.ok(e.replace(n,r,i))}catch(a){if(a instanceof bf)return Yt.fail(a.message);throw a}}}function Yy(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(Yy(a.content,e,a))),a.isInline&&(a=e(a,n,i)),r.push(a)}return ie.fromArray(r)}class js extends On{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new me(Yy(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Yt.fromReplace(e,this.from,this.to,a)}invert(){return new Yr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new js(n.pos,r.pos,this.mark)}merge(e){return e instanceof js&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new js(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new js(n.from,n.to,e.markFromJSON(n.mark))}}On.jsonID("addMark",js);class Yr extends On{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new me(Yy(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Yt.fromReplace(e,this.from,this.to,r)}invert(){return new js(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Yr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Yr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Yr(n.from,n.to,e.markFromJSON(n.mark))}}On.jsonID("removeMark",Yr);class Ls extends On{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Yt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Yt.fromReplace(e,this.pos,this.pos+1,new me(ie.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ls(this.pos,n.marks[i]);return new Ls(this.pos,this.mark)}}return new Ba(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ls(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ls(n.pos,e.markFromJSON(n.mark))}}On.jsonID("addNodeMark",Ls);class Ba extends On{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Yt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Yt.fromReplace(e,this.pos,this.pos+1,new me(ie.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ls(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ba(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ba(n.pos,e.markFromJSON(n.mark))}}On.jsonID("removeNodeMark",Ba);class an extends On{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&iy(e,this.from,this.to)?Yt.fail("Structure replace would overwrite content"):Yt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new lr([this.from,this.to-this.from,this.slice.size])}invert(e){return new an(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new an(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof an)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?me.empty:new me(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new an(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?me.empty:new me(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new an(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new an(n.from,n.to,me.fromJSON(e,n.slice),!!n.structure)}}On.jsonID("replace",an);class on extends On{constructor(e,n,r,i,a,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=l,this.structure=c}apply(e){if(this.structure&&(iy(e,this.from,this.gapFrom)||iy(e,this.gapTo,this.to)))return Yt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Yt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Yt.fromReplace(e,this.from,this.to,r):Yt.fail("Content does not fit in gap")}getMap(){return new lr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new on(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||a>r.pos?null:new on(n.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new on(n.from,n.to,n.gapFrom,n.gapTo,me.fromJSON(e,n.slice),n.insert,!!n.structure)}}On.jsonID("replaceAround",on);function iy(t,e,n){let r=t.resolve(e),i=n-e,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let l=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function e3(t,e,n,r){let i=[],a=[],l,c;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(f,e),b=Math.min(f+d.nodeSize,n),w=r.addToSet(m);for(let x=0;x<m.length;x++)m[x].isInSet(w)||(l&&l.to==v&&l.mark.eq(m[x])?l.to=b:i.push(l=new Yr(v,b,m[x])));c&&c.to==v?c.to=b:a.push(c=new js(v,b,r))}}),i.forEach(d=>t.step(d)),a.forEach(d=>t.step(d))}function t3(t,e,n,r){let i=[],a=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;a++;let d=null;if(r instanceof gh){let f=l.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(c+l.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],v;for(let b=0;b<i.length;b++){let w=i[b];w.step==a-1&&m.eq(i[b].style)&&(v=w)}v?(v.to=f,v.step=a):i.push({style:m,from:Math.max(c,e),to:f,step:a})}}}),i.forEach(l=>t.step(new Yr(l.from,l.to,l.style)))}function Jy(t,e,n,r=n.contentMatch,i=!0){let a=t.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<a.childCount;d++){let f=a.child(d),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)l.push(new an(c,p,me.empty));else{r=m;for(let v=0;v<f.marks.length;v++)n.allowsMarkType(f.marks[v].type)||t.step(new Yr(c,p,f.marks[v]));if(i&&f.isText&&n.whitespace!="pre"){let v,b=/\r?\n|\r/g,w;for(;v=b.exec(f.text);)w||(w=new me(ie.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),l.push(new an(c+v.index,c+v.index+v[0].length,w))}}c=p}if(!r.validEnd){let d=r.fillBefore(ie.empty,!0);t.replace(c,c,new me(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function n3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function hl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,a=0;;--r){let l=t.$from.node(r),c=t.$from.index(r)+i,d=t.$to.indexAfter(r)-a;if(r<t.depth&&l.canReplace(c,d,n))return r;if(r==0||l.type.spec.isolating||!n3(l,c,d))break;c&&(i=1),d<l.childCount&&(a=1)}return null}function r3(t,e,n){let{$from:r,$to:i,depth:a}=e,l=r.before(a+1),c=i.after(a+1),d=l,f=c,p=ie.empty,m=0;for(let w=a,x=!1;w>n;w--)x||r.index(w)>0?(x=!0,p=ie.from(r.node(w).copy(p)),m++):d--;let v=ie.empty,b=0;for(let w=a,x=!1;w>n;w--)x||i.after(w+1)<i.end(w)?(x=!0,v=ie.from(i.node(w).copy(v)),b++):f++;t.step(new on(d,f,l,c,new me(p.append(v),m,b),p.size-m,!0))}function Xy(t,e,n=null,r=t){let i=i3(t,e),a=i&&s3(r,e);return a?i.map(m1).concat({type:e,attrs:n}).concat(a.map(m1)):null}function m1(t){return{type:t,attrs:null}}function i3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,a=n.contentMatchAt(r).findWrapping(e);if(!a)return null;let l=a.length?a[0]:e;return n.canReplaceWith(r,i,l)?a:null}function s3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,a=n.child(r),l=e.contentMatch.findWrapping(a.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:l}function a3(t,e,n){let r=ie.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ie.from(n[l].type.create(n[l].attrs,r))}let i=e.start,a=e.end;t.step(new on(i,a,i,a,new me(r,0,0),n.length,!0))}function o3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&l3(t.doc,t.mapping.slice(a).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!w?f=!1:!b&&w&&(f=!0)}f===!1&&WT(t,l,c,a),Jy(t,t.mapping.slice(a).map(c,1),r,void 0,f===null);let p=t.mapping.slice(a),m=p.map(c,1),v=p.map(c+l.nodeSize,1);return t.step(new on(m,v,m+1,v-1,new me(ie.from(r.create(d,null,l.marks)),0,0),1,!0)),f===!0&&KT(t,l,c,a),!1}})}function KT(t,e,n,r){e.forEach((i,a)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let d=t.mapping.slice(r).map(n+1+a+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function WT(t,e,n,r){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+a);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function l3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function c3(t,e,n,r,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let l=n.create(r,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,l);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new on(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new me(ie.from(l),0,0),1,!0))}function Vi(t,e,n=1,r){let i=t.resolve(e),a=i.depth-n,l=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=n-2;f>a;f--,p--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(v,m.childCount),w=r&&r[p+1];w&&(b=b.replaceChild(0,w.type.create(w.attrs)));let x=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!x.type.validContent(b))return!1}let c=i.indexAfter(a),d=r&&r[0];return i.node(a).canReplaceWith(c,c,d?d.type:i.node(a+1).type)}function u3(t,e,n=1,r){let i=t.doc.resolve(e),a=ie.empty,l=ie.empty;for(let c=i.depth,d=i.depth-n,f=n-1;c>d;c--,f--){a=ie.from(i.node(c).copy(a));let p=r&&r[f];l=ie.from(p?p.type.create(p.attrs,l):i.node(c).copy(l))}t.step(new an(e,e,new me(a.append(l),n,n),!0))}function Vs(t,e){let n=t.resolve(e),r=n.index();return YT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function d3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),l=a.type==r?t.type.schema.nodes.text:a.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function YT(t,e){return!!(t&&e&&!t.isLeaf&&d3(t,e))}function yh(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let a,l,c=r.index(i);if(i==r.depth?(a=r.nodeBefore,l=r.nodeAfter):n>0?(a=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(a=r.node(i).maybeChild(c-1),l=r.node(i+1)),a&&!a.isTextblock&&YT(a,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function f3(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-n),l=a.node().type;if(i&&l.inlineContent){let p=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);WT(t,p.node(),p.before(),c)}l.inlineContent&&Jy(t,e+n-1,l,a.node().contentMatchAt(a.index()),r==null);let d=t.mapping.slice(c),f=d.map(e-n);if(t.step(new an(f,d.map(e+n,-1),me.empty,!0)),r===!0){let p=t.doc.resolve(f);KT(t,p.node(),p.before(),t.steps.length)}return t}function h3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,n))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,n))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function JT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let a=0;a<n.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),f=r.node(l),p=!1;if(a==1)p=f.canReplace(d,d,i);else{let m=f.contentMatchAt(d).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function vh(t,e,n=e,r=me.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),a=t.resolve(n);return XT(i,a,r)?new an(e,n,r):new p3(i,a,r).fit()}function XT(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class p3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ie.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ie.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let a=this.placed,l=r.depth,c=i.depth;for(;l&&c&&a.childCount==1;)a=a.firstChild.content,l--,c--;let d=new me(a,l,c);return e>-1?new on(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new an(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let a=n.firstChild;if(n.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){e=r;break}n=a.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=dg(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(ie.from(l),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:c,parent:a,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:a,wrap:p};if(a&&f.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=dg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new me(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=dg(e,n);if(i.childCount<=1&&n>0){let a=e.size-n<=n+i.size;this.unplaced=new me(wc(e,n-1,1),n-1,a?n-1:r)}else this.unplaced=new me(wc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let x=0;x<a.length;x++)this.openFrontierNode(a[x]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:v}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)p.push(i.child(x));m=m.matchFragment(i)}let b=c.size+e-(l.content.size-l.openEnd);for(;f<c.childCount;){let x=c.child(f),S=m.matchType(x.type);if(!S)break;f++,(f>1||d==0||x.content.size)&&(m=S,p.push(QT(x.mark(v.allowedMarks(x.marks)),f==1?d:0,f==c.childCount?b:-1)))}let w=f==c.childCount;w||(b=-1),this.placed=Sc(this.placed,n,ie.from(p)),this.frontier[n].match=m,w&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,S=c;x<b;x++){let k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=w?e==0?me.empty:new me(wc(l.content,e-1,1),e-1,b<0?l.openEnd:e-1):new me(wc(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!fg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=fg(e,n,i,r,a);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],p=fg(e,c,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Sc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Sc(this.placed,this.depth,ie.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ie.empty,!0);n.childCount&&(this.placed=Sc(this.placed,this.frontier.length,n))}}function wc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wc(t.firstChild.content,e-1,n)))}function Sc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Sc(t.lastChild.content,e-1,n)))}function dg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function QT(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,QT(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ie.empty,!0)))),t.copy(r)}function fg(t,e,n,r,i){let a=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==a.childCount&&!n.compatibleContent(a.type))return null;let c=r.fillBefore(a.content,!0,l);return c&&!m3(n,a.content,l)?c:null}function m3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function g3(t){return t.spec.defining||t.spec.definingForContent}function y3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),a=t.doc.resolve(n);if(XT(i,a,r))return t.step(new an(e,n,r));let l=e_(i,a);l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let v=i.depth,b=i.pos-1;v>0;v--,b--){let w=i.node(v).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(v)>-1?c=v:i.before(v)==b&&l.splice(1,0,-v)}let d=l.indexOf(c),f=[],p=r.openStart;for(let v=r.content,b=0;;b++){let w=v.firstChild;if(f.push(w),b==r.openStart)break;v=w.content}for(let v=p-1;v>=0;v--){let b=f[v],w=g3(b.type);if(w&&!b.sameMarkup(i.node(Math.abs(c)-1)))p=v;else if(w||!b.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let b=(v+p+1)%(r.openStart+1),w=f[b];if(w)for(let x=0;x<l.length;x++){let S=l[(x+d)%l.length],k=!0;S<0&&(k=!1,S=-S);let O=i.node(S-1),R=i.index(S-1);if(O.canReplaceWith(R,R,w.type,w.marks))return t.replace(i.before(S),k?a.after(S):n,new me(ZT(r.content,0,r.openStart,b),b,r.openEnd))}}let m=t.steps.length;for(let v=l.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>m));v--){let b=l[v];b<0||(e=i.before(b),n=a.after(b))}}function ZT(t,e,n,r,i){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(ZT(a.content,e+1,n,r,a)))}if(e>r){let a=i.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(ie.empty,!0))}return t}function v3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=h3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new me(ie.from(r),0,0))}function b3(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),a=e_(r,i);for(let l=0;l<a.length;l++){let c=a[l],d=l==a.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function e_(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&n.push(i)}return n}class nl extends On{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Yt.fail("No node at attribute step's position");let r=Object.create(null);for(let a in n.attrs)r[a]=n.attrs[a];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Yt.fromReplace(e,this.pos,this.pos+1,new me(ie.from(i),0,n.isLeaf?0:1))}getMap(){return lr.empty}invert(e){return new nl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new nl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new nl(n.pos,n.attr,n.value)}}On.jsonID("attr",nl);class Qc extends On{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Yt.ok(r)}getMap(){return lr.empty}invert(e){return new Qc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Qc(n.attr,n.value)}}On.jsonID("docAttr",Qc);let sl=class extends Error{};sl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};sl.prototype=Object.create(Error.prototype);sl.prototype.constructor=sl;sl.prototype.name="TransformError";class t_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new sl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),n=i.map(n,-1)),i.forEach((a,l,c,d)=>{e=Math.min(e,c),n=Math.max(n,d)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=me.empty){let i=vh(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new me(ie.from(r),0,0))}delete(e,n){return this.replace(e,n,me.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return y3(this,e,n,r),this}replaceRangeWith(e,n,r){return v3(this,e,n,r),this}deleteRange(e,n){return b3(this,e,n),this}lift(e,n){return r3(this,e,n),this}join(e,n=1){return f3(this,e,n),this}wrap(e,n){return a3(this,e,n),this}setBlockType(e,n=e,r,i=null){return o3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return c3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new nl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Qc(e,n)),this}addNodeMark(e,n){return this.step(new Ls(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof gt)n.isInSet(r.marks)&&this.step(new Ba(e,n));else{let i=r.marks,a,l=[];for(;a=n.isInSet(i);)l.push(new Ba(e,a)),i=a.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return u3(this,e,n,r),this}addMark(e,n,r){return e3(this,e,n,r),this}removeMark(e,n,r){return t3(this,e,n,r),this}clearIncompatible(e,n,r){return Jy(this,e,n,r),this}}const hg=Object.create(null);class Fe{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new w3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=me.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let a=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:f}=l[c],p=e.mapping.slice(a);e.replaceRange(p.map(d.pos),p.map(f.pos),c?me.empty:n),c==0&&v1(e,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(c.pos);a?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),v1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Be(e):Wo(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let a=e.depth-1;a>=0;a--){let l=n<0?Wo(e.node(0),e.node(a),e.before(a+1),e.index(a),n,r):Wo(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new cr(e.node(0))}static atStart(e){return Wo(e,e,0,0,1)||new cr(e)}static atEnd(e){return Wo(e,e,e.content.size,e.childCount,-1)||new cr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=hg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in hg)throw new RangeError("Duplicate use of selection JSON ID "+e);return hg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Be.between(this.$anchor,this.$head).getBookmark()}}Fe.prototype.visible=!0;class w3{constructor(e,n){this.$from=e,this.$to=n}}let g1=!1;function y1(t){!g1&&!t.parent.inlineContent&&(g1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Be extends Fe{constructor(e,n=e){y1(e),y1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Fe.near(r);let i=e.resolve(n.map(this.anchor));return new Be(i.parent.inlineContent?i:r,r)}replace(e,n=me.empty){if(super.replace(e,n),n==me.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Be&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Be(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let a=Fe.findFrom(n,r,!0)||Fe.findFrom(n,-r,!0);if(a)n=a.$head;else return Fe.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Fe.findFrom(e,-r,!0)||Fe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Be(e,n)}}Fe.jsonID("text",Be);class bh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new bh(e.map(this.anchor),e.map(this.head))}resolve(e){return Be.between(e.resolve(this.anchor),e.resolve(this.head))}}class Me extends Fe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),a=e.resolve(i);return r?Fe.near(a):new Me(a)}content(){return new me(ie.from(this.node),0,0)}eq(e){return e instanceof Me&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Qy(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Me(e.resolve(n.anchor))}static create(e,n){return new Me(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Me.prototype.visible=!1;Fe.jsonID("node",Me);class Qy{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new bh(r,r):new Qy(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Me.isSelectable(r)?new Me(n):Fe.near(n)}}class cr extends Fe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=me.empty){if(n==me.empty){e.delete(0,e.doc.content.size);let r=Fe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new cr(e)}map(e){return new cr(e)}eq(e){return e instanceof cr}getBookmark(){return S3}}Fe.jsonID("all",cr);const S3={map(){return this},resolve(t){return new cr(t)}};function Wo(t,e,n,r,i,a=!1){if(e.inlineContent)return Be.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!a&&Me.isSelectable(c))return Me.create(t,n-(i<0?c.nodeSize:0))}else{let d=Wo(t,c,n+i,i<0?c.childCount:0,i,a);if(d)return d}n+=c.nodeSize*i}return null}function v1(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof an||i instanceof on))return;let a=t.mapping.maps[r],l;a.forEach((c,d,f,p)=>{l==null&&(l=p)}),t.setSelection(Fe.near(t.doc.resolve(l),n))}const b1=1,Fd=2,w1=4;class x3 extends t_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|b1)&~Fd,this.storedMarks=null,this}get selectionSet(){return(this.updated&b1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Fd,this}ensureMarks(e){return gt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Fd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Fd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||gt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let a=this.storedMarks;if(!a){let l=this.doc.resolve(n);a=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,a)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Fe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=w1,this}get scrolledIntoView(){return(this.updated&w1)>0}}function S1(t,e){return!e||!t?t:t.bind(e)}class xc{constructor(e,n,r){this.name=e,this.init=S1(n.init,r),this.apply=S1(n.apply,r)}}const E3=[new xc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new xc("selection",{init(t,e){return t.selection||Fe.atStart(e.doc)},apply(t){return t.selection}}),new xc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new xc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class pg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=E3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new xc(r.key,r.spec.state,r))})}}class Zo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let a=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=i?i[l].n:0,f=i?i[l].state:this,p=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),a=!0}i&&(i[l]={state:r,n:n.length})}}if(!a)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Zo(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new x3(this)}static create(e){let n=new pg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Zo(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new pg(this.schema,e.plugins),r=n.fields,i=new Zo(n);for(let a=0;a<r.length;a++){let l=r[a].name;i[l]=this.hasOwnProperty(l)?this[l]:r[a].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],a=i.spec.state;a&&a.toJSON&&(n[r]=a.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new pg(e.schema,e.plugins),a=new Zo(i);return i.fields.forEach(l=>{if(l.name=="doc")a.doc=Jr.fromJSON(e.schema,n.doc);else if(l.name=="selection")a.selection=Fe.fromJSON(a.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){a[l.name]=f.fromJSON.call(d,e,n[c],a);return}}a[l.name]=l.init(e,a)}}),a}}function n_(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=n_(i,e,{})),n[r]=i}return n}class Ot{constructor(e){this.spec=e,this.props={},e.props&&n_(e.props,this,this.props),this.key=e.key?e.key.key:r_("plugin")}getState(e){return e[this.key]}}const mg=Object.create(null);function r_(t){return t in mg?t+"$"+ ++mg[t]:(mg[t]=0,t+"$")}class nn{constructor(e="key"){this.key=r_(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Zy=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function i_(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const s_=(t,e,n)=>{let r=i_(t,n);if(!r)return!1;let i=e0(r);if(!i){let l=r.blockRange(),c=l&&hl(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let a=i.nodeBefore;if(p_(t,i,e,-1))return!0;if(r.parent.content.size==0&&(al(a,"end")||Me.isSelectable(a)))for(let l=r.depth;;l--){let c=vh(t.doc,r.before(l),r.after(l),me.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(al(a,"end")?Fe.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):Me.create(d.doc,i.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return a.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},k3=(t,e,n)=>{let r=i_(t,n);if(!r)return!1;let i=e0(r);return i?a_(t,i,e):!1},T3=(t,e,n)=>{let r=l_(t,n);if(!r)return!1;let i=t0(r);return i?a_(t,i,e):!1};function a_(t,e,n){let r=e.nodeBefore,i=r,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=vh(t.doc,a,d,me.empty);if(!f||f.from!=a||f instanceof an&&f.slice.size>=d-a)return!1;if(n){let p=t.tr.step(f);p.setSelection(Be.create(p.doc,a)),n(p.scrollIntoView())}return!0}function al(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const o_=(t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;a=e0(r)}let l=a&&a.nodeBefore;return!l||!Me.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)};function e0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function l_(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const c_=(t,e,n)=>{let r=l_(t,n);if(!r)return!1;let i=t0(r);if(!i)return!1;let a=i.nodeAfter;if(p_(t,i,e,1))return!0;if(r.parent.content.size==0&&(al(a,"start")||Me.isSelectable(a))){let l=vh(t.doc,r.before(),r.after(),me.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(al(a,"start")?Fe.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):Me.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},u_=(t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;a=t0(r)}let l=a&&a.nodeAfter;return!l||!Me.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,a.pos)).scrollIntoView()),!0)};function t0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const _3=(t,e)=>{let n=t.selection,r=n instanceof Me,i;if(r){if(n.node.isTextblock||!Vs(t.doc,n.from))return!1;i=n.from}else if(i=yh(t.doc,n.from,-1),i==null)return!1;if(e){let a=t.tr.join(i);r&&a.setSelection(Me.create(a.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},C3=(t,e)=>{let n=t.selection,r;if(n instanceof Me){if(n.node.isTextblock||!Vs(t.doc,n.to))return!1;r=n.to}else if(r=yh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},A3=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),a=i&&hl(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},d_=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function n0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const O3=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),l=n0(i.contentMatchAt(a));if(!l||!i.canReplaceWith(a,a,l))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,l.createAndFill());d.setSelection(Fe.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},f_=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof cr||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=n0(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,a.createAndFill());c.setSelection(Be.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},h_=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Vi(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let r=n.blockRange(),i=r&&hl(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function R3(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Me&&e.selection.node.isBlock)return!r.parentOffset||!Vi(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],l,c,d=!1,f=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){d=r.end(b)==r.pos+(r.depth-b),f=r.start(b)==r.pos-(r.depth-b),c=n0(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),a.unshift(d&&c?{type:c}:null),l=b;break}else{if(b==1)return!1;a.unshift(null)}let p=e.tr;(e.selection instanceof Be||e.selection instanceof cr)&&p.deleteSelection();let m=p.mapping.map(r.pos),v=Vi(p.doc,m,a.length,a);if(v||(a[0]=c?{type:c}:null,v=Vi(p.doc,m,a.length,a)),!v)return!1;if(p.split(m,a.length,a),!d&&f&&r.node(l).type!=c){let b=p.mapping.map(r.before(l)),w=p.doc.resolve(b);c&&r.node(l-1).canReplaceWith(w.index(),w.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const M3=R3(),N3=(t,e)=>{let{$from:n,to:r}=t.selection,i,a=n.sharedDepth(r);return a==0?!1:(i=n.before(a),e&&e(t.tr.setSelection(Me.create(t.doc,i))),!0)};function D3(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,a=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||Vs(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function p_(t,e,n,r){let i=e.nodeBefore,a=e.nodeAfter,l,c,d=i.type.spec.isolating||a.type.spec.isolating;if(!d&&D3(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&c.matchType(l[0]||a.type).validEnd){if(n){let b=e.pos+a.nodeSize,w=ie.empty;for(let k=l.length-1;k>=0;k--)w=ie.from(l[k].create(null,w));w=ie.from(i.copy(w));let x=t.tr.step(new on(e.pos-1,b,e.pos,b,new me(w,1,0),l.length,!0)),S=x.doc.resolve(b+2*l.length);S.nodeAfter&&S.nodeAfter.type==i.type&&Vs(x.doc,S.pos)&&x.join(S.pos),n(x.scrollIntoView())}return!0}let p=a.type.spec.isolating||r>0&&d?null:Fe.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&hl(m);if(v!=null&&v>=e.depth)return n&&n(t.tr.lift(m,v).scrollIntoView()),!0;if(f&&al(a,"start",!0)&&al(i,"end")){let b=i,w=[];for(;w.push(b),!b.isTextblock;)b=b.lastChild;let x=a,S=1;for(;!x.isTextblock;x=x.firstChild)S++;if(b.canReplace(b.childCount,b.childCount,x.content)){if(n){let k=ie.empty;for(let R=w.length-1;R>=0;R--)k=ie.from(w[R].copy(k));let O=t.tr.step(new on(e.pos-w.length,e.pos+a.nodeSize,e.pos+S,e.pos+a.nodeSize-S,new me(k,w.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function m_(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(n&&n(e.tr.setSelection(Be.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const j3=m_(-1),L3=m_(1);function z3(t,e=null){return function(n,r){let{$from:i,$to:a}=n.selection,l=i.blockRange(a),c=l&&Xy(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function x1(t,e=null){return function(n,r){let i=!1;for(let a=0;a<n.selection.ranges.length&&!i;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];n.doc.nodesBetween(l,c,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let p=n.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let a=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];a.setBlockType(c,d,t,e)}r(a.scrollIntoView())}return!0}}function r0(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}r0(Zy,s_,o_);r0(Zy,c_,u_);r0(d_,f_,h_,M3);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function I3(t,e=null){return function(n,r){let{$from:i,$to:a}=n.selection,l=i.blockRange(a);if(!l)return!1;let c=r?n.tr:null;return B3(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function B3(t,e,n,r=null){let i=!1,a=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);a=new Sf(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Sf(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=Xy(a,n,r,e);return c?(t&&P3(t,e,c,i,n),!0):!1}function P3(t,e,n,r,i){let a=ie.empty;for(let p=n.length-1;p>=0;p--)a=ie.from(n[p].type.create(n[p].attrs,a));t.step(new on(e.start-(r?2:0),e.end,e.start,e.end,new me(a,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==i&&(l=p+1);let c=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&Vi(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return t}function U3(t){return function(e,n){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return a?n?r.node(a.depth-1).type==t?H3(e,n,t,a):$3(e,n,a):!0:!1}}function H3(t,e,n,r){let i=t.tr,a=r.end,l=r.$to.end(r.depth);a<l&&(i.step(new on(a-1,l,a,l,new me(ie.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Sf(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=hl(r);if(c==null)return!1;i.lift(r,c);let d=i.doc.resolve(i.mapping.map(a,-1)-1);return Vs(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function $3(t,e,n){let r=t.tr,i=n.parent;for(let b=n.end,w=n.endIndex-1,x=n.startIndex;w>x;w--)b-=i.child(w).nodeSize,r.delete(b-1,b+1);let a=r.doc.resolve(n.start),l=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==i.childCount,f=a.node(-1),p=a.index(-1);if(!f.canReplace(p+(c?0:1),p+1,l.content.append(d?ie.empty:ie.from(i))))return!1;let m=a.pos,v=m+l.nodeSize;return r.step(new on(m-(c?1:0),v+(d?1:0),m+1,v-1,new me((c?ie.empty:ie.from(i.copy(ie.empty))).append(d?ie.empty:ie.from(i.copy(ie.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function q3(t){return function(e,n){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!a)return!1;let l=a.startIndex;if(l==0)return!1;let c=a.parent,d=c.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==c.type,p=ie.from(f?t.create():null),m=new me(ie.from(t.create(null,ie.from(c.type.create(null,p)))),f?3:1,0),v=a.start,b=a.end;n(e.tr.step(new on(v-(f?3:1),b,v,b,m,1,!0)).scrollIntoView())}return!0}}const wn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ol=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let sy=null;const $i=function(t,e,n){let r=sy||(sy=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},V3=function(){sy=null},Pa=function(t,e,n,r){return n&&(E1(t,e,n,r,-1)||E1(t,e,n,r,1))},F3=/^(img|br|input|textarea|hr)$/i;function E1(t,e,n,r,i){for(var a;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Mr(t))){let l=t.parentNode;if(!l||l.nodeType!=1||mu(t)||F3.test(t.nodeName)||t.contentEditable=="false")return!1;e=wn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((a=l.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Mr(t):0}else return!1}}function Mr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function G3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Mr(t)}else if(t.parentNode&&!mu(t))e=wn(t),t=t.parentNode;else return null}}function K3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!mu(t))e=wn(t)+1,t=t.parentNode;else return null}}function W3(t,e,n){for(let r=e==0,i=e==Mr(t);r||i;){if(t==n)return!0;let a=wn(t);if(t=t.parentNode,!t)return!1;r=r&&a==0,i=i&&a==Mr(t)}}function mu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const wh=function(t){return t.focusNode&&Pa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ta(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Y3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function J3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Mr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Mr(r.startContainer),r.startOffset)}}}const ci=typeof navigator<"u"?navigator:null,k1=typeof document<"u"?document:null,Fs=ci&&ci.userAgent||"",ay=/Edge\/(\d+)/.exec(Fs),g_=/MSIE \d/.exec(Fs),oy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fs),Wn=!!(g_||oy||ay),Bs=g_?document.documentMode:oy?+oy[1]:ay?+ay[1]:0,Nr=!Wn&&/gecko\/(\d+)/i.test(Fs);Nr&&+(/Firefox\/(\d+)/.exec(Fs)||[0,0])[1];const ly=!Wn&&/Chrome\/(\d+)/.exec(Fs),xn=!!ly,y_=ly?+ly[1]:0,An=!Wn&&!!ci&&/Apple Computer/.test(ci.vendor),ll=An&&(/Mobile\/\w+/.test(Fs)||!!ci&&ci.maxTouchPoints>2),Rr=ll||(ci?/Mac/.test(ci.platform):!1),v_=ci?/Win/.test(ci.platform):!1,qi=/Android \d/.test(Fs),gu=!!k1&&"webkitFontSmoothing"in k1.documentElement.style,X3=gu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Q3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function zi(t,e){return typeof t=="number"?t:t[e]}function Z3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function T1(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=ol(l);continue}let c=l,d=c==a.body,f=d?Q3(a):Z3(c),p=0,m=0;if(e.top<f.top+zi(r,"top")?m=-(f.top-e.top+zi(i,"top")):e.bottom>f.bottom-zi(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+zi(i,"top")-f.top:e.bottom-f.bottom+zi(i,"bottom")),e.left<f.left+zi(r,"left")?p=-(f.left-e.left+zi(i,"left")):e.right>f.right-zi(r,"right")&&(p=e.right-f.right+zi(i,"right")),p||m)if(d)a.defaultView.scrollBy(p,m);else{let b=c.scrollLeft,w=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let x=c.scrollLeft-b,S=c.scrollTop-w;e={left:e.left-x,top:e.top-S,right:e.right-x,bottom:e.bottom-S}}let v=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:ol(l)}}function eI(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let a=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(a,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,i=d.top;break}}return{refDOM:r,refTop:i,stack:b_(t.dom)}}function b_(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ol(r));return e}function tI({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;w_(n,r==0?0:r-e)}function w_(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:a}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let $o=null;function nI(t){if(t.setActive)return t.setActive();if($o)return t.focus($o);let e=b_(t);t.focus($o==null?{get preventScroll(){return $o={preventScroll:!0},!0}}:void 0),$o||($o=!1,w_(e,0))}function S_(t,e){let n,r=2e8,i,a=0,l=e.top,c=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=$i(p).getClientRects();else continue;for(let b=0;b<v.length;b++){let w=v[b];if(w.top<=l&&w.bottom>=c){l=Math.max(w.bottom,l),c=Math.min(w.top,c);let x=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(x<r){n=p,r=x,i=x&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&x&&(a=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=p,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(a=m+1)}}return!n&&d&&(n=d,i=f,r=0),n&&n.nodeType==3?rI(n,i):!n||r&&n.nodeType==1?{node:t,offset:a}:S_(n,i)}function rI(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let a=0;a<n;a++){r.setEnd(t,a+1),r.setStart(t,a);let l=Es(r,1);if(l.top!=l.bottom&&i0(e,l)){i={node:t,offset:a+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function i0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function iI(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function sI(t,e,n){let{node:r,offset:i}=S_(e,n),a=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();a=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,a)}function aI(t,e,n,r){let i=-1;for(let a=e,l=!1;a!=t.dom;){let c=t.docView.nearestDesc(a,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;a=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function x_(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),a=i;;){let l=t.childNodes[a];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(i0(e,f))return x_(l,e,f)}}if((a=(a+1)%r)==i)break}return t}function oI(t,e){let n=t.dom.ownerDocument,r,i=0,a=J3(n,e.left,e.top);a&&({node:r,offset:i}=a);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!i0(e,f)||(l=x_(t.dom,e,f),!l))return null}if(An)for(let f=l;r&&f;f=ol(f))f.draggable&&(r=void 0);if(l=iI(l,e),r){if(Nr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;gu&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=aI(t,r,i,e))}c==null&&(c=sI(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function _1(t){return t.top<t.bottom||t.left<t.right}function Es(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(_1(r))return r}return Array.prototype.find.call(n,_1)||t.getBoundingClientRect()}const lI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function E_(t,e,n){let{node:r,offset:i,atom:a}=t.docView.domFromPos(e,n<0?-1:1),l=gu||Nr;if(r.nodeType==3)if(l&&(lI.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=Es($i(r,i,i),n);if(Nr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Es($i(r,i-1,i-1),-1);if(f.top==d.top){let p=Es($i(r,i,i+1),-1);if(p.top!=d.top)return pc(p,p.left<f.left)}}return d}else{let d=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==r.nodeValue.length?(d--,p=1):n<0?d--:f++,pc(Es($i(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(n<0||i==Mr(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return gg(d.getBoundingClientRect(),!1)}if(a==null&&i<Mr(r)){let d=r.childNodes[i];if(d.nodeType==1)return gg(d.getBoundingClientRect(),!0)}return gg(r.getBoundingClientRect(),n>=0)}if(a==null&&i&&(n<0||i==Mr(r))){let d=r.childNodes[i-1],f=d.nodeType==3?$i(d,Mr(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return pc(Es(f,1),!1)}if(a==null&&i<Mr(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?$i(d,0,l?0:1):d.nodeType==1?d:null:null;if(f)return pc(Es(f,-1),!0)}return pc(Es(r.nodeType==3?$i(r):r,-n),n>=0)}function pc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function gg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function k_(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function cI(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return k_(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(a,!0);if(!c)break;if(c.node.isBlock){a=c.contentDOM||c.dom;break}a=c.dom.parentNode}let l=E_(t,i.pos,1);for(let c=a.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=$i(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const uI=/[\u0590-\u08ac]/;function dI(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!uI.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?a:l:k_(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",n,"character");let b=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:x}=t.domSelectionRange(),S=w&&!b.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==x;try{c.collapse(p,m),d&&(d!=p||f!=m)&&c.extend&&c.extend(d,f)}catch{}return v!=null&&(c.caretBidiLevel=v),S}):r.pos==r.start()||r.pos==r.end()}let C1=null,A1=null,O1=!1;function fI(t,e,n){return C1==e&&A1==n?O1:(C1=e,A1=n,O1=n=="up"||n=="down"?cI(t,e,n):dI(t,e,n))}const Dr=0,R1=1,Aa=2,ui=3;class yu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Dr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,l;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}else{let a,l;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>wn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),l;if(a&&(!n||a.node))if(r&&(l=a.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],a=r+i.size;if(r==e&&a!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<a)return i.descAt(e-r-i.border);r=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let l=this.children[r],c=a+l.size;if(c>e||l instanceof __){i=e-a;break}a=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof T_&&a.side>=0;r--);if(n<=0){let a,l=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,l=!1);return a&&n&&l&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?wn(a.dom)+1:0}}else{let a,l=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,l=!1);return a&&l&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?wn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let l=r,c=0;;c++){let d=this.children[c],f=l+d.size;if(i==-1&&e<=f){let p=l+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let m=c;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=wn(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>n||c==this.children.length-1)){n=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){a=wn(m.dom);break}n+=m.size}a==-1&&(a=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let a=Math.min(e,n),l=Math.max(e,n);for(let b=0,w=0;b<this.children.length;b++){let x=this.children[b],S=w+x.size;if(a>w&&l<S)return x.setSelection(e-w-x.border,n-w-x.border,r,i);w=S}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Nr||An)&&e==n){let{node:b,offset:w}=c;if(b.nodeType==3){if(m=!!(w&&b.nodeValue[w-1]==`
`),m&&w==b.nodeValue.length)for(let x=b,S;x;x=x.parentNode){if(S=x.nextSibling){S.nodeName=="BR"&&(c=d={node:S.parentNode,offset:wn(S)+1});break}let k=x.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let x=b.childNodes[w-1];m=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(Nr&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||m&&An)&&Pa(c.node,c.offset,p.anchorNode,p.anchorOffset)&&Pa(d.node,d.offset,p.focusNode,p.focusOffset))return;let v=!1;if((f.extend||e==n)&&!(m&&Nr)){f.collapse(c.node,c.offset);try{e!=n&&f.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>n){let w=c;c=d,d=w}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],l=r+a.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+a.border,d=l-a.border;if(e>=c&&n<=d){this.dirty=e==r||n==l?Aa:R1,e==c&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=ui:a.markDirty(e-c,n-c);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Aa:ui}r=l}this.dirty=Aa}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Aa:R1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class T_ extends yu{constructor(e,n,r,i){let a,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==Dr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class hI extends yu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ua extends yu{constructor(e,n,r,i,a){super(e,[],r,i),this.mark=n,this.spec=a}static create(e,n,r,i){let a=i.nodeViews[n.type.name],l=a&&a(n,i,r);return(!l||!l.dom)&&(l=Ka.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ua(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&ui||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ui&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Dr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Dr}}slice(e,n,r){let i=Ua.create(this.parent,this.mark,!0,r),a=this.children,l=this.size;n<l&&(a=uy(a,n,l,r)),e>0&&(a=uy(a,0,e,r));for(let c=0;c<a.length;c++)a[c].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ps extends yu{constructor(e,n,r,i,a,l,c,d,f){super(e,[],a,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,a,l){let c=a.nodeViews[n.type.name],d,f=c&&c(n,a,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Ka.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=O_(p,r,n),f?d=new pI(e,n,r,i,p,m||null,v,f,a,l+1):n.isText?new Sh(e,n,r,i,p,v,a):new Ps(e,n,r,i,p,m||null,v,a,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ie.empty)}return e}matchesNode(e,n,r){return this.dirty==Dr&&e.eq(this.node)&&Ef(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,a=e.composing?this.localCompositionInfo(e,n):null,l=a&&a.pos>-1?a:null,c=a&&a.pos<0,d=new gI(this,l&&l.node,e);bI(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e,p):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?gt.none:this.node.child(p).marks,r,e,p),d.placeWidget(f,e,i)},(f,p,m,v)=>{d.syncToMarks(f.marks,r,e,v);let b;d.findNodeMatch(f,p,m,v)||c&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(b=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(f,p,m,b,e)||d.updateNextNode(f,p,m,e,v,i)||d.addNode(f,p,m,e,i),i+=f.nodeSize}),d.syncToMarks([],r,e,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Aa)&&(l&&this.protectLocalComposition(e,l),C_(this.contentDOM,this.children,e),ll&&wI(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Be)||r<n||i>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=SI(this.node.content,l,r-n,i-n);return c<0?null:{node:a,pos:c,text:l}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let l=new hI(this,a,n,i);e.input.compositionNodes.push(l),this.children=uy(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==ui||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Dr}updateOuterDeco(e){if(Ef(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=A_(this.dom,this.nodeDOM,cy(this.outerDeco,this.node,n),cy(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function M1(t,e,n,r,i){O_(r,e,t);let a=new Ps(void 0,t,e,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Sh extends Ps{constructor(e,n,r,i,a,l,c){super(e,n,r,i,a,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ui||this.dirty!=Dr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Dr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Dr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),a=document.createTextNode(i.text);return new Sh(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ui)}get domAtom(){return!1}isText(e){return this.node.text==e}}class __ extends yu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Dr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class pI extends Ps{constructor(e,n,r,i,a,l,c,d,f,p){super(e,n,r,i,a,l,c,f,p),this.spec=d}update(e,n,r,i){if(this.dirty==ui)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,r);return a&&this.updateInner(e,n,r,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function C_(t,e,n){let r=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let l=e[a],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=N1(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof Ua){let d=r?r.previousSibling:t.lastChild;C_(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=N1(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Rc=function(t){t&&(this.nodeName=t)};Rc.prototype=Object.create(null);const Oa=[new Rc];function cy(t,e,n){if(t.length==0)return Oa;let r=n?Oa[0]:new Rc,i=[r];for(let a=0;a<t.length;a++){let l=t[a].type.attrs;if(l){l.nodeName&&i.push(r=new Rc(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&i.length==1&&i.push(r=new Rc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return i}function A_(t,e,n,r){if(n==Oa&&r==Oa)return e;let i=e;for(let a=0;a<r.length;a++){let l=r[a],c=n[a];if(a){let d;c&&c.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),c=Oa[0]),i=d}mI(i,c||Oa[0],l)}return i}function mI(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&t.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function O_(t,e,n){return A_(t,t,Oa,cy(e,n,t.nodeType!=1))}function Ef(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function N1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class gI{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=yI(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,i){let a=0,l=this.stack.length>>1,c=Math.min(l,e.length);for(;a<c&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=Dr,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let d=-1,f=this.top.children.length;i<this.preMatch.index&&(f=Math.min(this.index+3,f));for(let p=this.index;p<f;p++){let m=this.top.children[p];if(m.matchesMark(e[l])&&!this.isLocked(m.dom)){d=p;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let p=Ua.create(this.top,e[l],n,r);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,l++}}findNodeMatch(e,n,r,i){let a=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))a=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,r,i,a){let l=this.top.children[i];return l.dirty==ui&&l.dom==l.contentDOM&&(l.dirty=Aa),l.update(e,n,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,a,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Ps){let f=this.preMatch.matched.get(d);if(f!=null&&f!=a)return!1;let p=d.dom,m,v=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=ui&&Ef(n,d.outerDeco));if(!v&&d.update(e,n,r,i))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Aa,m.updateChildren(i,l+1),m.dirty=Dr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,a,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ef(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=Ps.create(this.top,n,r,i,a,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,i,a){let l=Ps.create(this.top,e,n,r,i,a);l.contentDOM&&l.updateChildren(i,a+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new T_(this.top,e,n,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ua;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Sh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((An||xn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new __(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function yI(t,e){let n=e,r=n.children.length,i=t.childCount,a=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof Ua)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(i-1))break;--i,a.set(c,i),l.push(c)}}return{index:i,matched:a,matches:l.reverse()}}function vI(t,e){return t.type.side-e.type.side}function bI(t,e,n,r){let i=e.locals(t),a=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,i,e.forChild(a,p),f),a+=p.nodeSize}return}let l=0,c=[],d=null;for(let f=0;;){let p,m;for(;l<i.length&&i[l].to==a;){let S=i[l++];S.widget&&(p?(m||(m=[p])).push(S):p=S)}if(p)if(m){m.sort(vI);for(let S=0;S<m.length;S++)n(m[S],f,!!d)}else n(p,f,!!d);let v,b;if(d)b=-1,v=d,d=null;else if(f<t.childCount)b=f,v=t.child(f++);else break;for(let S=0;S<c.length;S++)c[S].to<=a&&c.splice(S--,1);for(;l<i.length&&i[l].from<=a&&i[l].to>a;)c.push(i[l++]);let w=a+v.nodeSize;if(v.isText){let S=w;l<i.length&&i[l].from<S&&(S=i[l].from);for(let k=0;k<c.length;k++)c[k].to<S&&(S=c[k].to);S<w&&(d=v.cut(S-a),v=v.cut(0,S-a),w=S,b=-1)}else for(;l<i.length&&i[l].to<w;)l++;let x=v.isInline&&!v.isLeaf?c.filter(S=>!S.inline):c.slice();r(v,x,e.forChild(a,v),b),a=w}}function wI(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function SI(t,e,n,r){for(let i=0,a=0;i<t.childCount&&a<=r;){let l=t.child(i++),c=a;if(a+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let f=t.child(i++);if(a+=f.nodeSize,!f.isText)break;d+=f.text}if(a>=n){if(a>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function uy(t,e,n,r,i){let a=[];for(let l=0,c=0;l<t.length;l++){let d=t[l],f=c,p=c+=d.size;f>=n||p<=e?a.push(d):(f<e&&a.push(d.slice(0,e-f,r)),i&&(a.push(i),i=void 0),p>n&&a.push(d.slice(n-f,d.size,r)))}return a}function s0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),a=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,f;if(wh(n)){for(d=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Me.isSelectable(m)&&i.parent&&!(m.isInline&&W3(n.focusNode,n.focusOffset,i.dom))){let v=i.posBefore;f=new Me(l==v?c:r.resolve(v))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=l,v=l;for(let b=0;b<n.rangeCount;b++){let w=n.getRangeAt(b);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[d,l]=v==t.state.selection.anchor?[v,m]:[m,v],c=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<c.pos&&!a?1:-1;f=a0(t,p,c,m)}return f}function R_(t){return t.editable?t.hasFocus():N_(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Fi(t,e=!1){let n=t.state.selection;if(M_(t,n),!!R_(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&xn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Pa(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)EI(t);else{let{anchor:r,head:i}=n,a,l;D1&&!(n instanceof Be)&&(n.$from.parent.inlineContent||(a=j1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=j1(t,n.to))),t.docView.setSelection(r,i,t,e),D1&&(a&&L1(a),l&&L1(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xI(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const D1=An||xn&&y_<63;function j1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(An&&i&&i.contentEditable=="false")return yg(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return yg(i);if(a)return yg(a)}}function yg(t){return t.contentEditable="true",An&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function L1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function xI(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!R_(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function EI(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,wn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Wn&&Bs<=11&&(n.disabled=!0,n.disabled=!1)}function M_(t,e){if(e instanceof Me){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(z1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else z1(t)}function z1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function a0(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Be.between(e,n,r)}function I1(t){return t.editable&&!t.hasFocus()?!1:N_(t)}function N_(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function kI(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Pa(e.node,e.offset,n.anchorNode,n.anchorOffset)}function dy(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Fe.findFrom(a,e)}function Ts(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function B1(t,e,n){let r=t.state.selection;if(r instanceof Be)if(n.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Ts(t,new Be(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=dy(t.state,e);return i&&i instanceof Me?Ts(t,i):!1}else if(!(Rr&&n.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!a||a.isText)return!1;let c=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?Me.isSelectable(a)?Ts(t,new Me(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):gu?Ts(t,new Be(t.state.doc.resolve(e<0?c:c+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Me&&r.node.isInline)return Ts(t,new Be(e>0?r.$to:r.$from));{let i=dy(t.state,e);return i?Ts(t,i):!1}}}function kf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Mc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function qo(t,e){return e<0?TI(t):_I(t)}function TI(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,a,l=!1;for(Nr&&n.nodeType==1&&r<kf(n)&&Mc(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Mc(c,-1))i=n,a=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(D_(n))break;{let c=n.previousSibling;for(;c&&Mc(c,-1);)i=n.parentNode,a=wn(c),c=c.previousSibling;if(c)n=c,r=kf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?fy(t,n,r):i&&fy(t,i,a)}function _I(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=kf(n),a,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Mc(c,1))a=n,l=++r;else break}else{if(D_(n))break;{let c=n.nextSibling;for(;c&&Mc(c,1);)a=c.parentNode,l=wn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=kf(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}a&&fy(t,a,l)}function D_(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function CI(t,e){for(;t&&e==t.childNodes.length&&!mu(t);)e=wn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function AI(t,e){for(;t&&!e&&!mu(t);)e=wn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function fy(t,e,n){if(e.nodeType!=3){let a,l;(l=CI(e,n))?(e=l,n=0):(a=AI(e,n))&&(e=a,n=a.nodeValue.length)}let r=t.domSelection();if(!r)return;if(wh(r)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Fi(t)},50)}function P1(t,e){let n=t.state.doc.resolve(e);if(!(xn||v_)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),l=(a.top+a.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),l=(a.top+a.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function U1(t,e,n){let r=t.state.selection;if(r instanceof Be&&!r.empty||n.indexOf("s")>-1||Rr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=dy(t.state,e);if(l&&l instanceof Me)return Ts(t,l)}if(!i.parent.inlineContent){let l=e<0?i:a,c=r instanceof cr?Fe.near(l,e):Fe.findFrom(l,e);return c?Ts(t,c):!1}return!1}function H1(t,e){if(!(t.state.selection instanceof Be))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let l=t.state.tr;return e<0?l.delete(n.pos-a.nodeSize,n.pos):l.delete(n.pos,n.pos+a.nodeSize),t.dispatch(l),!0}return!1}function $1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function OI(t){if(!An||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;$1(t,r,"true"),setTimeout(()=>$1(t,r,"false"),20)}return!1}function RI(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function MI(t,e){let n=e.keyCode,r=RI(e);if(n==8||Rr&&n==72&&r=="c")return H1(t,-1)||qo(t,-1);if(n==46&&!e.shiftKey||Rr&&n==68&&r=="c")return H1(t,1)||qo(t,1);if(n==13||n==27)return!0;if(n==37||Rr&&n==66&&r=="c"){let i=n==37?P1(t,t.state.selection.from)=="ltr"?-1:1:-1;return B1(t,i,r)||qo(t,i)}else if(n==39||Rr&&n==70&&r=="c"){let i=n==39?P1(t,t.state.selection.from)=="ltr"?1:-1:1;return B1(t,i,r)||qo(t,i)}else{if(n==38||Rr&&n==80&&r=="c")return U1(t,-1,r)||qo(t,-1);if(n==40||Rr&&n==78&&r=="c")return OI(t)||U1(t,1,r)||qo(t,1);if(r==(Rr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function o0(t,e){t.someProp("transformCopied",b=>{e=b(e,t)});let n=[],{content:r,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let b=r.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let l=t.someProp("clipboardSerializer")||Ka.fromSchema(t.state.schema),c=P_(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=B_[f.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let w=c.createElement(p[b]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${a}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",b=>b(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function j_(t,e,n,r,i){let a=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let d=!!e&&(r||a||!n);if(d){if(t.someProp("transformPastedText",v=>{e=v(e,a||r,t)}),a)return c=new me(ie.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",v=>{c=v(c,t,!0)}),c;let m=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(m)c=m;else{let v=i.marks(),{schema:b}=t.state,w=Ka.fromSchema(b);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let S=l.appendChild(document.createElement("p"));x&&S.appendChild(w.serializeNode(b.text(x,v)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=LI(n),gu&&zI(l);let f=l&&l.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Is.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!NI.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=II(q1(c,+p[1],+p[2]),p[4]);else if(c=me.maxOpen(DI(c.content,i),!0),c.openStart||c.openEnd){let m=0,v=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;v<c.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);c=q1(c,m,v)}return t.someProp("transformPasted",m=>{c=m(c,t,d)}),c}const NI=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function DI(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),a,l=[];if(t.forEach(c=>{if(!l)return;let d=i.findWrapping(c.type),f;if(!d)return l=null;if(f=l.length&&a.length&&z_(d,a,c,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=I_(l[l.length-1],a.length));let p=L_(c,d);l.push(p),i=i.matchType(p.type),a=d}}),l)return ie.from(l)}return t}function L_(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ie.from(t));return t}function z_(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=z_(t,e,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ie.from(L_(n,t,i+1))))}}function I_(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,I_(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ie.empty,!0);return t.copy(n.append(r))}function hy(t,e,n,r,i,a){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(a=0),i<r-1&&(c=hy(c,e,n,r,i+1,a)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,a<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(ie.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function q1(t,e,n){return e<t.openStart&&(t=new me(hy(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new me(hy(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const B_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let V1=null;function P_(){return V1||(V1=document.implementation.createHTMLDocument("title"))}let vg=null;function jI(t){let e=window.trustedTypes;return e?(vg||(vg=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),vg.createHTML(t)):t}function LI(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=P_().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&B_[r[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=jI(t),i)for(let a=0;a<i.length;a++)n=n.querySelector(i[a])||n;return n}function zI(t){let e=t.querySelectorAll(xn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function II(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;i=ie.from(d.create(r[c+1],i)),a++,l++}return new me(i,a,l)}const jn={},Ln={},BI={touchstart:!0,touchmove:!0};class PI{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function UI(t){for(let e in jn){let n=jn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{$I(t,r)&&!l0(t,r)&&(t.editable||!(r.type in Ln))&&n(t,r)},BI[e]?{passive:!0}:void 0)}An&&t.dom.addEventListener("input",()=>null),py(t)}function zs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function HI(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function py(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>l0(t,r))})}function l0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function $I(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function qI(t,e){!l0(t,e)&&jn[e.type]&&(t.editable||!(e.type in Ln))&&jn[e.type](t,e)}Ln.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!H_(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(qi&&xn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ll&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ta(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||MI(t,n)?n.preventDefault():zs(t,"key")};Ln.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ln.keypress=(t,e)=>{let n=e;if(H_(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Rr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Be)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,a))&&t.dispatch(a()),n.preventDefault()}};function xh(t){return{left:t.clientX,top:t.clientY}}function VI(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function c0(t,e,n,r,i){if(r==-1)return!1;let a=t.state.doc.resolve(r);for(let l=a.depth+1;l>0;l--)if(t.someProp(e,c=>l>a.depth?c(t,n,a.nodeAfter,a.before(l),i,!0):c(t,n,a.node(l),a.before(l),i,!1)))return!0;return!1}function rl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function FI(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Me.isSelectable(r)?(rl(t,new Me(n)),!0):!1}function GI(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Me&&(r=n.node);let a=t.state.doc.resolve(e);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l);if(Me.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?i=a.before(n.$from.depth):i=a.before(l);break}}return i!=null?(rl(t,Me.create(t.state.doc,i)),!0):!1}function KI(t,e,n,r,i){return c0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",a=>a(t,e,r))||(i?GI(t,n):FI(t,n))}function WI(t,e,n,r){return c0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function YI(t,e,n,r){return c0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||JI(t,n,r)}function JI(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(rl(t,Be.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a),c=i.before(a);if(l.inlineContent)rl(t,Be.create(r,c+1,c+1+l.content.size));else if(Me.isSelectable(l))rl(t,Me.create(r,c));else continue;return!0}}function u0(t){return Tf(t)}const U_=Rr?"metaKey":"ctrlKey";jn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=u0(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&VI(n,t.input.lastClick)&&!n[U_]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:a,button:n.button};let l=t.posAtCoords(xh(n));l&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new XI(t,l,n,!!r)):(a=="doubleClick"?WI:YI)(t,l.pos,l.inside,n)?n.preventDefault():zs(t,"pointer"))};class XI{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[U_],this.allowDefault=r.shiftKey;let a,l;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);a=p.parent,l=p.depth?p.before():0}const c=i?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof Me&&f.from<=l&&f.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Nr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),zs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Fi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(xh(e))),this.updateAllowDefault(e),this.allowDefault||!n?zs(this.view,"pointer"):KI(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||An&&this.mightDrag&&!this.mightDrag.node.isAtom||xn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(rl(this.view,Fe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):zs(this.view,"pointer")}move(e){this.updateAllowDefault(e),zs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}jn.touchstart=t=>{t.input.lastTouch=Date.now(),u0(t),zs(t,"pointer")};jn.touchmove=t=>{t.input.lastTouch=Date.now(),zs(t,"pointer")};jn.contextmenu=t=>u0(t);function H_(t,e){return t.composing?!0:An&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const QI=qi?5e3:-1;Ln.compositionstart=Ln.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Be&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||xn&&v_&&ZI(t)))t.markCursor=t.state.storedMarks||n.marks(),Tf(t,!0),t.markCursor=null;else if(Tf(t,!e.selection.empty),Nr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let l=a<0?i.lastChild:i.childNodes[a-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,a=-1}}t.input.composing=!0}$_(t,QI)};function ZI(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Ln.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,$_(t,20))};function $_(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Tf(t),e))}function q_(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=tB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function eB(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=G3(e.focusNode,e.focusOffset),r=K3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function tB(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Tf(t,e=!1){if(!(qi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),q_(t),e||t.docView&&t.docView.dirty){let n=s0(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function nB(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Zc=Wn&&Bs<15||ll&&X3<604;jn.copy=Ln.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let a=Zc?null:n.clipboardData,l=r.content(),{dom:c,text:d}=o0(t,l);a?(n.preventDefault(),a.clearData(),a.setData("text/html",c.innerHTML),a.setData("text/plain",d)):nB(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function rB(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function iB(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?eu(t,r.value,null,i,e):eu(t,r.textContent,r.innerHTML,i,e)},50)}function eu(t,e,n,r,i){let a=j_(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,a||me.empty)))return!0;if(!a)return!1;let l=rB(a),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(a);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function V_(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ln.paste=(t,e)=>{let n=e;if(t.composing&&!qi)return;let r=Zc?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&eu(t,V_(r),r.getData("text/html"),i,n)?n.preventDefault():iB(t,n)};class F_{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const sB=Rr?"altKey":"ctrlKey";function G_(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[sB]}jn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(xh(n)),l;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Me?i.to-1:i.to))){if(r&&r.mightDrag)l=Me.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(l=Me.create(t.state.doc,m.posBefore))}}let c=(l||t.state.selection).content(),{dom:d,text:f,slice:p}=o0(t,c);(!n.dataTransfer.files.length||!xn||y_>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Zc?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Zc||n.dataTransfer.setData("text/plain",f),t.dragging=new F_(p,G_(t,n),l)};jn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ln.dragover=Ln.dragenter=(t,e)=>e.preventDefault();Ln.drop=(t,e)=>{try{aB(t,e,t.dragging)}finally{t.dragging=null}};function aB(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(xh(e));if(!r)return;let i=t.state.doc.resolve(r.pos),a=n&&n.slice;a?t.someProp("transformPasted",b=>{a=b(a,t,!1)}):a=j_(t,V_(e.dataTransfer),Zc?null:e.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&G_(t,e));if(t.someProp("handleDrop",b=>b(t,e,a||me.empty,l))){e.preventDefault();return}if(!a)return;e.preventDefault();let c=a?JT(t.state.doc,i.pos,a):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:b}=n;b?b.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(f,f,a.content.firstChild):d.replaceRange(f,f,a),d.doc.eq(m))return;let v=d.doc.resolve(f);if(p&&Me.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new Me(v));else{let b=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((w,x,S,k)=>b=k),d.setSelection(a0(t,v,d.doc.resolve(b)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}jn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Fi(t)},20))};jn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};jn.beforeinput=(t,e)=>{if(xn&&qi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Ta(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ln)jn[t]=Ln[t];function tu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class _f{constructor(e,n){this.toDOM=e,this.spec=n||ja,this.side=this.spec.side||0}map(e,n,r,i){let{pos:a,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Dn(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof _f&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&tu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Us{constructor(e,n){this.attrs=e,this.spec=n||ja}map(e,n,r,i){let a=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=l?null:new Dn(a,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Us&&tu(this.attrs,e.attrs)&&tu(this.spec,e.spec)}static is(e){return e.type instanceof Us}destroy(){}}class d0{constructor(e,n){this.attrs=e,this.spec=n||ja}map(e,n,r,i){let a=e.mapResult(n.from+i,1);if(a.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=a.pos?null:new Dn(a.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),a;return i==n.from&&!(a=e.child(r)).isText&&i+a.nodeSize==n.to}eq(e){return this==e||e instanceof d0&&tu(this.attrs,e.attrs)&&tu(this.spec,e.spec)}destroy(){}}class Dn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Dn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Dn(e,e,new _f(n,r))}static inline(e,n,r,i){return new Dn(e,n,new Us(r,i))}static node(e,n,r,i){return new Dn(e,n,new d0(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Us}get widget(){return this.type instanceof _f}}const Yo=[],ja={};class At{constructor(e,n){this.local=e.length?e:Yo,this.children=n.length?n:Yo}static create(e,n){return n.length?Cf(n,e,0,ja):_n}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,a){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!a||a(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,a)}}map(e,n,r){return this==_n||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ja)}mapInner(e,n,r,i,a){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):a.onRemove&&a.onRemove(this.local[c].spec)}return this.children.length?oB(this.children,l||[],e,n,r,i,a):l?new At(l.sort(La),Yo):_n}add(e,n){return n.length?this==_n?At.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,a=0;e.forEach((c,d)=>{let f=d+r,p;if(p=W_(n,c,f)){for(i||(i=this.children.slice());a<i.length&&i[a]<d;)a+=3;i[a]==d?i[a+2]=i[a+2].addInner(c,p,f+1):i.splice(a,0,d,d+c.nodeSize,Cf(p,c,f+1,ja)),a+=3}});let l=K_(a?Y_(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new At(l.length?this.local.concat(l).sort(La):this.local,i||this.children)}remove(e){return e.length==0||this==_n?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let l,c=r[a]+n,d=r[a+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[a+2].removeInner(l,c+1);f!=_n?r[a+2]=f:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,l;a<e.length;a++)if(l=e[a])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new At(i,r):_n}forChild(e,n){if(this==_n)return this;if(n.isLeaf)return At.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let a=e+1,l=a+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>a&&d.type instanceof Us){let f=Math.max(a,d.from)-a,p=Math.min(l,d.to)-a;f<p&&(i||(i=[])).push(d.copy(f,p))}}if(i){let c=new At(i.sort(La),Yo);return r?new Ms([c,r]):c}return r||_n}eq(e){if(this==e)return!0;if(!(e instanceof At)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return f0(this.localsInner(e))}localsInner(e){if(this==_n)return Yo;if(e.inlineContent||!this.local.some(Us.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Us||n.push(this.local[r]);return n}forEachSet(e){e(this)}}At.empty=new At([],[]);At.removeOverlap=f0;const _n=At.empty;class Ms{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ja));return Ms.from(r)}forChild(e,n){if(n.isLeaf)return At.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,n);a!=_n&&(a instanceof Ms?r=r.concat(a.members):r.push(a))}return Ms.from(r)}eq(e){if(!(e instanceof Ms)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!n)n=a;else{r&&(n=n.slice(),r=!1);for(let l=0;l<a.length;l++)n.push(a[l])}}return n?f0(r?n:n.sort(La)):Yo}static from(e){switch(e.length){case 0:return _n;case 1:return e[0];default:return new Ms(e.every(n=>n instanceof At)?e:e.reduce((n,r)=>n.concat(r instanceof At?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function oB(t,e,n,r,i,a,l){let c=t.slice();for(let f=0,p=a;f<n.maps.length;f++){let m=0;n.maps[f].forEach((v,b,w,x)=>{let S=x-w-(b-v);for(let k=0;k<c.length;k+=3){let O=c[k+1];if(O<0||v>O+p-m)continue;let R=c[k]+p-m;b>=R?c[k+1]=v<=R?-2:-1:v>=p&&S&&(c[k]+=S,c[k+1]+=S)}m+=S}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let p=n.map(t[f]+a),m=p-i;if(m<0||m>=r.content.size){d=!0;continue}let v=n.map(t[f+1]+a,-1),b=v-i,{index:w,offset:x}=r.content.findIndex(m),S=r.maybeChild(w);if(S&&x==m&&x+S.nodeSize==b){let k=c[f+2].mapInner(n,S,p+1,t[f]+a+1,l);k!=_n?(c[f]=m,c[f+1]=b,c[f+2]=k):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=lB(c,t,e,n,i,a,l),p=Cf(f,r,0,l);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let b=p.children[m];for(;v<c.length&&c[v]<b;)v+=3;c.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new At(e.sort(La),c)}function K_(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Dn(i.from+e,i.to+e,i.type))}return n}function lB(t,e,n,r,i,a,l){function c(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,i,f);m?n.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+a+1);return n}function W_(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let a=0,l;a<t.length;a++)(l=t[a])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[a]=null);return i}function Y_(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Cf(t,e,n,r){let i=[],a=!1;e.forEach((c,d)=>{let f=W_(t,c,d+n);if(f){a=!0;let p=Cf(f,c,n+d+1,r);p!=_n&&i.push(d,d+c.nodeSize,p)}});let l=K_(a?Y_(t):t,-n).sort(La);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new At(l,i):_n}function La(t,e){return t.from-e.from||t.to-e.to}function f0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let a=e[i];if(a.from==r.from){a.to!=r.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,r.to),F1(e,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,a.from),F1(e,i,r.copy(a.from,r.to)));break}}}return e}function F1(t,e,n){for(;e<t.length&&La(n,t[e])>0;)e++;t.splice(e,0,n)}function bg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=_n&&e.push(r)}),t.cursorWrapper&&e.push(At.create(t.state.doc,[t.cursorWrapper.deco])),Ms.from(e)}const cB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},uB=Wn&&Bs<=11;class dB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class fB{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new dB,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Wn&&Bs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():An&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),uB&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,cB)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(I1(this.view)){if(this.suppressingSelectionUpdates)return Fi(this.view);if(Wn&&Bs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Pa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let a=e.focusNode;a;a=ol(a))n.add(a);for(let a=e.anchorNode;a;a=ol(a))if(n.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&I1(e)&&!this.ignoreSelectionChange(r),a=-1,l=-1,c=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(a=a<0?m.from:Math.min(m.from,a),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(c=!0))}if(d.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of d)if(p.nodeName=="BR"&&p.parentNode){let m=p.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&p.parentNode.removeChild(p)}}else if(Nr&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let b=v.parentNode;b&&b.nodeName=="LI"&&(!m||mB(e,m)!=b)&&v.remove()}}}let f=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&wh(r)&&(f=s0(e))&&f.eq(Fe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Fi(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,l),hB(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,gB(e,d)),this.handleDOMChange(a,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Fi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Wn&&Bs<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(a=v)}let l=i&&i.parentNode==e.target?wn(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=a&&a.parentNode==e.target?wn(a):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let G1=new WeakMap,K1=!1;function hB(t){if(!G1.has(t)&&(G1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Nr,K1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),K1=!0}}function W1(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Pa(l.node,l.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function pB(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return W1(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?W1(t,n):null}function mB(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function gB(t,e){var n;let{focusNode:r,focusOffset:i}=t.domSelectionRange();for(let a of e)if(((n=a.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let l=a.nextSibling;for(;l&&l.nodeName!="TD"&&l.nodeName!="TH";)l=l.nextSibling;if(l){let c=l;for(;;){let d=c.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;c=d}c.insertBefore(a,c.firstChild),r==a&&t.domSelection().collapse(a,i)}else a.parentNode.removeChild(a)}}function yB(t,e,n){let{node:r,fromOffset:i,toOffset:a,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],wh(d)||f.push({node:d.focusNode,offset:d.focusOffset})),xn&&t.input.lastKeyCode===8)for(let S=a;S>i;S--){let k=r.childNodes[S-1],O=k.pmViewDesc;if(k.nodeName=="BR"&&!O){a=S;break}if(!O||O.size)break}let m=t.state.doc,v=t.someProp("domParser")||Is.fromSchema(t.state.schema),b=m.resolve(l),w=null,x=v.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:a,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:vB,context:b});if(f&&f[0].pos!=null){let S=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=S),w={anchor:S+l,head:k+l}}return{doc:x,sel:w,from:l,to:c}}function vB(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(An&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||An&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const bB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function wB(t,e,n,r,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=s0(t,T);if(z&&!t.state.selection.eq(z)){if(xn&&qi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",le=>le(t,Ta(13,"Enter"))))return;let G=t.state.tr.setSelection(z);T=="pointer"?G.setMeta("pointer",!0):T=="key"&&G.scrollIntoView(),a&&G.setMeta("composition",a),t.dispatch(G)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,f=yB(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),v,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,b="end"):(v=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let w=EB(m.content,f.doc.content,f.from,v,b);if(w&&t.input.domChangeCount++,(ll&&t.input.lastIOSEnter>Date.now()-225||qi)&&i.some(T=>T.nodeType==1&&!bB.test(T.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",T=>T(t,Ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof Be&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let T=Y1(t,t.state.doc,f.sel);if(T&&!T.eq(t.state.selection)){let z=t.state.tr.setSelection(T);a&&z.setMeta("composition",a),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Be&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Wn&&Bs<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let x=f.doc.resolveNoCache(w.start-f.from),S=f.doc.resolveNoCache(w.endB-f.from),k=p.resolve(w.start),O=x.sameParent(S)&&x.parent.inlineContent&&k.end()>=w.endA;if((ll&&t.input.lastIOSEnter>Date.now()-225&&(!O||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!O&&x.pos<f.doc.content.size&&(!x.sameParent(S)||!x.parent.inlineContent)&&x.pos<S.pos&&!/\S/.test(f.doc.textBetween(x.pos,S.pos,"","")))&&t.someProp("handleKeyDown",T=>T(t,Ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&xB(p,w.start,w.endA,x,S)&&t.someProp("handleKeyDown",T=>T(t,Ta(8,"Backspace")))){qi&&xn&&t.domObserver.suppressSelectionUpdates();return}xn&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),qi&&!O&&x.start()!=S.start()&&S.parentOffset==0&&x.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,S=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,Ta(13,"Enter"))})},20));let R=w.start,U=w.endA,A=T=>{let z=T||t.state.tr.replace(R,U,f.doc.slice(w.start-f.from,w.endB-f.from));if(f.sel){let G=Y1(t,z.doc,f.sel);G&&!(xn&&t.composing&&G.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(G.head==R||G.head==z.mapping.map(U)-1)||Wn&&G.empty&&G.head==R)&&z.setSelection(G)}return a&&z.setMeta("composition",a),z.scrollIntoView()},N;if(O)if(x.pos==S.pos){Wn&&Bs<=11&&x.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Fi(t),20));let T=A(t.state.tr.delete(R,U)),z=p.resolve(w.start).marksAcross(p.resolve(w.endA));z&&T.ensureMarks(z),t.dispatch(T)}else if(w.endA==w.endB&&(N=SB(x.parent.content.cut(x.parentOffset,S.parentOffset),k.parent.content.cut(k.parentOffset,w.endA-k.start())))){let T=A(t.state.tr);N.type=="add"?T.addMark(R,U,N.mark):T.removeMark(R,U,N.mark),t.dispatch(T)}else if(x.parent.child(x.index()).isText&&x.index()==S.index()-(S.textOffset?0:1)){let T=x.parent.textBetween(x.parentOffset,S.parentOffset),z=()=>A(t.state.tr.insertText(T,R,U));t.someProp("handleTextInput",G=>G(t,R,U,T,z))||t.dispatch(z())}else t.dispatch(A());else t.dispatch(A())}function Y1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:a0(t,e.resolve(n.anchor),e.resolve(n.head))}function SB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,a=r,l,c,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)a=n[p].removeFromSet(a);if(i.length==1&&a.length==0)c=i[0],l="add",d=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&a.length==1)c=a[0],l="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(ie.from(f).eq(t))return{mark:c,type:l}}function xB(t,e,n,r,i){if(n-e<=i.pos-r.pos||wg(r,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!r.parent.isTextblock){let c=a.nodeAfter;return c!=null&&n==e+c.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let l=t.resolve(wg(a,!0,!0));return!l.parent.isTextblock||l.pos>n||wg(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function wg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let a=t.node(r).maybeChild(t.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function EB(t,e,n,r,i){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,a-Math.min(l,c));r-=l+d-a}if(l<a&&t.size<e.size){let d=r<=a&&r>=l?a-r:0;a-=d,a&&a<e.size&&J1(e.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-l),l=a}else if(c<a){let d=r<=a&&r>=c?a-r:0;a-=d,a&&a<t.size&&J1(t.textBetween(a-1,a+1))&&(a+=d?1:-1),l=a+(l-c),c=a}return{start:a,endA:l,endB:c}}function J1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class J_{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(tE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Z1(this),Q1(this),this.nodeViews=eE(this),this.docView=M1(this.state.doc,X1(this),bg(this),this.dom,this),this.domObserver=new fB(this,(r,i,a,l)=>wB(this,r,i,a,l)),this.domObserver.start(),UI(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&py(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tE),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,a=!1,l=!1;e.storedMarks&&this.composing&&(q_(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=eE(this);TB(b,this.nodeViews)&&(this.nodeViews=b,a=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&py(this),this.editable=Z1(this),Q1(this);let d=bg(this),f=X1(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=a||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(i.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&eI(this);if(l){this.domObserver.stop();let b=m&&(Wn||xn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&kB(i.selection,e.selection);if(m){let w=xn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=eB(this)),(a||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=M1(e.doc,f,d,this.dom,this)),w&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&kI(this))?Fi(this,b):(M_(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&tI(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Me){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&T1(this,n.getBoundingClientRect(),e)}else T1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new F_(e.slice,e.move,i<0?void 0:Me.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let a=this.state.plugins;if(a)for(let l=0;l<a.length;l++){let c=a[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(Wn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&nI(this.dom),Fi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return oI(this,e)}coordsAtPos(e,n=1){return E_(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return fI(this,n||this.state,e)}pasteHTML(e,n){return eu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return eu(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return o0(this,e)}destroy(){this.docView&&(HI(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],bg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,V3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return qI(this,e)}domSelectionRange(){let e=this.domSelection();return e?An&&this.root.nodeType===11&&Y3(this.dom.ownerDocument)==this.dom&&pB(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}J_.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function X1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Dn.node(0,t.state.doc.content.size,e)]}function Q1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Dn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Z1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function kB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function eE(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function TB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function tE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Hs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Af={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_B=typeof navigator<"u"&&/Mac/.test(navigator.platform),CB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Sn=0;Sn<10;Sn++)Hs[48+Sn]=Hs[96+Sn]=String(Sn);for(var Sn=1;Sn<=24;Sn++)Hs[Sn+111]="F"+Sn;for(var Sn=65;Sn<=90;Sn++)Hs[Sn]=String.fromCharCode(Sn+32),Af[Sn]=String.fromCharCode(Sn);for(var Sg in Hs)Af.hasOwnProperty(Sg)||(Af[Sg]=Hs[Sg]);function AB(t){var e=_B&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||CB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Af:Hs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const OB=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),RB=typeof navigator<"u"&&/Win/.test(navigator.platform);function MB(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,a,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))OB?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function NB(t){let e=Object.create(null);for(let n in t)e[MB(n)]=t[n];return e}function xg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function DB(t){return new Ot({props:{handleKeyDown:X_(t)}})}function X_(t){let e=NB(t);return function(n,r){let i=AB(r),a,l=e[xg(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[xg(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(RB&&r.ctrlKey&&r.altKey)&&(a=Hs[r.keyCode])&&a!=i){let c=e[xg(a,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var jB=Object.defineProperty,h0=(t,e)=>{for(var n in e)jB(t,n,{get:e[n],enumerable:!0})};function Eh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,a=n.storedMarks,n}}}var kh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,a=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...f)=>{const p=c(...f)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,l=[],c=!!t,d=t||i.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),l.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,v])=>[m,(...w)=>{const x=this.buildProps(d,e),S=v(...w)(x);return l.push(S),p}])),run:f};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,a=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,l={tr:t,editor:r,view:a,state:Eh({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)(l)]))}};return l}},Q_={};h0(Q_,{blur:()=>LB,clearContent:()=>zB,clearNodes:()=>IB,command:()=>BB,createParagraphNear:()=>PB,cut:()=>UB,deleteCurrentNode:()=>HB,deleteNode:()=>$B,deleteRange:()=>qB,deleteSelection:()=>VB,enter:()=>FB,exitCode:()=>GB,extendMarkRange:()=>KB,first:()=>WB,focus:()=>JB,forEach:()=>XB,insertContent:()=>QB,insertContentAt:()=>tP,joinBackward:()=>iP,joinDown:()=>rP,joinForward:()=>sP,joinItemBackward:()=>aP,joinItemForward:()=>oP,joinTextblockBackward:()=>lP,joinTextblockForward:()=>cP,joinUp:()=>nP,keyboardShortcut:()=>dP,lift:()=>fP,liftEmptyBlock:()=>hP,liftListItem:()=>pP,newlineInCode:()=>mP,resetAttributes:()=>gP,scrollIntoView:()=>yP,selectAll:()=>vP,selectNodeBackward:()=>bP,selectNodeForward:()=>wP,selectParentNode:()=>SP,selectTextblockEnd:()=>xP,selectTextblockStart:()=>EP,setContent:()=>kP,setMark:()=>VP,setMeta:()=>FP,setNode:()=>GP,setNodeSelection:()=>KP,setTextDirection:()=>WP,setTextSelection:()=>YP,sinkListItem:()=>JP,splitBlock:()=>XP,splitListItem:()=>QP,toggleList:()=>ZP,toggleMark:()=>eU,toggleNode:()=>tU,toggleWrap:()=>nU,undoInputRule:()=>rU,unsetAllMarks:()=>iU,unsetMark:()=>sU,unsetTextDirection:()=>aU,updateAttributes:()=>oU,wrapIn:()=>lU,wrapInList:()=>cU});var LB=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),zB=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),IB=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:a,$to:l})=>{t.doc.nodesBetween(a.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),v=f.resolve(p.map(d+c.nodeSize)),b=m.blockRange(v);if(!b)return;const w=hl(b);if(c.type.isTextblock){const{defaultType:x}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,x)}(w||w===0)&&e.lift(b,w)})}),!0},BB=t=>e=>t(e),PB=()=>({state:t,dispatch:e})=>f_(t,e),UB=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,a=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,a.content),r.setSelection(new Be(r.doc.resolve(Math.max(l-1,0)))),!0},HB=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(e){const c=i.before(a),d=i.after(a);t.delete(c,d).scrollIntoView()}return!0}return!1};function Jt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var $B=t=>({tr:e,state:n,dispatch:r})=>{const i=Jt(t,n.schema),a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===i){if(r){const d=a.before(l),f=a.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},qB=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},VB=()=>({state:t,dispatch:e})=>Zy(t,e),FB=()=>({commands:t})=>t.keyboardShortcut("Enter"),GB=()=>({state:t,dispatch:e})=>O3(t,e);function p0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Of(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:p0(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Z_(t,e,n={}){return t.find(r=>r.type===e&&Of(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function nE(t,e,n={}){return!!Z_(t,e,n)}function m0(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Z_([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,d=l+1,f=c+i.node.nodeSize;for(;l>0&&nE([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&nE([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function Wi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var KB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const a=Wi(t,r.schema),{doc:l,selection:c}=n,{$from:d,from:f,to:p}=c;if(i){const m=m0(d,a,e);if(m&&m.from<=f&&m.to>=p){const v=Be.create(l,m.from,m.to);n.setSelection(v)}}return!0},WB=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function eC(t){return t instanceof Be}function Ra(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function tC(t,e=null){if(!e)return null;const n=Fe.atStart(t),r=Fe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,a=r.to;return e==="all"?Be.create(t,Ra(0,i,a),Ra(t.content.size,i,a)):Be.create(t,Ra(e,i,a),Ra(e,i,a))}function rE(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Rf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function YB(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var JB=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:a})=>{e={scrollIntoView:!0,...e};const l=()=>{(Rf()||rE())&&r.dom.focus(),YB()&&!Rf()&&!rE()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(a&&t===null&&!eC(n.state.selection))return l(),!0;const c=tC(i.doc,t)||n.state.selection,d=n.state.selection.eq(c);return a&&(d||i.setSelection(c),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},XB=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),QB=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),nC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&nC(r)}return t};function Gd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return nC(n)}function nu(t,e,n){if(t instanceof Jr||t instanceof ie)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ie.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),nu("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c="";const d=new PT({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Is.fromSchema(d).parseSlice(Gd(t),n.parseOptions):Is.fromSchema(d).parse(Gd(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const a=Is.fromSchema(e);return n.slice?a.parseSlice(Gd(t),n.parseOptions).content:a.parse(Gd(t),n.parseOptions)}return nu("",e,n)}function ZB(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof an||i instanceof on))return;const a=t.mapping.maps[r];let l=0;a.forEach((c,d,f,p)=>{l===0&&(l=p)}),t.setSelection(Fe.near(t.doc.resolve(l),n))}var eP=t=>!("type"in t),tP=(t,e,n)=>({tr:r,dispatch:i,editor:a})=>{var l;if(i){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const d=S=>{a.emit("contentError",{editor:a,error:S,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{nu(e,a.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(S){d(S)}try{c=nu(e,a.schema,{parseOptions:f,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:a.options.enableContentCheck})}catch(S){return d(S),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},v=!0,b=!0;if((eP(c)?c:[c]).forEach(S=>{S.check(),v=v?S.isText&&S.marks.length===0:!1,b=b?S.isBlock:!1}),p===m&&b){const{parent:S}=r.doc.resolve(p);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(p-=1,m+=1)}let x;if(v){if(Array.isArray(e))x=e.map(S=>S.text||"").join("");else if(e instanceof ie){let S="";e.forEach(k=>{k.text&&(S+=k.text)}),x=S}else typeof e=="object"&&e&&e.text?x=e.text:x=e;r.insertText(x,p,m)}else{x=c;const S=r.doc.resolve(p),k=S.node(),O=S.parentOffset===0,R=k.isText||k.isTextblock,U=k.content.size>0;O&&R&&U&&(p=Math.max(0,p-1)),r.replaceWith(p,m,x)}n.updateSelection&&ZB(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:x})}return!0},nP=()=>({state:t,dispatch:e})=>_3(t,e),rP=()=>({state:t,dispatch:e})=>C3(t,e),iP=()=>({state:t,dispatch:e})=>s_(t,e),sP=()=>({state:t,dispatch:e})=>c_(t,e),aP=()=>({state:t,dispatch:e,tr:n})=>{try{const r=yh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},oP=()=>({state:t,dispatch:e,tr:n})=>{try{const r=yh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},lP=()=>({state:t,dispatch:e})=>k3(t,e),cP=()=>({state:t,dispatch:e})=>T3(t,e);function rC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function uP(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,a,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))Rf()||rC()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var dP=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const a=uP(t).split(/-(?!$)/),l=a.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function $s(t,e,n={}){const{from:r,to:i,empty:a}=t.selection,l=e?Jt(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const b=Math.max(r,v),w=Math.min(i,v+m.nodeSize);c.push({node:m,from:b,to:w})});const d=i-r,f=c.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>Of(m.node.attrs,n,{strict:!1}));return a?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=d}var fP=(t,e={})=>({state:n,dispatch:r})=>{const i=Jt(t,n.schema);return $s(n,i,e)?A3(n,r):!1},hP=()=>({state:t,dispatch:e})=>h_(t,e),pP=t=>({state:e,dispatch:n})=>{const r=Jt(t,e.schema);return U3(r)(e,n)},mP=()=>({state:t,dispatch:e})=>d_(t,e);function Th(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function iE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var gP=(t,e)=>({tr:n,state:r,dispatch:i})=>{let a=null,l=null;const c=Th(typeof t=="string"?t:t.name,r.schema);if(!c)return!1;c==="node"&&(a=Jt(t,r.schema)),c==="mark"&&(l=Wi(t,r.schema));let d=!1;return n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,m)=>{a&&a===p.type&&(d=!0,i&&n.setNodeMarkup(m,void 0,iE(p.attrs,e))),l&&p.marks.length&&p.marks.forEach(v=>{l===v.type&&(d=!0,i&&n.addMark(m,m+p.nodeSize,l.create(iE(v.attrs,e))))})})}),d},yP=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),vP=()=>({tr:t,dispatch:e})=>{if(e){const n=new cr(t.doc);t.setSelection(n)}return!0},bP=()=>({state:t,dispatch:e})=>o_(t,e),wP=()=>({state:t,dispatch:e})=>u_(t,e),SP=()=>({state:t,dispatch:e})=>N3(t,e),xP=()=>({state:t,dispatch:e})=>L3(t,e),EP=()=>({state:t,dispatch:e})=>j3(t,e);function my(t,e,n={},r={}){return nu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var kP=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:a,dispatch:l,commands:c})=>{const{doc:d}=a;if(r.preserveWhitespace!=="full"){const f=my(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&a.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!n),!0}return l&&a.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function iC(t,e){const n=Wi(e,t.schema),{from:r,to:i,empty:a}=t.selection,l=[];a?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function sC(t,e){const n=new t_(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function TP(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function _P(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,a)=>{n(i)&&r.push({node:i,pos:a})}),r}function CP(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function _h(t){return e=>CP(e.$from,t)}function Oe(t,e,n){return t.config[e]===void 0&&t.parent?Oe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Oe(t.parent,e,n):null}):t.config[e]}function g0(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Oe(e,"addExtensions",n);return r?[e,...g0(r())]:e}).flat(10)}function y0(t,e){const n=Ka.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function aC(t){return typeof t=="function"}function dt(t,e=void 0,...n){return aC(t)?e?t.bind(e)(...n):t(...n):t}function AP(t={}){return Object.keys(t).length===0&&t.constructor===Object}function cl(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function oC(t){const e=[],{nodeExtensions:n,markExtensions:r}=cl(t),i=[...n,...r],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},d=Oe(l,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,b])=>{e.push({type:m,name:v,attribute:{...a,...b}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=Oe(l,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const v={...a,...m};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:l.name,name:p,attribute:v})})}),e}function Xt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,a])=>{if(!r[i]){r[i]=a;return}if(i==="class"){const c=a?String(a).split(" "):[],d=r[i]?r[i].split(" "):[],f=c.filter(p=>!d.includes(p));r[i]=[...d,...f].join(" ")}else if(i==="style"){const c=a?a.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,v]=p.split(":").map(b=>b.trim());f.set(m,v)}),c.forEach(p=>{const[m,v]=p.split(":").map(b=>b.trim());f.set(m,v)}),r[i]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=a}),r},{})}function ru(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Xt(n,r),{})}function OP(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function sE(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((a,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):OP(n.getAttribute(l.name));return c==null?a:{...a,[l.name]:c}},{});return{...r,...i}}}}function aE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&AP(n)?!1:n!=null))}function oE(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function RP(t,e){var n;const r=oC(t),{nodeExtensions:i,markExtensions:a}=cl(t),l=(n=i.find(f=>Oe(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(f=>{const p=r.filter(k=>k.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((k,O)=>{const R=Oe(O,"extendNodeSchema",m);return{...k,...R?R(f):{}}},{}),b=aE({...v,content:dt(Oe(f,"content",m)),marks:dt(Oe(f,"marks",m)),group:dt(Oe(f,"group",m)),inline:dt(Oe(f,"inline",m)),atom:dt(Oe(f,"atom",m)),selectable:dt(Oe(f,"selectable",m)),draggable:dt(Oe(f,"draggable",m)),code:dt(Oe(f,"code",m)),whitespace:dt(Oe(f,"whitespace",m)),linebreakReplacement:dt(Oe(f,"linebreakReplacement",m)),defining:dt(Oe(f,"defining",m)),isolating:dt(Oe(f,"isolating",m)),attrs:Object.fromEntries(p.map(oE))}),w=dt(Oe(f,"parseHTML",m));w&&(b.parseDOM=w.map(k=>sE(k,p)));const x=Oe(f,"renderHTML",m);x&&(b.toDOM=k=>x({node:k,HTMLAttributes:ru(k,p)}));const S=Oe(f,"renderText",m);return S&&(b.toText=S),[f.name,b]})),d=Object.fromEntries(a.map(f=>{const p=r.filter(S=>S.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((S,k)=>{const O=Oe(k,"extendMarkSchema",m);return{...S,...O?O(f):{}}},{}),b=aE({...v,inclusive:dt(Oe(f,"inclusive",m)),excludes:dt(Oe(f,"excludes",m)),group:dt(Oe(f,"group",m)),spanning:dt(Oe(f,"spanning",m)),code:dt(Oe(f,"code",m)),attrs:Object.fromEntries(p.map(oE))}),w=dt(Oe(f,"parseHTML",m));w&&(b.parseDOM=w.map(S=>sE(S,p)));const x=Oe(f,"renderHTML",m);return x&&(b.toDOM=S=>x({mark:S,HTMLAttributes:ru(S,p)})),[f.name,b]}));return new PT({topNode:l,nodes:c,marks:d})}function MP(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Mf(t){return t.sort((n,r)=>{const i=Oe(n,"priority")||100,a=Oe(r,"priority")||100;return i>a?-1:i<a?1:0})}function lC(t){const e=Mf(g0(t)),n=MP(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function cC(t,e,n){const{from:r,to:i}=e,{blockSeparator:a=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,i,(d,f,p,m)=>{var v;d.isBlock&&f>r&&(c+=a);const b=l?.[d.type.name];if(b)return p&&(c+=b({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(c+=(v=d?.text)==null?void 0:v.slice(Math.max(r,f)-f,i-f))}),c}function NP(t,e){const n={from:0,to:t.content.size};return cC(t,n,e)}function uC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function DP(t,e){const n=Jt(e,t.schema),{from:r,to:i}=t.selection,a=[];t.doc.nodesBetween(r,i,c=>{a.push(c)});const l=a.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function dC(t,e){const n=Th(typeof e=="string"?e:e.name,t.schema);return n==="node"?DP(t,e):n==="mark"?iC(t,e):{}}function jP(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function LP(t){const e=jP(t);return e.length===1?e:e.filter((n,r)=>!e.filter((a,l)=>l!==r).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function fC(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,a)=>{const l=[];if(i.ranges.length)i.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=n[a];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const f=e.slice(a).map(c,-1),p=e.slice(a).map(d),m=e.invert().map(f,-1),v=e.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:p}})})}),LP(r)}function v0(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const a=n.resolve(t),l=m0(a,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,a)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:a,to:a+i.nodeSize,mark:l})))}),r}var zP=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let a=r,l=null;for(;a>0&&l===null;){const c=i.node(a);c?.type.name===e?l=c:a-=1}return[l,a]};function Kd(t,e){return e.nodes[t]||e.marks[t]||null}function cf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(a=>a.type===e&&a.name===r);return i?i.attribute.keepOnSplit:!1}))}var IP=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,a,l,c)=>{var d,f;const p=((f=(d=i.type.spec).toText)==null?void 0:f.call(d,{node:i,pos:a,parent:l,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-a))}),n};function gy(t,e,n={}){const{empty:r,ranges:i}=t.selection,a=e?Wi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>a?a.name===m.type.name:!0).find(m=>Of(m.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:m,$to:v})=>{const b=m.pos,w=v.pos;t.doc.nodesBetween(b,w,(x,S)=>{if(!x.isText&&!x.marks.length)return;const k=Math.max(b,S),O=Math.min(w,S+x.nodeSize),R=O-k;l+=R,c.push(...x.marks.map(U=>({mark:U,from:k,to:O})))})}),l===0)return!1;const d=c.filter(m=>a?a.name===m.mark.type.name:!0).filter(m=>Of(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=c.filter(m=>a?m.mark.type!==a&&m.mark.type.excludes(a):!0).reduce((m,v)=>m+v.to-v.from,0);return(d>0?d+f:d)>=l}function BP(t,e,n={}){if(!e)return $s(t,null,n)||gy(t,null,n);const r=Th(e,t.schema);return r==="node"?$s(t,e,n):r==="mark"?gy(t,e,n):!1}var PP=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const a=_h(c=>c.type.name===e)(t.selection);if(!a)return!1;const l=t.doc.resolve(a.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},UP=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function lE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function cE(t,e){const{nodeExtensions:n}=cl(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},a=dt(Oe(r,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function Ch(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(a=>{i!==!1&&(Ch(a,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function hC(t){return t instanceof Me}var pC=class mC{constructor(e){this.position=e}static fromJSON(e){return new mC(e.position)}toJSON(){return{position:this.position}}};function HP(t,e){const n=e.mapping.mapResult(t.position);return{position:new pC(n.pos),mapResult:n}}function $P(t){return new pC(t)}function qP(t,e,n){var r;const{selection:i}=e;let a=null;if(eC(i)&&(a=i.$cursor),a){const c=(r=t.storedMarks)!=null?r:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(f=>f.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:c,$to:d})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(p,m,v)=>{if(f)return!1;if(p.isInline){const b=!v||v.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(x=>x.type.excludes(n));f=b&&w}return!f}),f})}var VP=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=n,{empty:l,ranges:c}=a,d=Wi(t,r.schema);if(i)if(l){const f=iC(r,d);n.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(v,b)=>{const w=Math.max(b,p),x=Math.min(b+v.nodeSize,m);v.marks.find(k=>k.type===d)?v.marks.forEach(k=>{d===k.type&&n.addMark(w,x,d.create({...k.attrs,...e}))}):n.addMark(w,x,d.create(e))})});return qP(r,n,d)},FP=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),GP=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const a=Jt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:c})=>x1(a,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>x1(a,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},KP=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Ra(t,0,r.content.size),a=Me.create(r,i);e.setSelection(a)}return!0},WP=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=r;let l,c;return typeof e=="number"?(l=e,c=e):e&&"from"in e&&"to"in e?(l=e.from,c=e.to):(l=a.from,c=a.to),i&&n.doc.nodesBetween(l,c,(d,f)=>{d.isText||n.setNodeMarkup(f,void 0,{...d.attrs,dir:t})}),!0},YP=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:a}=typeof t=="number"?{from:t,to:t}:t,l=Be.atStart(r).from,c=Be.atEnd(r).to,d=Ra(i,l,c),f=Ra(a,l,c),p=Be.create(r,d,f);e.setSelection(p)}return!0},JP=t=>({state:e,dispatch:n})=>{const r=Jt(t,e.schema);return q3(r)(e,n)};function uE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var XP=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:a,doc:l}=e,{$from:c,$to:d}=a,f=i.extensionManager.attributes,p=cf(f,c.node().type.name,c.node().attrs);if(a instanceof Me&&a.node.isBlock)return!c.parentOffset||!Vi(l,c.pos)?!1:(r&&(t&&uE(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:TP(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&v?[{type:v,attrs:p}]:void 0,w=Vi(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!w&&Vi(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(w=!0,b=v?[{type:v,attrs:p}]:void 0),r){if(w&&(a instanceof Be&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),v&&!m&&!c.parentOffset&&c.parent.type!==v)){const x=e.mapping.map(c.before()),S=e.doc.resolve(x);c.node(-1).canReplaceWith(S.index(),S.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}t&&uE(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},QP=(t,e={})=>({tr:n,state:r,dispatch:i,editor:a})=>{var l;const c=Jt(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==c)return!1;const v=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let k=ie.empty;const O=d.index(-1)?1:d.index(-2)?2:3;for(let z=d.depth-O;z>=d.depth-3;z-=1)k=ie.from(d.node(z).copy(k));const R=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,U={...cf(v,d.node().type.name,d.node().attrs),...e},A=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(U))||void 0;k=k.append(ie.from(c.createAndFill(null,A)||void 0));const N=d.before(d.depth-(O-1));n.replace(N,d.after(-R),new me(k,4-O,0));let T=-1;n.doc.nodesBetween(N,n.doc.content.size,(z,G)=>{if(T>-1)return!1;z.isTextblock&&z.content.size===0&&(T=G+1)}),T>-1&&n.setSelection(Be.near(n.doc.resolve(T))),n.scrollIntoView()}return!0}const b=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,w={...cf(v,m.type.name,m.attrs),...e},x={...cf(v,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const S=b?[{type:c,attrs:w},{type:b,attrs:x}]:[{type:c,attrs:w}];if(!Vi(n.doc,d.pos,2))return!1;if(i){const{selection:k,storedMarks:O}=r,{splittableMarks:R}=a.extensionManager,U=O||k.$to.parentOffset&&k.$from.marks();if(n.split(d.pos,2,S).scrollIntoView(),!U||!i)return!0;const A=U.filter(N=>R.includes(N.type.name));n.ensureMarks(A)}return!0},Eg=(t,e)=>{const n=_h(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Vs(t.doc,n.pos)&&t.join(n.pos),!0},kg=(t,e)=>{const n=_h(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Vs(t.doc,r)&&t.join(r),!0},ZP=(t,e,n,r={})=>({editor:i,tr:a,state:l,dispatch:c,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,b=Jt(t,l.schema),w=Jt(e,l.schema),{selection:x,storedMarks:S}=l,{$from:k,$to:O}=x,R=k.blockRange(O),U=S||x.$to.parentOffset&&x.$from.marks();if(!R)return!1;const A=_h(N=>cE(N.type.name,m))(x);if(R.depth>=1&&A&&R.depth-A.depth<=1){if(A.node.type===b)return f.liftListItem(w);if(cE(A.node.type.name,m)&&b.validContent(A.node.content)&&c)return d().command(()=>(a.setNodeMarkup(A.pos,b),!0)).command(()=>Eg(a,b)).command(()=>kg(a,b)).run()}return!n||!U||!c?d().command(()=>p().wrapInList(b,r)?!0:f.clearNodes()).wrapInList(b,r).command(()=>Eg(a,b)).command(()=>kg(a,b)).run():d().command(()=>{const N=p().wrapInList(b,r),T=U.filter(z=>v.includes(z.type.name));return a.ensureMarks(T),N?!0:f.clearNodes()}).wrapInList(b,r).command(()=>Eg(a,b)).command(()=>kg(a,b)).run()},eU=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=n,l=Wi(t,r.schema);return gy(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:a}):i.setMark(l,e)},tU=(t,e,n={})=>({state:r,commands:i})=>{const a=Jt(t,r.schema),l=Jt(e,r.schema),c=$s(r,a,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?i.setNode(l,d):i.setNode(a,{...d,...n})},nU=(t,e={})=>({state:n,commands:r})=>{const i=Jt(t,n.schema);return $s(n,i,e)?r.lift(i):r.wrapIn(i,e)},rU=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){const l=t.tr,c=a.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(a.text){const d=l.doc.resolve(a.from).marks();l.replaceWith(a.from,a.to,t.schema.text(a.text,d))}else l.delete(a.from,a.to)}return!0}}return!1},iU=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},sU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,d=Wi(t,r.schema),{$from:f,empty:p,ranges:m}=c;if(!i)return!0;if(p&&l){let{from:v,to:b}=c;const w=(a=f.marks().find(S=>S.type===d))==null?void 0:a.attrs,x=m0(f,d,w);x&&(v=x.from,b=x.to),n.removeMark(v,b,d)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,d)});return n.removeStoredMark(d),!0},aU=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let a,l;return typeof t=="number"?(a=t,l=t):t&&"from"in t&&"to"in t?(a=t.from,l=t.to):(a=i.from,l=i.to),r&&e.doc.nodesBetween(a,l,(c,d)=>{if(c.isText)return;const f={...c.attrs};delete f.dir,e.setNodeMarkup(d,void 0,f)}),!0},oU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let a=null,l=null;const c=Th(typeof t=="string"?t:t.name,r.schema);if(!c)return!1;c==="node"&&(a=Jt(t,r.schema)),c==="mark"&&(l=Wi(t,r.schema));let d=!1;return n.selection.ranges.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;let v,b,w,x;n.selection.empty?r.doc.nodesBetween(p,m,(S,k)=>{a&&a===S.type&&(d=!0,w=Math.max(k,p),x=Math.min(k+S.nodeSize,m),v=k,b=S)}):r.doc.nodesBetween(p,m,(S,k)=>{k<p&&a&&a===S.type&&(d=!0,w=Math.max(k,p),x=Math.min(k+S.nodeSize,m),v=k,b=S),k>=p&&k<=m&&(a&&a===S.type&&(d=!0,i&&n.setNodeMarkup(k,void 0,{...S.attrs,...e})),l&&S.marks.length&&S.marks.forEach(O=>{if(l===O.type&&(d=!0,i)){const R=Math.max(k,p),U=Math.min(k+S.nodeSize,m);n.addMark(R,U,l.create({...O.attrs,...e}))}}))}),b&&(v!==void 0&&i&&n.setNodeMarkup(v,void 0,{...b.attrs,...e}),l&&b.marks.length&&b.marks.forEach(S=>{l===S.type&&i&&n.addMark(w,x,l.create({...S.attrs,...e}))}))}),d},lU=(t,e={})=>({state:n,dispatch:r})=>{const i=Jt(t,n.schema);return z3(i,e)(n,r)},cU=(t,e={})=>({state:n,dispatch:r})=>{const i=Jt(t,n.schema);return I3(i,e)(n,r)},uU=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Ah=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},dU=(t,e)=>{if(p0(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Wd(t){var e;const{editor:n,from:r,to:i,text:a,rules:l,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=IP(f)+a;return l.forEach(v=>{if(p)return;const b=dU(m,v.find);if(!b)return;const w=d.state.tr,x=Eh({state:d.state,transaction:w}),S={from:r-(b[0].length-a.length),to:i},{commands:k,chain:O,can:R}=new kh({editor:n,state:x});v.handler({state:x,range:S,match:b,commands:k,chain:O,can:R})===null||!w.steps.length||(v.undoable&&w.setMeta(c,{transform:w,from:r,to:i,text:a}),d.dispatch(w),p=!0)}),p}function fU(t){const{editor:e,rules:n}=t,r=new Ot({state:{init(){return null},apply(i,a,l){const c=i.getMeta(r);if(c)return c;const d=i.getMeta("applyInputRules");return d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=y0(ie.from(p),l.schema);const{from:m}=d,v=m+p.length;Wd({editor:e,from:m,to:v,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,l,c){return Wd({editor:e,from:a,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&Wd({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Wd({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function hU(t){return Object.prototype.toString.call(t).slice(8,-1)}function Yd(t){return hU(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function gC(t,e){const n={...t};return Yd(t)&&Yd(e)&&Object.keys(e).forEach(r=>{Yd(e[r])&&Yd(t[r])?n[r]=gC(t[r],e[r]):n[r]=e[r]}),n}var b0=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...dt(Oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...dt(Oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>gC(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Wa=class yC extends b0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new yC(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(f=>f?.type.name===n.name))return!1;const d=l.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function pU(t){return typeof t=="number"}var mU=class{constructor(t){this.find=t.find,this.handler=t.handler}},gU=(t,e,n)=>{if(p0(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const a=[i.text];return a.index=i.index,a.input=t,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]};function yU(t){const{editor:e,state:n,from:r,to:i,rule:a,pasteEvent:l,dropEvent:c}=t,{commands:d,chain:f,can:p}=new kh({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(b,w)=>{var x,S,k,O,R;if((S=(x=b.type)==null?void 0:x.spec)!=null&&S.code||!(b.isText||b.isTextblock||b.isInline))return;const U=(R=(O=(k=b.content)==null?void 0:k.size)!=null?O:b.nodeSize)!=null?R:0,A=Math.max(r,w),N=Math.min(i,w+U);if(A>=N)return;const T=b.isText?b.text||"":b.textBetween(A-w,N-w,void 0,"");gU(T,a.find,l).forEach(G=>{if(G.index===void 0)return;const le=A+G.index+1,he=le+G[0].length,ye={from:n.tr.mapping.map(le),to:n.tr.mapping.map(he)},Pe=a.handler({state:n,range:ye,match:G,commands:d,chain:f,can:p,pasteEvent:l,dropEvent:c});m.push(Pe)})}),m.every(b=>b!==null)}var Jd=null,vU=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function bU(t){const{editor:e,rules:n}=t;let r=null,i=!1,a=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:m,to:v,rule:b,pasteEvt:w})=>{const x=p.tr,S=Eh({state:p,transaction:x});if(!(!yU({editor:e,state:S,from:Math.max(m-1,0),to:v.b-1,rule:b,pasteEvent:w,dropEvent:c})||!x.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(p=>new Ot({view(m){const v=w=>{var x;r=(x=m.dom.parentElement)!=null&&x.contains(w.target)?m.dom.parentElement:null,r&&(Jd=e)},b=()=>{Jd&&(Jd=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,v)=>{if(a=r===m.dom.parentElement,c=v,!a){const b=Jd;b?.isEditable&&setTimeout(()=>{const w=b.state.selection;w&&b.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,v)=>{var b;const w=(b=v.clipboardData)==null?void 0:b.getData("text/html");return l=v,i=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(m,v,b)=>{const w=m[0],x=w.getMeta("uiEvent")==="paste"&&!i,S=w.getMeta("uiEvent")==="drop"&&!a,k=w.getMeta("applyPasteRules"),O=!!k;if(!x&&!S&&!O)return;if(O){let{text:A}=k;typeof A=="string"?A=A:A=y0(ie.from(A),b.schema);const{from:N}=k,T=N+A.length,z=vU(A);return d({rule:p,state:b,from:N,to:{b:T},pasteEvt:z})}const R=v.doc.content.findDiffStart(b.doc.content),U=v.doc.content.findDiffEnd(b.doc.content);if(!(!pU(R)||!U||R===U.b))return d({rule:p,state:b,from:R,to:U,pasteEvt:l})}}))}var Oh=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=lC(t),this.schema=RP(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Kd(e.name,this.schema)},r=Oe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Mf([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Kd(r.name,this.schema)},a=[],l=Oe(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&Oe(r,"exitable",i)&&(c.ArrowRight=()=>Wa.handleExit({editor:t,mark:r})),l){const v=Object.fromEntries(Object.entries(l()).map(([b,w])=>[b,()=>w({editor:t})]));c={...c,...v}}const d=DB(c);a.push(d);const f=Oe(r,"addInputRules",i);if(lE(r,t.options.enableInputRules)&&f){const v=f();if(v&&v.length){const b=fU({editor:t,rules:v}),w=Array.isArray(b)?b:[b];a.push(...w)}}const p=Oe(r,"addPasteRules",i);if(lE(r,t.options.enablePasteRules)&&p){const v=p();if(v&&v.length){const b=bU({editor:t,rules:v});a.push(...b)}}const m=Oe(r,"addProseMirrorPlugins",i);if(m){const v=m();a.push(...v)}return a})}get attributes(){return oC(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=cl(this.extensions);return Object.fromEntries(e.filter(n=>!!Oe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Jt(n.name,this.schema)},a=Oe(n,"addNodeView",i);if(!a)return[];const l=a();if(!l)return[];const c=(d,f,p,m,v)=>{const b=ru(d,r);return l({node:d,view:f,getPos:p,decorations:m,innerDecorations:v,editor:t,extension:n,HTMLAttributes:b})};return[n.name,c]}))}dispatchTransaction(t){const{editor:e}=this;return Mf([...this.extensions].reverse()).reduceRight((r,i)=>{const a={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Kd(i.name,this.schema)},l=Oe(i,"dispatchTransaction",a);return l?c=>{l.call(a,{transaction:c,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=cl(this.extensions);return Object.fromEntries(e.filter(n=>!!Oe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Wi(n.name,this.schema)},a=Oe(n,"addMarkView",i);if(!a)return[];const l=(c,d,f)=>{const p=ru(c,r);return a()({mark:c,view:d,inline:f,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{DU(c,t,m)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Kd(e.name,this.schema)};e.type==="mark"&&((n=dt(Oe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=Oe(e,"onBeforeCreate",r),a=Oe(e,"onCreate",r),l=Oe(e,"onUpdate",r),c=Oe(e,"onSelectionUpdate",r),d=Oe(e,"onTransaction",r),f=Oe(e,"onFocus",r),p=Oe(e,"onBlur",r),m=Oe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Oh.resolve=lC;Oh.sort=Mf;Oh.flatten=g0;var wU={};h0(wU,{ClipboardTextSerializer:()=>bC,Commands:()=>wC,Delete:()=>SC,Drop:()=>xC,Editable:()=>EC,FocusEvents:()=>TC,Keymap:()=>_C,Paste:()=>CC,Tabindex:()=>AC,TextDirection:()=>OC,focusEventsPluginKey:()=>kC});var qt=class vC extends b0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new vC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},bC=qt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ot({key:new nn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:a}=i,l=Math.min(...a.map(p=>p.$from.pos)),c=Math.max(...a.map(p=>p.$to.pos)),d=uC(n);return cC(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),wC=qt.create({name:"commands",addCommands(){return{...Q_}}}),SC=qt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const a=()=>{var l,c,d,f;if((f=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const p=sC(t.before,[t,...e]);fC(p).forEach(b=>{p.mapping.mapResult(b.oldRange.from).deletedAfter&&p.mapping.mapResult(b.oldRange.to).deletedBefore&&p.before.nodesBetween(b.oldRange.from,b.oldRange.to,(w,x)=>{const S=x+w.nodeSize-2,k=b.oldRange.from<=x&&S<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:x,to:S,newFrom:p.mapping.map(x),newTo:p.mapping.map(S),deletedRange:b.oldRange,newRange:b.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((b,w)=>{var x,S;if(b instanceof Yr){const k=v.slice(w).map(b.from,-1),O=v.slice(w).map(b.to),R=v.invert().map(k,-1),U=v.invert().map(O),A=(x=p.doc.nodeAt(k-1))==null?void 0:x.marks.some(T=>T.eq(b.mark)),N=(S=p.doc.nodeAt(O))==null?void 0:S.marks.some(T=>T.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:R,to:U},newRange:{from:k,to:O},partial:!!(N||A),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(a,0):a()}}),xC=qt.create({name:"drop",addProseMirrorPlugins(){return[new Ot({key:new nn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),EC=qt.create({name:"editable",addProseMirrorPlugins(){return[new Ot({key:new nn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kC=new nn("focusEvents"),TC=qt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ot({key:kC,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),_C=qt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:p,$anchor:m}=d,{pos:v,parent:b}=m,w=m.parent.isTextblock&&v>0?c.doc.resolve(v-1):m,x=w.parent.type.spec.isolating,S=m.pos-m.parentOffset,k=x&&w.parent.childCount===1?S===m.pos:Fe.atStart(f).from===v;return!p||!b.type.isTextblock||b.textContent.length||!k||k&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},a={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Rf()||rC()?a:i},addProseMirrorPlugins(){return[new Ot({key:new nn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(x=>x.getMeta("composition")))return;const r=t.some(x=>x.docChanged)&&!e.doc.eq(n.doc),i=t.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:a,from:l,to:c}=e.selection,d=Fe.atStart(e.doc).from,f=Fe.atEnd(e.doc).to;if(a||!(l===d&&c===f)||!Ch(n.doc))return;const v=n.tr,b=Eh({state:n,transaction:v}),{commands:w}=new kh({editor:this.editor,state:b});if(w.clearNodes(),!!v.steps.length)return v}})]}}),CC=qt.create({name:"paste",addProseMirrorPlugins(){return[new Ot({key:new nn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),AC=qt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ot({key:new nn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),OC=qt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=cl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ot({key:new nn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),SU=class Ec{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ec(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ec(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ec(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,l=n.isInline,c=this.pos+r+(a?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(c);if(!i&&!l&&d.depth<=this.depth)return;const f=new Ec(d,this.editor,i,i||l?n:null);i&&(f.actualDepth=this.depth+1),e.push(f)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const a=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(a[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const a=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&a.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},xU=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function EU(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var kU=class extends uU{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:HP,createMappablePosition:$P},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:a})=>this.options.onDrop(r,i,a)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=tC(e,this.options.autofocus);this.editorState=Zo.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=EU(xU,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=aC(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;n=n.filter(l=>!l.key.startsWith(a))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[EC,bC.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),wC,TC,_C,AC,xC,CC,SC,OC.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Oh(r,this)}createCommandManager(){this.commandManager=new kh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=my(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=my(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new J_(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=l?.getMeta("focus"),d=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return dC(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return BP(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return y0(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return NP(this.state.doc,{blockSeparator:e,textSerializers:{...uC(this.schema),...n}})}get isEmpty(){return Ch(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new SU(e,this)}get $doc(){return this.$pos(0)}};function ul(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r})=>{const i=dt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),p=f+l.length;if(v0(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(x=>x===t.type&&x!==b.mark.type)).filter(b=>b.to>f).length)return null;p<n.to&&a.delete(p,n.to),f>n.from&&a.delete(n.from+d,f);const v=n.from+d+l.length;a.addMark(n.from+d,v,t.type.create(i||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function TU(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r})=>{const i=dt(t.getAttributes,void 0,r)||{},{tr:a}=e,l=n.from;let c=n.to;const d=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=l+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];a.insertText(m,l+r[0].length-1),a.replaceWith(p,c,d)}else if(r[0]){const f=t.type.isInline?l:l-1;a.insert(f,t.type.create(i)).delete(a.mapping.map(l),a.mapping.map(c))}a.scrollIntoView()},undoable:t.undoable})}function yy(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),a=dt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)},undoable:t.undoable})}function dl(t){return new Ah({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const a=dt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),f=d&&Xy(d,t.type,a);if(!f)return null;if(l.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:b}=t.editor.extensionManager,w=v||m.$to.parentOffset&&m.$from.marks();if(w){const x=w.filter(S=>b.includes(S.type.name));l.ensureMarks(x)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,a).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Vs(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&l.join(n.from-1)},undoable:t.undoable})}function _U(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Me){const a=r.index();return r.parent.canReplaceWith(a,a+1,e)}let i=r.depth;for(;i>=0;){const a=r.index(i);if(r.node(i).contentMatchAt(a).matchType(e))return!0;i-=1}return!1}var CU={};h0(CU,{createAtomBlockMarkdownSpec:()=>AU,createBlockMarkdownSpec:()=>OU,createInlineMarkdownSpec:()=>NU,parseAttributes:()=>w0,parseIndentedBlocks:()=>vy,renderNestedMarkdownContent:()=>x0,serializeAttributes:()=>S0});function w0(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const f=i.map(p=>p.trim().slice(1));e.class=f.join(" ")}const a=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,f,p])=>{var m;const v=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),b=n[v];b&&(e[f]=b.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function S0(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function AU(t){const{nodeName:e,name:n,parseAttributes:r=w0,serializeAttributes:i=S0,defaultAttributes:a={},requiredAttributes:l=[],allowedAttributes:c}=t,d=n||e,f=p=>{if(!c)return p;const m={};return c.forEach(v=>{v in p&&(m[v]=p[v])}),m};return{parseMarkdown:(p,m)=>{const v={...a,...p.attributes};return m.createNode(e,v,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const v=new RegExp(`^:::${d}(?:\\s|$)`,"m"),b=(m=p.match(v))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(p,m,v){const b=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(b);if(!w)return;const x=w[1]||"",S=r(x);if(!l.find(O=>!(O in S)))return{type:e,raw:w[0],attributes:S}}},renderMarkdown:p=>{const m=f(p.attrs||{}),v=i(m),b=v?` {${v}}`:"";return`:::${d}${b} :::`}}}function OU(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=w0,serializeAttributes:a=S0,defaultAttributes:l={},content:c="block",allowedAttributes:d}=t,f=n||e,p=m=>{if(!d)return m;const v={};return d.forEach(b=>{b in m&&(v[b]=m[b])}),v};return{parseMarkdown:(m,v)=>{let b;if(r){const x=r(m);b=typeof x=="string"?[{type:"text",text:x}]:x}else c==="block"?b=v.parseChildren(m.tokens||[]):b=v.parseInline(m.tokens||[]);const w={...l,...m.attributes};return v.createNode(e,w,b)},markdownTokenizer:{name:e,level:"block",start(m){var v;const b=new RegExp(`^:::${f}`,"m"),w=(v=m.match(b))==null?void 0:v.index;return w!==void 0?w:-1},tokenize(m,v,b){var w;const x=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=m.match(x);if(!S)return;const[k,O=""]=S,R=i(O);let U=1;const A=k.length;let N="";const T=/^:::([\w-]*)(\s.*)?/gm,z=m.slice(A);for(T.lastIndex=0;;){const G=T.exec(z);if(G===null)break;const le=G.index,he=G[1];if(!((w=G[2])!=null&&w.endsWith(":::"))){if(he)U+=1;else if(U-=1,U===0){const ye=z.slice(0,le);N=ye.trim();const Pe=m.slice(0,A+le+G[0].length);let ue=[];if(N)if(c==="block")for(ue=b.blockTokens(ye),ue.forEach(re=>{re.text&&(!re.tokens||re.tokens.length===0)&&(re.tokens=b.inlineTokens(re.text))});ue.length>0;){const re=ue[ue.length-1];if(re.type==="paragraph"&&(!re.text||re.text.trim()===""))ue.pop();else break}else ue=b.inlineTokens(N);return{type:e,raw:Pe,attributes:R,content:N,tokens:ue}}}}}},renderMarkdown:(m,v)=>{const b=p(m.attrs||{}),w=a(b),x=w?` {${w}}`:"",S=v.renderChildren(m.content||[],`

`);return`:::${f}${x}

${S}

:::`}}}function RU(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,a,l]=r;e[i]=a||l,r=n.exec(t)}return e}function MU(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function NU(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=RU,serializeAttributes:a=MU,defaultAttributes:l={},selfClosing:c=!1,allowedAttributes:d}=t,f=n||e,p=v=>{if(!d)return v;const b={};return d.forEach(w=>{const x=typeof w=="string"?w:w.name,S=typeof w=="string"?void 0:w.skipIfDefault;if(x in v){const k=v[x];if(S!==void 0&&k===S)return;b[x]=k}}),b},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(v,b)=>{const w={...l,...v.attributes};if(c)return b.createNode(e,w);const x=r?r(v):v.content||"";return x?b.createNode(e,w,[b.createTextNode(x)]):b.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(v){const b=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),w=v.match(b),x=w?.index;return x!==void 0?x:-1},tokenize(v,b,w){const x=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),S=v.match(x);if(!S)return;let k="",O="";if(c){const[,U]=S;O=U}else{const[,U,A]=S;O=U,k=A||""}const R=i(O.trim());return{type:e,raw:S[0],content:k.trim(),attributes:R}}},renderMarkdown:v=>{let b="";r?b=r(v):v.content&&v.content.length>0&&(b=v.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const w=p(v.attrs||{}),x=a(w),S=x?` ${x}`:"";return c?`[${f}${S}]`:`[${f}${S}]${b}[/${f}]`}}}function vy(t,e,n){var r,i,a,l;const c=t.split(`
`),d=[];let f="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const v=c[p],b=v.match(e.itemPattern);if(!b){if(d.length>0)break;if(v.trim()===""){p+=1,f=`${f}${v}
`;continue}else return}const w=e.extractItemData(b),{indentLevel:x,mainContent:S}=w;f=`${f}${v}
`;const k=[S];for(p+=1;p<c.length;){const A=c[p];if(A.trim()===""){const T=c.slice(p+1).findIndex(le=>le.trim()!=="");if(T===-1)break;if((((i=(r=c[p+1+T].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>x){k.push(A),f=`${f}${A}
`,p+=1;continue}else break}if((((l=(a=A.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:l.length)||0)>x)k.push(A),f=`${f}${A}
`,p+=1;else break}let O;const R=k.slice(1);if(R.length>0){const A=R.map(N=>N.slice(x+m)).join(`
`);A.trim()&&(e.customNestedParser?O=e.customNestedParser(A):O=n.blockTokens(A))}const U=e.createToken(w,O);d.push(U)}if(d.length!==0)return{items:d,raw:f}}function x0(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[a,...l]=t.content,c=e.renderChildren([a]),d=[`${i}${c}`];return l&&l.length>0&&l.forEach(f=>{const p=e.renderChildren([f]);if(p){const m=p.split(`
`).map(v=>v?e.indent(v):"").join(`
`);d.push(m)}}),d.join(`
`)}function DU(t,e,n={}){const{state:r}=e,{doc:i,tr:a}=r,l=t;i.descendants((c,d)=>{const f=a.mapping.map(d),p=a.mapping.map(d)+c.nodeSize;let m=null;if(c.marks.forEach(b=>{if(b!==l)return!1;m=b}),!m)return;let v=!1;if(Object.keys(n).forEach(b=>{n[b]!==m.attrs[b]&&(v=!0)}),v){const b=t.type.create({...t.attrs,...n});a.removeMark(f,p,t.type),a.addMark(f,p,b)}}),a.docChanged&&e.view.dispatch(a)}var fr=class RC extends b0{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new RC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ha(t){return new mU({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const a=dt(t.getAttributes,void 0,r,i);if(a===!1||a===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let f=n.to;if(c){const p=d.search(/\S/),m=n.from+d.indexOf(c),v=m+c.length;if(v0(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>m).length)return null;v<n.to&&l.delete(v,n.to),m>n.from&&l.delete(n.from+p,m),f=n.from+p+c.length,l.addMark(n.from+p,f,t.type.create(a||{})),l.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:jU,getOwnPropertySymbols:LU}=Object,{hasOwnProperty:zU}=Object.prototype;function Tg(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Xd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,l=a.get(n),c=a.get(r);if(l&&c)return l===r&&c===n;a.set(n,r),a.set(r,n);const d=t(n,r,i);return a.delete(n),a.delete(r),d}}function IU(t){return t?.[Symbol.toStringTag]}function dE(t){return jU(t).concat(LU(t))}const BU=Object.hasOwn||((t,e)=>zU.call(t,e));function Ya(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const PU="__v",UU="__o",HU="_owner",{getOwnPropertyDescriptor:fE,keys:hE}=Object;function $U(t,e){return t.byteLength===e.byteLength&&Nf(new Uint8Array(t),new Uint8Array(e))}function qU(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function VU(t,e){return t.byteLength===e.byteLength&&Nf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function FU(t,e){return Ya(t.getTime(),e.getTime())}function GU(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function KU(t,e){return t===e}function pE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let l,c,d=0;for(;(l=a.next())&&!l.done;){const f=e.entries();let p=!1,m=0;for(;(c=f.next())&&!c.done;){if(i[m]){m++;continue}const v=l.value,b=c.value;if(n.equals(v[0],b[0],d,m,t,e,n)&&n.equals(v[1],b[1],v[0],b[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}const WU=Ya;function YU(t,e,n){const r=hE(t);let i=r.length;if(hE(e).length!==i)return!1;for(;i-- >0;)if(!MC(t,e,n,r[i]))return!1;return!0}function mc(t,e,n){const r=dE(t);let i=r.length;if(dE(e).length!==i)return!1;let a,l,c;for(;i-- >0;)if(a=r[i],!MC(t,e,n,a)||(l=fE(t,a),c=fE(e,a),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function JU(t,e){return Ya(t.valueOf(),e.valueOf())}function XU(t,e){return t.source===e.source&&t.flags===e.flags}function mE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let l,c;for(;(l=a.next())&&!l.done;){const d=e.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function Nf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function QU(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function MC(t,e,n,r){return(r===HU||r===UU||r===PU)&&(t.$$typeof||e.$$typeof)?!0:BU(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const ZU="[object ArrayBuffer]",e4="[object Arguments]",t4="[object Boolean]",n4="[object DataView]",r4="[object Date]",i4="[object Error]",s4="[object Map]",a4="[object Number]",o4="[object Object]",l4="[object RegExp]",c4="[object Set]",u4="[object String]",d4={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},f4="[object URL]",h4=Object.prototype.toString;function p4({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:l,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:b,unknownTagComparators:w}){return function(S,k,O){if(S===k)return!0;if(S==null||k==null)return!1;const R=typeof S;if(R!==typeof k)return!1;if(R!=="object")return R==="number"?c(S,k,O):R==="function"?a(S,k,O):!1;const U=S.constructor;if(U!==k.constructor)return!1;if(U===Object)return d(S,k,O);if(Array.isArray(S))return e(S,k,O);if(U===Date)return r(S,k,O);if(U===RegExp)return p(S,k,O);if(U===Map)return l(S,k,O);if(U===Set)return m(S,k,O);const A=h4.call(S);if(A===r4)return r(S,k,O);if(A===l4)return p(S,k,O);if(A===s4)return l(S,k,O);if(A===c4)return m(S,k,O);if(A===o4)return typeof S.then!="function"&&typeof k.then!="function"&&d(S,k,O);if(A===f4)return b(S,k,O);if(A===i4)return i(S,k,O);if(A===e4)return d(S,k,O);if(d4[A])return v(S,k,O);if(A===ZU)return t(S,k,O);if(A===n4)return n(S,k,O);if(A===t4||A===a4||A===u4)return f(S,k,O);if(w){let N=w[A];if(!N){const T=IU(S);T&&(N=w[T])}if(N)return N(S,k,O)}return!1}}function m4({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:$U,areArraysEqual:n?mc:qU,areDataViewsEqual:VU,areDatesEqual:FU,areErrorsEqual:GU,areFunctionsEqual:KU,areMapsEqual:n?Tg(pE,mc):pE,areNumbersEqual:WU,areObjectsEqual:n?mc:YU,arePrimitiveWrappersEqual:JU,areRegExpsEqual:XU,areSetsEqual:n?Tg(mE,mc):mE,areTypedArraysEqual:n?Tg(Nf,mc):Nf,areUrlsEqual:QU,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Xd(r.areArraysEqual),a=Xd(r.areMapsEqual),l=Xd(r.areObjectsEqual),c=Xd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return r}function g4(t){return function(e,n,r,i,a,l,c){return t(e,n,c)}}function y4({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:p}=n();return e(c,d,{cache:f,equals:r,meta:p,strict:i})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(c,d){return e(c,d,a)}}const v4=Gs();Gs({strict:!0});Gs({circular:!0});Gs({circular:!0,strict:!0});Gs({createInternalComparator:()=>Ya});Gs({strict:!0,createInternalComparator:()=>Ya});Gs({circular:!0,createInternalComparator:()=>Ya});Gs({circular:!0,createInternalComparator:()=>Ya,strict:!0});function Gs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=m4(t),l=p4(a),c=n?n(l):g4(l);return y4({circular:e,comparator:l,createState:r,equals:c,strict:i})}var _g={exports:{}},Cg={};var gE;function b4(){if(gE)return Cg;gE=1;var t=$a(),e=yT();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Cg.useSyncExternalStoreWithSelector=function(f,p,m,v,b){var w=a(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=c(function(){function k(N){if(!O){if(O=!0,R=N,N=v(N),b!==void 0&&x.hasValue){var T=x.value;if(b(T,N))return U=T}return U=N}if(T=U,r(R,N))return T;var z=v(N);return b!==void 0&&b(T,z)?(R=N,T):(R=N,U=z)}var O=!1,R,U,A=m===void 0?null:m;return[function(){return k(p())},A===null?void 0:function(){return k(A())}]},[p,m,v,b]);var S=i(f,w[0],w[1]);return l(function(){x.hasValue=!0,x.value=S},[S]),d(S),S},Cg}var yE;function w4(){return yE||(yE=1,_g.exports=b4()),_g.exports}var S4=w4(),x4=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},E4=({contentComponent:t})=>{const e=vT.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return C.jsx(C.Fragment,{children:Object.values(e)})};function k4(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Sk.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var T4=class extends ae.Component{constructor(t){var e;super(t),this.editorContentRef=ae.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=k4(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return C.jsxs(C.Fragment,{children:[C.jsx("div",{ref:x4(e,this.editorContentRef),...n}),t?.contentComponent&&C.jsx(E4,{contentComponent:t.contentComponent})]})}},_4=M.forwardRef((t,e)=>{const n=ae.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ae.createElement(T4,{key:n,innerRef:e,...t})}),NC=ae.memo(_4),C4=typeof window<"u"?M.useLayoutEffect:M.useEffect,A4=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function O4(t){var e;const[n]=M.useState(()=>new A4(t.editor)),r=S4.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:v4);return C4(()=>n.watch(t.editor),[t.editor,n]),M.useDebugValue(r),r}var R4=!1,by=typeof window>"u",M4=by||!!(typeof window<"u"&&window.next),N4=class DC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?by||M4?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onBeforeCreate)==null?void 0:a.call(i,...r)},onBlur:(...r)=>{var i,a;return(a=(i=this.options.current).onBlur)==null?void 0:a.call(i,...r)},onCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onCreate)==null?void 0:a.call(i,...r)},onDestroy:(...r)=>{var i,a;return(a=(i=this.options.current).onDestroy)==null?void 0:a.call(i,...r)},onFocus:(...r)=>{var i,a;return(a=(i=this.options.current).onFocus)==null?void 0:a.call(i,...r)},onSelectionUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onSelectionUpdate)==null?void 0:a.call(i,...r)},onTransaction:(...r)=>{var i,a;return(a=(i=this.options.current).onTransaction)==null?void 0:a.call(i,...r)},onUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onUpdate)==null?void 0:a.call(i,...r)},onContentError:(...r)=>{var i,a;return(a=(i=this.options.current).onContentError)==null?void 0:a.call(i,...r)},onDrop:(...r)=>{var i,a;return(a=(i=this.options.current).onDrop)==null?void 0:a.call(i,...r)},onPaste:(...r)=>{var i,a;return(a=(i=this.options.current).onPaste)==null?void 0:a.call(i,...r)},onDelete:(...r)=>{var i,a;return(a=(i=this.options.current).onDelete)==null?void 0:a.call(i,...r)}};return new kU(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,a)=>{var l;return i===((l=n.extensions)==null?void 0:l[a])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?DC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function D4(t={},e=[]){const n=M.useRef(t);n.current=t;const[r]=M.useState(()=>new N4(n)),i=vT.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return M.useDebugValue(i),M.useEffect(r.onRender(e)),O4({editor:i,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),i}var jC=M.createContext({editor:null});jC.Consumer;var j4=M.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),L4=()=>M.useContext(j4);ae.forwardRef((t,e)=>{const{onDragStart:n}=L4(),r=t.as||"div";return C.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});ae.createContext({markViewContentRef:()=>{}});var E0=M.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});E0.displayName="TiptapContext";var z4=()=>M.useContext(E0);function LC({editor:t,instance:e,children:n}){const r=t??e;if(!r)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const i=M.useMemo(()=>({editor:r}),[r]),a=M.useMemo(()=>({editor:r}),[r]);return C.jsx(jC.Provider,{value:a,children:C.jsx(E0.Provider,{value:i,children:n})})}LC.displayName="Tiptap";function zC({...t}){const{editor:e}=z4();return C.jsx(NC,{editor:e,...t})}zC.displayName="Tiptap.Content";Object.assign(LC,{Content:zC});var Df=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},I4=/^\s*>\s$/,B4=fr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Df("blockquote",{...Xt(this.options.HTMLAttributes,t),children:Df("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const c=e.renderChildren([i]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);r.push(c.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[dl({find:I4,type:this.type})]}}),P4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,U4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,H4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,q4=Wa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Df("strong",{...Xt(this.options.HTMLAttributes,t),children:Df("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ul({find:P4,type:this.type}),ul({find:H4,type:this.type})]},addPasteRules(){return[Ha({find:U4,type:this.type}),Ha({find:$4,type:this.type})]}}),V4=/(^|[^`])`([^`]+)`(?!`)$/,F4=/(^|[^`])`([^`]+)`(?!`)/g,G4=Wa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Xt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ul({find:V4,type:this.type})]},addPasteRules(){return[Ha({find:F4,type:this.type})]}}),Ag=4,K4=/^```([a-z]+)?[\s\n]$/,W4=/^~~~([a-z]+)?[\s\n]$/,Y4=fr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Ag,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Xt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Ag,{state:r}=t,{selection:i}=r,{$from:a,empty:l}=i;if(a.parent.type!==this.type)return!1;const c=" ".repeat(n);return l?t.commands.insertContent(c):t.commands.command(({tr:d})=>{const{from:f,to:p}=i,b=r.doc.textBetween(f,p,`
`,`
`).split(`
`).map(w=>c+w).join(`
`);return d.replaceWith(f,p,r.schema.text(b)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Ag,{state:r}=t,{selection:i}=r,{$from:a,empty:l}=i;return a.parent.type!==this.type?!1:l?t.commands.command(({tr:c})=>{var d;const{pos:f}=a,p=a.start(),m=a.end(),b=r.doc.textBetween(p,m,`
`,`
`).split(`
`);let w=0,x=0;const S=f-p;for(let N=0;N<b.length;N+=1){if(x+b[N].length>=S){w=N;break}x+=b[N].length+1}const O=((d=b[w].match(/^ */))==null?void 0:d[0])||"",R=Math.min(O.length,n);if(R===0)return!0;let U=p;for(let N=0;N<w;N+=1)U+=b[N].length+1;return c.delete(U,U+R),f-U<=R&&c.setSelection(Be.create(c.doc,U)),!0}):t.commands.command(({tr:c})=>{const{from:d,to:f}=i,v=r.doc.textBetween(d,f,`
`,`
`).split(`
`).map(b=>{var w;const x=((w=b.match(/^ */))==null?void 0:w[0])||"",S=Math.min(x.length,n);return b.slice(S)}).join(`
`);return c.replaceWith(d,f,r.schema.text(v)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!a||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:a}=n;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(Fe.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[yy({find:K4,type:this.type,getAttributes:t=>({language:t[1]})}),yy({find:W4,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ot({key:new nn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=i?.mode;if(!n||!a)return!1;const{tr:l,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:a},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Be.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),J4=fr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),X4=fr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Xt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:a}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&l){const m=d.filter(v=>c.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Q4=fr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Xt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>yy({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Z4=fr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Xt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!_U(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return hC(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:a,tr:l,dispatch:c})=>{if(c){const{$to:d}=l.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?l.setSelection(Be.create(l.doc,d.pos+1)):d.nodeAfter.isBlock?l.setSelection(Me.create(l.doc,d.pos)):l.setSelection(Be.create(l.doc,d.pos));else{const p=a.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,m=p?.create();m&&(l.insert(f,m),l.setSelection(Be.create(l.doc,f+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[TU({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),e5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,t5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,n5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,r5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,i5=Wa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Xt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ul({find:e5,type:this.type}),ul({find:n5,type:this.type})]},addPasteRules(){return[Ha({find:t5,type:this.type}),Ha({find:r5,type:this.type})]}});const s5="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",a5="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",wy="numeric",Sy="ascii",xy="alpha",Nc="asciinumeric",kc="alphanumeric",Ey="domain",IC="emoji",o5="scheme",l5="slashscheme",Og="whitespace";function c5(t,e){return t in e||(e[t]=[]),e[t]}function Ma(t,e,n){e[wy]&&(e[Nc]=!0,e[kc]=!0),e[Sy]&&(e[Nc]=!0,e[xy]=!0),e[Nc]&&(e[kc]=!0),e[xy]&&(e[kc]=!0),e[kc]&&(e[Ey]=!0),e[IC]&&(e[Ey]=!0);for(const r in e){const i=c5(r,n);i.indexOf(t)<0&&i.push(t)}}function u5(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Kn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Kn.groups={};Kn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],a=e.jr[r][1];if(a&&i.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Kn.groups;let i;return e&&e.j?i=e:(i=new Kn(e),n&&r&&Ma(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const a=t.length;if(!a)return i;for(let l=0;l<a-1;l++)i=i.tt(t[l]);return i.tt(t[a-1],e,n,r)},tt(t,e,n,r){r=r||Kn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const a=e;let l,c=i.go(t);if(c?(l=new Kn,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new Kn,a){if(r)if(l.t&&typeof l.t=="string"){const d=Object.assign(u5(l.t,r),n);Ma(a,d,r)}else n&&Ma(a,n,r);l.t=a}return i.j[t]=l,l}};const Ve=(t,e,n,r,i)=>t.ta(e,n,r,i),jt=(t,e,n,r,i)=>t.tr(e,n,r,i),vE=(t,e,n,r,i)=>t.ts(e,n,r,i),se=(t,e,n,r,i)=>t.tt(e,n,r,i),Ui="WORD",ky="UWORD",BC="ASCIINUMERICAL",PC="ALPHANUMERICAL",iu="LOCALHOST",Ty="TLD",_y="UTLD",uf="SCHEME",Jo="SLASH_SCHEME",k0="NUM",Cy="WS",T0="NL",Dc="OPENBRACE",jc="CLOSEBRACE",jf="OPENBRACKET",Lf="CLOSEBRACKET",zf="OPENPAREN",If="CLOSEPAREN",Bf="OPENANGLEBRACKET",Pf="CLOSEANGLEBRACKET",Uf="FULLWIDTHLEFTPAREN",Hf="FULLWIDTHRIGHTPAREN",$f="LEFTCORNERBRACKET",qf="RIGHTCORNERBRACKET",Vf="LEFTWHITECORNERBRACKET",Ff="RIGHTWHITECORNERBRACKET",Gf="FULLWIDTHLESSTHAN",Kf="FULLWIDTHGREATERTHAN",Wf="AMPERSAND",Yf="APOSTROPHE",Jf="ASTERISK",_s="AT",Xf="BACKSLASH",Qf="BACKTICK",Zf="CARET",Ns="COLON",_0="COMMA",eh="DOLLAR",ii="DOT",th="EQUALS",C0="EXCLAMATION",Ar="HYPHEN",Lc="PERCENT",nh="PIPE",rh="PLUS",ih="POUND",zc="QUERY",A0="QUOTE",UC="FULLWIDTHMIDDLEDOT",O0="SEMI",si="SLASH",Ic="TILDE",sh="UNDERSCORE",HC="EMOJI",ah="SYM";var $C=Object.freeze({__proto__:null,ALPHANUMERICAL:PC,AMPERSAND:Wf,APOSTROPHE:Yf,ASCIINUMERICAL:BC,ASTERISK:Jf,AT:_s,BACKSLASH:Xf,BACKTICK:Qf,CARET:Zf,CLOSEANGLEBRACKET:Pf,CLOSEBRACE:jc,CLOSEBRACKET:Lf,CLOSEPAREN:If,COLON:Ns,COMMA:_0,DOLLAR:eh,DOT:ii,EMOJI:HC,EQUALS:th,EXCLAMATION:C0,FULLWIDTHGREATERTHAN:Kf,FULLWIDTHLEFTPAREN:Uf,FULLWIDTHLESSTHAN:Gf,FULLWIDTHMIDDLEDOT:UC,FULLWIDTHRIGHTPAREN:Hf,HYPHEN:Ar,LEFTCORNERBRACKET:$f,LEFTWHITECORNERBRACKET:Vf,LOCALHOST:iu,NL:T0,NUM:k0,OPENANGLEBRACKET:Bf,OPENBRACE:Dc,OPENBRACKET:jf,OPENPAREN:zf,PERCENT:Lc,PIPE:nh,PLUS:rh,POUND:ih,QUERY:zc,QUOTE:A0,RIGHTCORNERBRACKET:qf,RIGHTWHITECORNERBRACKET:Ff,SCHEME:uf,SEMI:O0,SLASH:si,SLASH_SCHEME:Jo,SYM:ah,TILDE:Ic,TLD:Ty,UNDERSCORE:sh,UTLD:_y,UWORD:ky,WORD:Ui,WS:Cy});const Ii=/[a-z]/,gc=new RegExp("\\p{L}","u"),Rg=new RegExp("\\p{Emoji}","u"),Bi=/\d/,Mg=/\s/,bE="\r",Ng=`
`,d5="",f5="",Dg="";let Qd=null,Zd=null;function h5(t=[]){const e={};Kn.groups=e;const n=new Kn;Qd==null&&(Qd=wE(s5)),Zd==null&&(Zd=wE(a5)),se(n,"'",Yf),se(n,"{",Dc),se(n,"}",jc),se(n,"[",jf),se(n,"]",Lf),se(n,"(",zf),se(n,")",If),se(n,"<",Bf),se(n,">",Pf),se(n,"",Uf),se(n,"",Hf),se(n,"",$f),se(n,"",qf),se(n,"",Vf),se(n,"",Ff),se(n,"",Gf),se(n,"",Kf),se(n,"&",Wf),se(n,"*",Jf),se(n,"@",_s),se(n,"`",Qf),se(n,"^",Zf),se(n,":",Ns),se(n,",",_0),se(n,"$",eh),se(n,".",ii),se(n,"=",th),se(n,"!",C0),se(n,"-",Ar),se(n,"%",Lc),se(n,"|",nh),se(n,"+",rh),se(n,"#",ih),se(n,"?",zc),se(n,'"',A0),se(n,"/",si),se(n,";",O0),se(n,"~",Ic),se(n,"_",sh),se(n,"\\",Xf),se(n,"",UC);const r=jt(n,Bi,k0,{[wy]:!0});jt(r,Bi,r);const i=jt(r,Ii,BC,{[Nc]:!0}),a=jt(r,gc,PC,{[kc]:!0}),l=jt(n,Ii,Ui,{[Sy]:!0});jt(l,Bi,i),jt(l,Ii,l),jt(i,Bi,i),jt(i,Ii,i);const c=jt(n,gc,ky,{[xy]:!0});jt(c,Ii),jt(c,Bi,a),jt(c,gc,c),jt(a,Bi,a),jt(a,Ii),jt(a,gc,a);const d=se(n,Ng,T0,{[Og]:!0}),f=se(n,bE,Cy,{[Og]:!0}),p=jt(n,Mg,Cy,{[Og]:!0});se(n,Dg,p),se(f,Ng,d),se(f,Dg,p),jt(f,Mg,p),se(p,bE),se(p,Ng),jt(p,Mg,p),se(p,Dg,p);const m=jt(n,Rg,HC,{[IC]:!0});se(m,"#"),jt(m,Rg,m),se(m,d5,m);const v=se(m,f5);se(v,"#"),jt(v,Rg,m);const b=[[Ii,l],[Bi,i]],w=[[Ii,null],[gc,c],[Bi,a]];for(let x=0;x<Qd.length;x++)xs(n,Qd[x],Ty,Ui,b);for(let x=0;x<Zd.length;x++)xs(n,Zd[x],_y,ky,w);Ma(Ty,{tld:!0,ascii:!0},e),Ma(_y,{utld:!0,alpha:!0},e),xs(n,"file",uf,Ui,b),xs(n,"mailto",uf,Ui,b),xs(n,"http",Jo,Ui,b),xs(n,"https",Jo,Ui,b),xs(n,"ftp",Jo,Ui,b),xs(n,"ftps",Jo,Ui,b),Ma(uf,{scheme:!0,ascii:!0},e),Ma(Jo,{slashscheme:!0,ascii:!0},e),t=t.sort((x,S)=>x[0]>S[0]?1:-1);for(let x=0;x<t.length;x++){const S=t[x][0],O=t[x][1]?{[o5]:!0}:{[l5]:!0};S.indexOf("-")>=0?O[Ey]=!0:Ii.test(S)?Bi.test(S)?O[Nc]=!0:O[Sy]=!0:O[wy]=!0,vE(n,S,S,O)}return vE(n,"localhost",iu,{ascii:!0}),n.jd=new Kn(ah),{start:n,tokens:Object.assign({groups:e},$C)}}function qC(t,e){const n=p5(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let a=0,l=0;for(;l<r;){let c=t,d=null,f=0,p=null,m=-1,v=-1;for(;l<r&&(d=c.go(n[l]));)c=d,c.accepts()?(m=0,v=0,p=c):m>=0&&(m+=n[l].length,v++),f+=n[l].length,a+=n[l].length,l++;a-=m,l-=v,f-=m,i.push({t:p.t,v:e.slice(a-f,a),s:a-f,e:a})}return i}function p5(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),a,l=i<55296||i>56319||r+1===n||(a=t.charCodeAt(r+1))<56320||a>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function xs(t,e,n,r,i){let a;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];t.j[d]?a=t.j[d]:(a=new Kn(r),a.jr=i.slice(),t.j[d]=a),t=a}return a=new Kn(n),a.jr=i.slice(),t.j[e[l-1]]=a,a}function wE(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let a=0;for(;i.indexOf(t[r+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+a),10);l>0;l--)n.pop();r+=a}else n.push(t[r]),r++}return e}const su={defaultProtocol:"http",events:null,format:SE,formatHref:SE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function R0(t,e=null){let n=Object.assign({},su);t&&(n=Object.assign(n,t instanceof R0?t.o:t));const r=n.ignoreTags,i=[];for(let a=0;a<r.length;a++)i.push(r[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}R0.prototype={o:su,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:su[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function SE(t){return t}function VC(t,e){this.t="token",this.v=t,this.tk=e}VC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=su.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),a=this.toFormattedString(t),l={},c=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),f&&(l.rel=f),p&&Object.assign(l,p),{tagName:i,attributes:l,content:a,eventListeners:m}}};function Rh(t,e){class n extends VC{constructor(i,a){super(i,a),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const xE=Rh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),EE=Rh("text"),m5=Rh("nl"),ef=Rh("url",{isLink:!0,toHref(t=su.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==iu&&t[1].t===Ns}}),Cr=t=>new Kn(t);function g5({groups:t}){const e=t.domain.concat([Wf,Jf,_s,Xf,Qf,Zf,eh,th,Ar,k0,Lc,nh,rh,ih,si,ah,Ic,sh]),n=[Yf,Ns,_0,ii,C0,Lc,zc,A0,O0,Bf,Pf,Dc,jc,Lf,jf,zf,If,Uf,Hf,$f,qf,Vf,Ff,Gf,Kf],r=[Wf,Yf,Jf,Xf,Qf,Zf,eh,th,Ar,Dc,jc,Lc,nh,rh,ih,zc,si,ah,Ic,sh],i=Cr(),a=se(i,Ic);Ve(a,r,a),Ve(a,t.domain,a);const l=Cr(),c=Cr(),d=Cr();Ve(i,t.domain,l),Ve(i,t.scheme,c),Ve(i,t.slashscheme,d),Ve(l,r,a),Ve(l,t.domain,l);const f=se(l,_s);se(a,_s,f),se(c,_s,f),se(d,_s,f);const p=se(a,ii);Ve(p,r,a),Ve(p,t.domain,a);const m=Cr();Ve(f,t.domain,m),Ve(m,t.domain,m);const v=se(m,ii);Ve(v,t.domain,m);const b=Cr(xE);Ve(v,t.tld,b),Ve(v,t.utld,b),se(f,iu,b);const w=se(m,Ar);se(w,Ar,w),Ve(w,t.domain,m),Ve(b,t.domain,m),se(b,ii,v),se(b,Ar,w);const x=se(b,Ns);Ve(x,t.numeric,xE);const S=se(l,Ar),k=se(l,ii);se(S,Ar,S),Ve(S,t.domain,l),Ve(k,r,a),Ve(k,t.domain,l);const O=Cr(ef);Ve(k,t.tld,O),Ve(k,t.utld,O),Ve(O,t.domain,l),Ve(O,r,a),se(O,ii,k),se(O,Ar,S),se(O,_s,f);const R=se(O,Ns),U=Cr(ef);Ve(R,t.numeric,U);const A=Cr(ef),N=Cr();Ve(A,e,A),Ve(A,n,N),Ve(N,e,A),Ve(N,n,N),se(O,si,A),se(U,si,A);const T=se(c,Ns),z=se(d,Ns),G=se(z,si),le=se(G,si);Ve(c,t.domain,l),se(c,ii,k),se(c,Ar,S),Ve(d,t.domain,l),se(d,ii,k),se(d,Ar,S),Ve(T,t.domain,A),se(T,si,A),se(T,zc,A),Ve(le,t.domain,A),Ve(le,e,A),se(le,si,A);const he=[[Dc,jc],[jf,Lf],[zf,If],[Bf,Pf],[Uf,Hf],[$f,qf],[Vf,Ff],[Gf,Kf]];for(let ye=0;ye<he.length;ye++){const[Pe,ue]=he[ye],re=se(A,Pe);se(N,Pe,re),se(re,ue,A);const I=Cr(ef);Ve(re,e,I);const Q=Cr();Ve(re,n),Ve(I,e,I),Ve(I,n,Q),Ve(Q,e,I),Ve(Q,n,Q),se(I,ue,A),se(Q,ue,A)}return se(i,iu,O),se(i,T0,m5),{start:i,tokens:$C}}function y5(t,e,n){let r=n.length,i=0,a=[],l=[];for(;i<r;){let c=t,d=null,f=null,p=0,m=null,v=-1;for(;i<r&&!(d=c.go(n[i].t));)l.push(n[i++]);for(;i<r&&(f=d||c.go(n[i].t));)d=null,c=f,c.accepts()?(v=0,m=c):v>=0&&v++,i++,p++;if(v<0)i-=p,i<r&&(l.push(n[i]),i++);else{l.length>0&&(a.push(jg(EE,e,l)),l=[]),i-=v,p-=v;const b=m.t,w=n.slice(i-p,i);a.push(jg(b,e,w))}}return l.length>0&&a.push(jg(EE,e,l)),a}function jg(t,e,n){const r=n[0].s,i=n[n.length-1].e,a=e.slice(r,i);return new t(a,n)}const v5=typeof console<"u"&&console&&console.warn||(()=>{}),b5="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Et={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function w5(){return Kn.groups={},Et.scanner=null,Et.parser=null,Et.tokenQueue=[],Et.pluginQueue=[],Et.customSchemes=[],Et.initialized=!1,Et}function kE(t,e=!1){if(Et.initialized&&v5(`linkifyjs: already initialized - will not register custom scheme "${t}" ${b5}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Et.customSchemes.push([t,e])}function S5(){Et.scanner=h5(Et.customSchemes);for(let t=0;t<Et.tokenQueue.length;t++)Et.tokenQueue[t][1]({scanner:Et.scanner});Et.parser=g5(Et.scanner.tokens);for(let t=0;t<Et.pluginQueue.length;t++)Et.pluginQueue[t][1]({scanner:Et.scanner,parser:Et.parser});return Et.initialized=!0,Et}function M0(t){return Et.initialized||S5(),y5(Et.parser.start,t,qC(Et.scanner.start,t))}M0.scan=qC;function FC(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new R0(n),i=M0(t),a=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&a.push(c.toFormattedObject(r))}return a}var N0="[\0- -\u2029]",x5=new RegExp(N0),E5=new RegExp(`${N0}$`),k5=new RegExp(N0,"g");function T5(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function _5(t){return new Ot({key:new nn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),a=e.some(f=>f.getMeta("preventAutolink"));if(!i||a)return;const{tr:l}=r,c=sC(n.doc,[...e]);if(fC(c).forEach(({newRange:f})=>{const p=_P(r.doc,f,b=>b.isTextblock);let m,v;if(p.length>1)m=p[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const b=r.doc.textBetween(f.from,f.to," "," ");if(!E5.test(b))return;m=p[0],v=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&v){const b=v.split(x5).filter(Boolean);if(b.length<=0)return!1;const w=b[b.length-1],x=m.pos+v.lastIndexOf(w);if(!w)return!1;const S=M0(w).map(k=>k.toObject(t.defaultProtocol));if(!T5(S))return!1;S.filter(k=>k.isLink).map(k=>({...k,from:x+k.start+1,to:x+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{v0(k.from,k.to,r.doc).some(O=>O.mark.type===t.type)||l.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!l.steps.length)return l}})}function C5(t){return new Ot({key:new nn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,a;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{const d=r.target;if(!d)return!1;const f=t.editor.view.dom;l=d.closest("a"),l&&!f.contains(l)&&(l=null)}if(!l)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const d=dC(e.state,t.type.name),f=(i=l.href)!=null?i:d.href,p=(a=l.target)!=null?a:d.target;f&&(window.open(f,p),c=!0)}return c}}})}function A5(t){return new Ot({key:new nn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:a}=e,{selection:l}=a,{empty:c}=l;if(c)return!1;let d="";r.content.forEach(p=>{d+=p.textContent});const f=FC(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!f||i!==void 0&&!i(f.value)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Sa(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(k5,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var O5=Wa.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){kE(t);return}kE(t.scheme,t.optionalSlashes)})},onDestroy(){w5()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Sa(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Sa(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Sa(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Xt(this.options.HTMLAttributes,t),0]:["a",Xt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,r,i,a;const l=(r=(n=t.attrs)==null?void 0:n.href)!=null?r:"",c=(a=(i=t.attrs)==null?void 0:i.title)!=null?a:"",d=e.renderChildren(t);return c?`[${d}](${l} "${c}")`:`[${d}](${l})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Sa(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Sa(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ha({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=FC(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:l=>!!Sa(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(_5({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Sa(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(C5({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(A5({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),R5=Object.defineProperty,M5=(t,e)=>{for(var n in e)R5(t,n,{get:e[n],enumerable:!0})},N5="listItem",TE="textStyle",_E=/^\s*([-+*])\s$/,GC=fr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Xt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(N5,this.editor.getAttributes(TE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=dl({find:_E,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=dl({find:_E,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TE),editor:this.editor})),[t]}}),KC=fr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Xt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),c=e.parseChildren(l);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>x0(t,e,r=>{var i,a;return r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${(((a=(i=r.meta)==null?void 0:i.parentAttrs)==null?void 0:a.start)||1)+r.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),D5={};M5(D5,{findListItemPos:()=>vu,getNextListDepth:()=>D0,handleBackspace:()=>Ay,handleDelete:()=>Oy,hasListBefore:()=>WC,hasListItemAfter:()=>j5,hasListItemBefore:()=>YC,listItemHasSubList:()=>JC,nextListIsDeeper:()=>XC,nextListIsHigher:()=>QC});var vu=(t,e)=>{const{$from:n}=e.selection,r=Jt(t,e.schema);let i=null,a=n.depth,l=n.pos,c=null;for(;a>0&&c===null;)i=n.node(a),i.type===r?c=a:(a-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},D0=(t,e)=>{const n=vu(t,e);if(!n)return!1;const[,r]=zP(e,t,n.$pos.pos+4);return r},WC=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),a=t.doc.resolve(i).node();return!(!a||!n.includes(a.type.name))},YC=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},JC=(t,e,n)=>{if(!n)return!1;const r=Jt(t,e.schema);let i=!1;return n.descendants(a=>{a.type===r&&(i=!0)}),i},Ay=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!$s(t.state,e)&&WC(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),f=[];d.node().descendants((v,b)=>{v.type.name===e&&f.push({node:v,pos:b})});const p=f.at(-1);if(!p)return!1;const m=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!$s(t.state,e)||!UP(t.state))return!1;const r=vu(e,t.state);if(!r)return!1;const a=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=JC(e,t.state,a);return YC(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},XC=(t,e)=>{const n=D0(t,e),r=vu(t,e);return!r||!n?!1:n>r.depth},QC=(t,e)=>{const n=D0(t,e),r=vu(t,e);return!r||!n?!1:n<r.depth},Oy=(t,e)=>{if(!$s(t.state,e)||!PP(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:XC(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():QC(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},j5=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},ZC=qt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Oy(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Oy(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ay(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ay(t,n,r)&&(e=!0)}),e}}}}),CE=/^(\s*)(\d+)\.\s+(.*)$/,L5=/^\s/;function z5(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],a=i.match(CE);if(!a)break;const[,l,c,d]=a,f=l.length;let p=d,m=n+1;const v=[i];for(;m<t.length;){const b=t[m];if(b.match(CE))break;if(b.trim()==="")v.push(b),p+=`
`,m+=1;else if(b.match(L5))v.push(b),p+=`
${b.slice(f+2)}`,m+=1;else break}e.push({indent:f,number:parseInt(c,10),content:p.trim(),raw:v.join(`
`)}),r=m,n=m}return[e,r]}function eA(t,e,n){var r;const i=[];let a=0;for(;a<t.length;){const l=t[a];if(l.indent===e){const c=l.content.split(`
`),d=((r=c[0])==null?void 0:r.trim())||"",f=[];d&&f.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const p=c.slice(1).join(`
`).trim();if(p){const b=n.blockTokens(p);f.push(...b)}let m=a+1;const v=[];for(;m<t.length&&t[m].indent>e;)v.push(t[m]),m+=1;if(v.length>0){const b=Math.min(...v.map(x=>x.indent)),w=eA(v,b,n);f.push({type:"list",ordered:!0,start:v[0].number,items:w,raw:v.map(x=>x.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:f}),a=m}else a+=1}return i}function I5(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const a=e.parseChildren([i]);r.push({type:"paragraph",content:a})}else{const a=e.parseChildren([i]);a.length>0&&r.push(...a)}}),{type:"listItem",content:r}})}var B5="listItem",AE="textStyle",OE=/^(\d+)\.\s$/,tA=fr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Xt(this.options.HTMLAttributes,n),0]:["ol",Xt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?I5(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[a,l]=z5(i);if(a.length===0)return;const c=eA(a,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=a[0])==null?void 0:r.number)||1,items:c,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(B5,this.editor.getAttributes(AE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=dl({find:OE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=dl({find:OE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(AE)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),P5=/^\s*(\[([( |x])?\])\s$/,U5=fr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Xt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return x0(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),a=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=m=>{var v,b;c.ariaLabel=((b=(v=this.options.a11y)==null?void 0:v.checkboxLabel)==null?void 0:b.call(v,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};f(t),a.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:v}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const w=n();if(typeof w!="number")return!1;const x=b.doc.nodeAt(w);return b.setNodeMarkup(w,void 0,{...x?.attrs,checked:v}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,v)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,v])=>{i.setAttribute(m,v)}),i.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,a.append(c,l),i.append(a,d),Object.entries(e).forEach(([m,v])=>{i.setAttribute(m,v)});let p=new Set(Object.keys(e));return{dom:i,contentDOM:d,update:m=>{if(m.type!==this.type)return!1;i.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,f(m);const v=r.extensionManager.attributes,b=ru(m,v),w=new Set(Object.keys(b)),x=this.options.HTMLAttributes;return p.forEach(S=>{w.has(S)||(S in x?i.setAttribute(S,x[S]):i.removeAttribute(S))}),Object.entries(b).forEach(([S,k])=>{k==null?S in x?i.setAttribute(S,x[S]):i.removeAttribute(S):i.setAttribute(S,k)}),p=w,!0}}}},addInputRules(){return[dl({find:P5,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),H5=fr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Xt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=a=>{const l=vy(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,d)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:d}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(a)},i=vy(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});qt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(GC.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(KC.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ZC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(tA.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(U5.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(H5.configure(this.options.taskList)),t}});var RE="&nbsp;",$5="",q5=fr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Xt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const r=e.parseInline(n);return r.length===1&&r[0].type==="text"&&(r[0].text===RE||r[0].text===$5)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,r)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?RE:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),V5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,F5=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,G5=Wa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Xt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ul({find:V5,type:this.type})]},addPasteRules(){return[Ha({find:F5,type:this.type})]}}),K5=fr.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),W5=Wa.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Xt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const a=i[2].trim();return{type:"underline",raw:i[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Y5(t={}){return new Ot({view(e){return new J5(e,t)}})}class J5{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=l=>{this[i](l)};return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,a=i.getBoundingClientRect(),l=a.width/i.offsetWidth,c=a.height/i.offsetHeight;if(n){let m=e.nodeBefore,v=e.nodeAfter;if(m||v){let b=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(b){let w=b.getBoundingClientRect(),x=m?w.bottom:w.top;m&&v&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*c;r={left:w.left,right:w.right,top:x-S,bottom:x+S}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*l;r={left:m.left-v,right:m.left+v,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),v=m.width/d.offsetWidth,b=m.height/d.offsetHeight;f=m.left-d.scrollLeft*v,p=m.top-d.scrollTop*b}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!a){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=JT(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class zt extends Fe{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return zt.valid(r)?new zt(r):Fe.near(r)}content(){return me.empty}eq(e){return e instanceof zt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new zt(e.resolve(n.pos))}getBookmark(){return new j0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!X5(e)||!Q5(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&zt.valid(e))return e;let i=e.pos,a=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){a=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if(zt.valid(d))return d}for(;;){let l=n>0?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!Me.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*n),r=!1;continue e}break}a=l,i+=n;let c=e.doc.resolve(i);if(zt.valid(c))return c}return null}}}zt.prototype.visible=!1;zt.findFrom=zt.findGapCursorFrom;Fe.jsonID("gapcursor",zt);class j0{constructor(e){this.pos=e}map(e){return new j0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return zt.valid(n)?new zt(n):Fe.near(n)}}function nA(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function X5(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||nA(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Q5(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||nA(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Z5(){return new Ot({props:{decorations:rH,createSelectionBetween(t,e,n){return e.pos==n.pos&&zt.valid(n)?new zt(n):null},handleClick:tH,handleKeyDown:eH,handleDOMEvents:{beforeinput:nH}}})}const eH=X_({ArrowLeft:tf("horiz",-1),ArrowRight:tf("horiz",1),ArrowUp:tf("vert",-1),ArrowDown:tf("vert",1)});function tf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,a){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Be){if(!a.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=zt.findGapCursorFrom(c,e,d);return f?(i&&i(r.tr.setSelection(new zt(f))),!0):!1}}function tH(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!zt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Me.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new zt(r))),!0)}function nH(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof zt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ie.empty;for(let l=r.length-1;l>=0;l--)i=ie.from(r[l].createAndFill(null,i));let a=t.state.tr.replace(n.pos,n.pos,new me(i,0,0));return a.setSelection(Be.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function rH(t){if(!(t.selection instanceof zt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",At.create(t.doc,[Dn.widget(t.selection.head,e,{key:"gapcursor"})])}var oh=200,ln=function(){};ln.prototype.append=function(e){return e.length?(e=ln.from(e),!this.length&&e||e.length<oh&&this.leafAppend(e)||this.length<oh&&e.leafPrepend(this)||this.appendInner(e)):this};ln.prototype.prepend=function(e){return e.length?ln.from(e).append(this):this};ln.prototype.appendInner=function(e){return new iH(this,e)};ln.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ln.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ln.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ln.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ln.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,l){return i.push(e(a,l))},n,r),i};ln.from=function(e){return e instanceof ln?e:e&&e.length?new rA(e):ln.empty};var rA=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,l,c){for(var d=a;d<l;d++)if(i(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,l,c){for(var d=a-1;d>=l;d--)if(i(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=oh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=oh)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(ln);ln.empty=new rA([]);var iH=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,a,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(a,c),l)===!1||a>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,a)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,a,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(a,c)-c,l+c)===!1||a<c&&this.left.forEachInvertedInner(r,Math.min(i,c),a,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(ln);const sH=500;class Wr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;n&&(i=this.remapping(r,this.items.length),a=i.maps.length);let l=e.tr,c,d,f=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),a=i.maps.length),a--,p.push(m);return}if(i){p.push(new ai(m.map));let b=m.step.map(i.slice(a)),w;b&&l.maybeStep(b).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new ai(w,void 0,void 0,f.length+p.length))),a--,w&&i.appendMap(w,a)}else l.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(a)):m.selection,d=new Wr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,n,r,i){let a=[],l=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new ai(e.mapping.maps[p],m,n),b;(b=d&&d.merge(v))&&(v=b,p?a.pop():c=c.slice(0,c.length-1)),a.push(v),n&&(l++,n=void 0),i||(d=v)}let f=l-r.depth;return f>oH&&(c=aH(c,f),l-=f),new Wr(c.append(a),l)}remapping(e,n){let r=new Xc;return this.items.forEach((i,a)=>{let l=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new Wr(this.items.append(e.map(n=>new ai(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),a=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},i);let d=n;this.items.forEach(v=>{let b=a.getMirror(--d);if(b==null)return;l=Math.min(l,b);let w=a.maps[b];if(v.step){let x=e.steps[b].invert(e.docs[b]),S=v.selection&&v.selection.map(a.slice(d+1,b));S&&c++,r.push(new ai(w,x,S))}else r.push(new ai(w))},i);let f=[];for(let v=n;v<l;v++)f.push(new ai(a.maps[v]));let p=this.items.slice(0,i).append(f).append(r),m=new Wr(p,c);return m.emptyItemCount()>sH&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],a=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&a++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&a++;let m=new ai(f.invert(),d,p),v,b=i.length-1;(v=i.length&&i[b].merge(m))?i[b]=v:i.push(m)}}else l.map&&r--},this.items.length,0),new Wr(ln.from(i.reverse()),a)}}Wr.empty=new Wr(ln.empty,0);function aH(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ai{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ai(n.getMap().invert(),n,this.selection)}}}class Cs{constructor(e,n,r,i,a){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const oH=20;function lH(t,e,n,r){let i=n.getMeta(za),a;if(i)return i.historyState;n.getMeta(dH)&&(t=new Cs(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(za))return l.getMeta(za).redo?new Cs(t.done.addTransform(n,void 0,r,df(e)),t.undone,ME(n.mapping.maps),t.prevTime,t.prevComposition):new Cs(t.done,t.undone.addTransform(n,void 0,r,df(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!cH(n,t.prevRanges)),f=l?Lg(t.prevRanges,n.mapping):ME(n.mapping.maps);return new Cs(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,df(e)),Wr.empty,f,n.time,c??t.prevComposition)}else return(a=n.getMeta("rebased"))?new Cs(t.done.rebased(n,a),t.undone.rebased(n,a),Lg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Cs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Lg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function cH(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&i>=e[a]&&(n=!0)}),n}function ME(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,a,l)=>e.push(a,l));return e}function Lg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),a=e.map(t[r+1],-1);i<=a&&n.push(i,a)}return n}function uH(t,e,n){let r=df(e),i=za.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,r);if(!a)return null;let l=a.selection.resolve(a.transform.doc),c=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,r),d=new Cs(n?c:a.remaining,n?a.remaining:c,null,0,-1);return a.transform.setSelection(l).setMeta(za,{redo:n,historyState:d})}let zg=!1,NE=null;function df(t){let e=t.plugins;if(NE!=e){zg=!1,NE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){zg=!0;break}}return zg}const za=new nn("history"),dH=new nn("closeHistory");function fH(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ot({key:za,state:{init(){return new Cs(Wr.empty,Wr.empty,null,0,-1)},apply(e,n,r){return lH(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?sA:r=="historyRedo"?aA:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function iA(t,e){return(n,r)=>{let i=za.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let a=uH(i,n,t);a&&r(e?a.scrollIntoView():a)}return!0}}const sA=iA(!1,!0),aA=iA(!0,!0);qt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ot({key:new nn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const a=this.storage.characters({node:r.doc});if(a>i){const l=a-i,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=r||i>r&&a>r&&a<=i)return!0;if(i>r&&a>r&&a>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=a-r,f=c-d,p=c;return e.deleteRange(f,p),!(this.storage.characters({node:e.doc})>r)}})]}});var hH=qt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Y5(this.options)]}});qt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ot({key:new nn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,a=[];if(!n||!r)return At.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,f)=>{if(d.isText)return;if(!(i>=f&&i<=f+d.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((d,f)=>{if(d.isText||!(i>=f&&i<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";a.push(Dn.node(f,f+d.nodeSize,{class:this.options.className}))}),At.create(t,a)}}})]}});var pH=qt.create({name:"gapCursor",addProseMirrorPlugins(){return[Z5()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=dt(Oe(t,"allowGapCursor",n)))!=null?e:null}}}),DE="placeholder";function mH(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}qt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:DE,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${mH(this.options.dataAttribute)}`:`data-${DE}`;return[new Ot({key:new nn("placeholder"),props:{decorations:({doc:e,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=n,a=[];if(!r)return null;const l=this.editor.isEmpty;return e.descendants((c,d)=>{const f=i>=d&&i<=d+c.nodeSize,p=!c.isLeaf&&Ch(c);if((f||!this.options.showOnlyCurrent)&&p){const m=[this.options.emptyNodeClass];l&&m.push(this.options.emptyEditorClass);const v=Dn.node(d,d+c.nodeSize,{class:m.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:d,hasAnchor:f}):this.options.placeholder});a.push(v)}return this.options.includeChildren}),At.create(e,a)}}})]}});qt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ot({key:new nn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||hC(n.selection)||t.view.dragging?null:At.create(n.doc,[Dn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function jE({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var gH=qt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new nn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Ot({key:e,appendTransaction:(i,a,l)=>{const{doc:c,tr:d,schema:f}=l,p=e.getState(l),m=c.content.size,v=f.nodes[n];if(p)return d.insert(m,v.create())},state:{init:(i,a)=>{const l=a.tr.doc.lastChild;return!jE({node:l,types:r})},apply:(i,a)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return a;const l=i.doc.lastChild;return!jE({node:l,types:r})}}})]}}),yH=qt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>sA(t,e),redo:()=>({state:t,dispatch:e})=>aA(t,e)}},addProseMirrorPlugins(){return[fH(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),vH=qt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(q4.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(B4.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(GC.configure(this.options.bulletList)),this.options.code!==!1&&i.push(G4.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Y4.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(J4.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(hH.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(pH.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(X4.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Q4.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(yH.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Z4.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(i5.configure(this.options.italic)),this.options.listItem!==!1&&i.push(KC.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(ZC.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(O5.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(tA.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(q5.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(G5.configure(this.options.strike)),this.options.text!==!1&&i.push(K5.configure(this.options.text)),this.options.underline!==!1&&i.push(W5.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(gH.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),bH=vH;const wH=({fun:t})=>{const[e,n]=M.useState(!0),r=D4({extensions:[bH],content:"My article is...",onUpdate({editor:a}){const l=a.isEmpty;n(l)}});if(!r)return null;function i(){const a=r.getHTML();t(a)}return C.jsx("div",{children:C.jsxs("div",{className:" max-h-[90vh] pb-1 pl-1 relative ",children:[C.jsx(NC,{className:"outline-0 overflow-y-auto overflow-x-clip  *:outline-0 pb-6 pl-2 *:required:true",editor:r}),C.jsxs("div",{className:"flex flex-row justify-between mr-1 sticky bottom-0",children:[C.jsxs("div",{className:"bg-gray-300 w-fit  dark:bg-[#1F1B24] wrap-anywhere rounded-4xl px-2  *:mx-1 flex *:wrap-break-word",children:[C.jsx("button",{type:"button",onClick:()=>(event.preventDefault(),r.chain().focus().toggleBold().run()),disabled:!r.can().chain().focus().toggleBold().run(),className:"font-bold",children:"Bold"}),C.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:"italic",children:"Italic"}),C.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleHeading({level:1}).run(),children:"H1"}),C.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBulletList().run(),children:"Bullet-List"}),C.jsx("button",{type:"button",onClick:()=>r.chain().focus().undo().run(),children:""}),C.jsx("button",{type:"button",onClick:()=>r.chain().focus().redo().run(),children:""})]})," ",C.jsx("div",{children:C.jsx("button",{className:"bg-blue-600 w-fit  px-4 py-2 text-white rounded-4xl border-0 cursor-pointer disabled:bg-red-400",hidden:e,type:"button",onClick:i,children:"Done?"})})]})]})})};function SH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const xH=t=>{switch(t){case"success":return TH;case"info":return CH;case"warning":return _H;case"error":return AH;default:return null}},EH=Array(12).fill(0),kH=({visible:t,className:e})=>ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ae.createElement("div",{className:"sonner-spinner"},EH.map((n,r)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),TH=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_H=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CH=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AH=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OH=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RH=()=>{const[t,e]=ae.useState(document.hidden);return ae.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Ry=1;class MH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ry++,l=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],ae.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(DH(f)&&!f.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof m=="object"&&!ae.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:v,...w})}else if(f instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(f):n.error,v=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!ae.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:v,...w})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(f):n.success,v=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!ae.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:v,...w})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,b=typeof p=="object"&&!ae.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||Ry++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gn=new MH,NH=(t,e)=>{const n=e?.id||Ry++;return Gn.addToast({title:t,...e,id:n}),n},DH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jH=NH,LH=()=>Gn.toasts,zH=()=>Gn.getActiveToasts(),IH=Object.assign(jH,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:LH,getToasts:zH});SH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nf(t){return t.label!==void 0}const BH=3,PH="24px",UH="16px",LE=4e3,HH=356,$H=14,qH=45,VH=200;function ri(...t){return t.filter(Boolean).join(" ")}function FH(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const GH=t=>{var e,n,r,i,a,l,c,d,f;const{invert:p,toast:m,unstyled:v,interacting:b,setHeights:w,visibleToasts:x,heights:S,index:k,toasts:O,expanded:R,removeToast:U,defaultRichColors:A,closeButton:N,style:T,cancelButtonStyle:z,actionButtonStyle:G,className:le="",descriptionClassName:he="",duration:ye,position:Pe,gap:ue,expandByDefault:re,classNames:I,icons:Q,closeButtonAriaLabel:Y="Close toast"}=t,[_e,Ce]=ae.useState(null),[L,J]=ae.useState(null),[W,te]=ae.useState(!1),[ce,we]=ae.useState(!1),[Se,Le]=ae.useState(!1),[Qe,cn]=ae.useState(!1),[Rn,st]=ae.useState(!1),[zr,zn]=ae.useState(0),[Ks,In]=ae.useState(0),fi=ae.useRef(m.duration||ye||LE),Ws=ae.useRef(null),En=ae.useRef(null),Ys=k===0,Js=k+1<=x,un=m.type,Xr=m.dismissible!==!1,_t=m.className||"",hi=m.descriptionClassName||"",Qr=ae.useMemo(()=>S.findIndex(ze=>ze.toastId===m.id)||0,[S,m.id]),Yi=ae.useMemo(()=>{var ze;return(ze=m.closeButton)!=null?ze:N},[m.closeButton,N]),dn=ae.useMemo(()=>m.duration||ye||LE,[m.duration,ye]),Mn=ae.useRef(0),hr=ae.useRef(0),Ja=ae.useRef(0),pr=ae.useRef(null),[pi,wt]=Pe.split("-"),Bn=ae.useMemo(()=>S.reduce((ze,yt,It)=>It>=Qr?ze:ze+yt.height,0),[S,Qr]),Qt=RH(),Xa=m.invert||p,Xs=un==="loading";hr.current=ae.useMemo(()=>Qr*ue+Bn,[Qr,Bn]),ae.useEffect(()=>{fi.current=dn},[dn]),ae.useEffect(()=>{te(!0)},[]),ae.useEffect(()=>{const ze=En.current;if(ze){const yt=ze.getBoundingClientRect().height;return In(yt),w(It=>[{toastId:m.id,height:yt,position:m.position},...It]),()=>w(It=>It.filter(Bt=>Bt.toastId!==m.id))}},[w,m.id]),ae.useLayoutEffect(()=>{if(!W)return;const ze=En.current,yt=ze.style.height;ze.style.height="auto";const It=ze.getBoundingClientRect().height;ze.style.height=yt,In(It),w(Bt=>Bt.find(vt=>vt.toastId===m.id)?Bt.map(vt=>vt.toastId===m.id?{...vt,height:It}:vt):[{toastId:m.id,height:It,position:m.position},...Bt])},[W,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const Yn=ae.useCallback(()=>{we(!0),zn(hr.current),w(ze=>ze.filter(yt=>yt.toastId!==m.id)),setTimeout(()=>{U(m)},VH)},[m,U,w,hr]);ae.useEffect(()=>{if(m.promise&&un==="loading"||m.duration===1/0||m.type==="loading")return;let ze;return R||b||Qt?(()=>{if(Ja.current<Mn.current){const Bt=new Date().getTime()-Mn.current;fi.current=fi.current-Bt}Ja.current=new Date().getTime()})():fi.current!==1/0&&(Mn.current=new Date().getTime(),ze=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Yn()},fi.current)),()=>clearTimeout(ze)},[R,b,m,un,Qt,Yn]),ae.useEffect(()=>{m.delete&&(Yn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Yn,m.delete]);function Ir(){var ze;if(Q?.loading){var yt;return ae.createElement("div",{className:ri(I?.loader,m==null||(yt=m.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":un==="loading"},Q.loading)}return ae.createElement(kH,{className:ri(I?.loader,m==null||(ze=m.classNames)==null?void 0:ze.loader),visible:un==="loading"})}const mi=m.icon||Q?.[un]||xH(un);var Br,mr;return ae.createElement("li",{tabIndex:0,ref:En,className:ri(le,_t,I?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,I?.default,I?.[un],m==null||(n=m.classNames)==null?void 0:n[un]),"data-sonner-toast":"","data-rich-colors":(Br=m.richColors)!=null?Br:A,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":Rn,"data-removed":ce,"data-visible":Js,"data-y-position":pi,"data-x-position":wt,"data-index":k,"data-front":Ys,"data-swiping":Se,"data-dismissible":Xr,"data-type":un,"data-invert":Xa,"data-swipe-out":Qe,"data-swipe-direction":L,"data-expanded":!!(R||re&&W),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":O.length-k,"--offset":`${ce?zr:hr.current}px`,"--initial-height":re?"auto":`${Ks}px`,...T,...m.style},onDragEnd:()=>{Le(!1),Ce(null),pr.current=null},onPointerDown:ze=>{ze.button!==2&&(Xs||!Xr||(Ws.current=new Date,zn(hr.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(Le(!0),pr.current={x:ze.clientX,y:ze.clientY})))},onPointerUp:()=>{var ze,yt,It;if(Qe||!Xr)return;pr.current=null;const Bt=Number(((ze=En.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Jn=Number(((yt=En.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((It=Ws.current)==null?void 0:It.getTime()),kn=_e==="x"?Bt:Jn,gi=Math.abs(kn)/vt;if(Math.abs(kn)>=qH||gi>.11){zn(hr.current),m.onDismiss==null||m.onDismiss.call(m,m),J(_e==="x"?Bt>0?"right":"left":Jn>0?"down":"up"),Yn(),cn(!0);return}else{var D,P;(D=En.current)==null||D.style.setProperty("--swipe-amount-x","0px"),(P=En.current)==null||P.style.setProperty("--swipe-amount-y","0px")}st(!1),Le(!1),Ce(null)},onPointerMove:ze=>{var yt,It,Bt;if(!pr.current||!Xr||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;const vt=ze.clientY-pr.current.y,kn=ze.clientX-pr.current.x;var gi;const D=(gi=t.swipeDirections)!=null?gi:FH(Pe);!_e&&(Math.abs(kn)>1||Math.abs(vt)>1)&&Ce(Math.abs(kn)>Math.abs(vt)?"x":"y");let P={x:0,y:0};const F=ne=>1/(1.5+Math.abs(ne)/20);if(_e==="y"){if(D.includes("top")||D.includes("bottom"))if(D.includes("top")&&vt<0||D.includes("bottom")&&vt>0)P.y=vt;else{const ne=vt*F(vt);P.y=Math.abs(ne)<Math.abs(vt)?ne:vt}}else if(_e==="x"&&(D.includes("left")||D.includes("right")))if(D.includes("left")&&kn<0||D.includes("right")&&kn>0)P.x=kn;else{const ne=kn*F(kn);P.x=Math.abs(ne)<Math.abs(kn)?ne:kn}(Math.abs(P.x)>0||Math.abs(P.y)>0)&&st(!0),(It=En.current)==null||It.style.setProperty("--swipe-amount-x",`${P.x}px`),(Bt=En.current)==null||Bt.style.setProperty("--swipe-amount-y",`${P.y}px`)}},Yi&&!m.jsx&&un!=="loading"?ae.createElement("button",{"aria-label":Y,"data-disabled":Xs,"data-close-button":!0,onClick:Xs||!Xr?()=>{}:()=>{Yn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ri(I?.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(mr=Q?.close)!=null?mr:OH):null,(un||m.icon||m.promise)&&m.icon!==null&&(Q?.[un]!==null||m.icon)?ae.createElement("div",{"data-icon":"",className:ri(I?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ir():null,m.type!=="loading"?mi:null):null,ae.createElement("div",{"data-content":"",className:ri(I?.content,m==null||(a=m.classNames)==null?void 0:a.content)},ae.createElement("div",{"data-title":"",className:ri(I?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?ae.createElement("div",{"data-description":"",className:ri(he,hi,I?.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),ae.isValidElement(m.cancel)?m.cancel:m.cancel&&nf(m.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||z,onClick:ze=>{nf(m.cancel)&&Xr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,ze),Yn())},className:ri(I?.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,ae.isValidElement(m.action)?m.action:m.action&&nf(m.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||G,onClick:ze=>{nf(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,ze),!ze.defaultPrevented&&Yn())},className:ri(I?.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function zE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function KH(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",c=a?UH:PH;function d(f){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const WH=ae.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:m,theme:v="light",richColors:b,duration:w,style:x,visibleToasts:S=BH,toastOptions:k,dir:O=zE(),gap:R=$H,icons:U,containerAriaLabel:A="Notifications"}=e,[N,T]=ae.useState([]),z=ae.useMemo(()=>r?N.filter(W=>W.toasterId===r):N.filter(W=>!W.toasterId),[N,r]),G=ae.useMemo(()=>Array.from(new Set([a].concat(z.filter(W=>W.position).map(W=>W.position)))),[z,a]),[le,he]=ae.useState([]),[ye,Pe]=ae.useState(!1),[ue,re]=ae.useState(!1),[I,Q]=ae.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=ae.useRef(null),_e=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ce=ae.useRef(null),L=ae.useRef(!1),J=ae.useCallback(W=>{T(te=>{var ce;return(ce=te.find(we=>we.id===W.id))!=null&&ce.delete||Gn.dismiss(W.id),te.filter(({id:we})=>we!==W.id)})},[]);return ae.useEffect(()=>Gn.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{T(te=>te.map(ce=>ce.id===W.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{Sk.flushSync(()=>{T(te=>{const ce=te.findIndex(we=>we.id===W.id);return ce!==-1?[...te.slice(0,ce),{...te[ce],...W},...te.slice(ce+1)]:[W,...te]})})})}),[N]),ae.useEffect(()=>{if(v!=="system"){Q(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:te})=>{Q(te?"dark":"light")})}catch{W.addListener(({matches:ce})=>{try{Q(ce?"dark":"light")}catch(we){console.error(we)}})}},[v]),ae.useEffect(()=>{N.length<=1&&Pe(!1)},[N]),ae.useEffect(()=>{const W=te=>{var ce;if(l.every(Le=>te[Le]||te.code===Le)){var Se;Pe(!0),(Se=Y.current)==null||Se.focus()}te.code==="Escape"&&(document.activeElement===Y.current||(ce=Y.current)!=null&&ce.contains(document.activeElement))&&Pe(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[l]),ae.useEffect(()=>{if(Y.current)return()=>{Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null,L.current=!1)}},[Y.current]),ae.createElement("section",{ref:n,"aria-label":`${A} ${_e}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},G.map((W,te)=>{var ce;const[we,Se]=W.split("-");return z.length?ae.createElement("ol",{key:W,dir:O==="auto"?zE():O,tabIndex:-1,ref:Y,className:f,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":we,"data-x-position":Se,style:{"--front-toast-height":`${((ce=le[0])==null?void 0:ce.height)||0}px`,"--width":`${HH}px`,"--gap":`${R}px`,...x,...KH(p,m)},onBlur:Le=>{L.current&&!Le.currentTarget.contains(Le.relatedTarget)&&(L.current=!1,Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null))},onFocus:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||L.current||(L.current=!0,Ce.current=Le.relatedTarget)},onMouseEnter:()=>Pe(!0),onMouseMove:()=>Pe(!0),onMouseLeave:()=>{ue||Pe(!1)},onDragEnd:()=>Pe(!1),onPointerDown:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},z.filter(Le=>!Le.position&&te===0||Le.position===W).map((Le,Qe)=>{var cn,Rn;return ae.createElement(GH,{key:Le.id,icons:U,index:Qe,toast:Le,defaultRichColors:b,duration:(cn=k?.duration)!=null?cn:w,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:S,closeButton:(Rn=k?.closeButton)!=null?Rn:d,interacting:ue,position:W,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:J,toasts:z.filter(st=>st.position==Le.position),heights:le.filter(st=>st.position==Le.position),setHeights:he,expandByDefault:c,gap:R,expanded:ye,swipeDirections:e.swipeDirections})})):null}))});function oA(){const[t]=M.useContext(pu),e=t?.user_id,[n,r]=M.useState(""),[i,a]=M.useState();function l(f){r(f)}async function c(){if(event.preventDefault(),!i||!n)return;const f=await ur.from("ArticleTable").insert({author_id:e,title:i,body:n}).select();let p=f?.error,m=f?.data;if(p)throw new Error(p);m&&(console.log(m),IH("Successfuly, Added."),document.getElementById("writerForm").reset())}let d=Fa();return C.jsx("div",{className:`w-[86vw] \r
		sticky\r
		top-80\r
		mx-auto\r
	\r
		sm:w-[60vw]\r
		\r
		`,children:C.jsxs("form",{onSubmit:c,id:"writerForm",children:[C.jsx("div",{className:"flex  justify-between ",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx(iD,{size:24,className:"hover:bg-gray-200 rounded-full p-1 hidden hover:cursor-pointer",onClick:()=>{d("/home")}}),C.jsx("div",{className:"hidden",children:C.jsx("p",{className:"text-xl px-2",children:"Write article"})})]})}),C.jsxs("div",{className:"overflow-y-auto my-1 box-border border border-gray-300 rounded-xl 	dark:border-[#1F1B24] shadow",children:[C.jsx("div",{className:"border-b 	dark:border-[#1F1B24] border-b-gray-100",children:C.jsx("input",{value:i,onChange:f=>a(f.target.value),type:"text",placeholder:"What is title ?",className:" p-2 pl-4  w-full text-lg outline-0 text-bold ",required:!0})}),C.jsx(wH,{fun:l})]}),C.jsx("div",{children:n&&i?.length>4&&C.jsx("div",{className:"bg-blue-600 w-fit  px-4 py-2 text-white rounded-4xl border-0 absolute bottom-1 right-1 cursor-pointer",onClick:c,children:C.jsx("button",{type:"submit",className:"cursor-pointer",children:"Publish"})})})]})})}function YH(){const t=M.useContext(Wy);return C.jsxs("div",{className:"w-full box-border h-fit  min-h-screen dark:bg-[#1F1B24]",children:[C.jsx(VL,{}),C.jsx("div",{className:`\r
			mt-15 overflow-auto`,id:"writer",children:C.jsx(oA,{})}),C.jsx("div",{className:"box-border",children:C.jsx(iz,{})}),C.jsx("div",{className:" flex justify-end pr-4  items-center pb-4",children:C.jsxs("div",{className:"border flex items-center rounded-xl shadow-2xl p-2",children:[C.jsx("div",{className:"inline",onClick:()=>{t(e=>!e)},children:C.jsx(Az,{})})," ",C.jsx("span",{className:"pb-1 px-1",children:"Dark Mode"})]})})]})}const JH="media_pennat",IE="dmfy51165";function lA({cover:t,setCover:e,SetPopup:n,user_id:r}){const[i,a]=M.useState(),[l,c]=M.useState();async function d(){if(event.preventDefault(),l){const p=new FormData;p.append("file",l),p.append("upload_preset",JH),p.append("cloud_name",IE);try{let m=await fetch(`https://api.cloudinary.com/v1_1/${IE}/image/upload`,{method:"POST",body:p});console.log(m);let v=await m.json();if(m.ok&&r){let b=await ur.from("UserTable").update({cover_img:v.secure_url}).eq("user_id",r);if(b.error){console.log(b.error);return}else console.log(b?.data),e(i),a(null)}}catch(m){console.log(m)}}}function f(){let p=event.target.files[0];if(p){let m=URL.createObjectURL(p);a(m),console.log(p),c(p)}}return C.jsx("div",{className:"fixed inset-0  w-full h-fit bg-opacity-50 flex items-center justify-center box-border z-50 p-2 sm:p-4",children:C.jsxs("div",{className:"relative bg-gray-100 border border-gray-300 rounded-xl p-4 sm:p-8 md:p-12",children:[C.jsx(Hc,{onClick:()=>{n(p=>!p)},size:20,className:"bg-white rounded-full cursor-pointer absolute -top-2 -right-2 p-1 hover:bg-gray-200 transition"}),C.jsx("div",{className:"w-full font-bold text-lg sm:text-xl md:text-2xl mb-3 sm:mb-4",children:"Edit cover photo"}),C.jsx("div",{children:C.jsx("img",{src:t,alt:"current cover",className:"rounded-xl my-2 max-h-32 sm:max-h-40 w-full object-cover"})}),C.jsxs("form",{onReset:()=>{a(null)},children:[C.jsxs("label",{htmlFor:"img-input",className:"w-full bg-gray-300 flex flex-row items-center gap-2 rounded-xl p-2 border hover:bg-gray-400 cursor-pointer text-sm sm:text-base",children:[C.jsx(Tk,{className:"inline shrink-0",size:20}),C.jsx("span",{className:"truncate",children:"Choose Image"}),C.jsx("input",{type:"file",accept:"image/*",id:"img-input",onChange:f,className:"hidden"})]}),i&&C.jsxs("div",{className:"w-full mt-3 sm:mt-4",children:[C.jsxs("div",{className:"relative",children:[C.jsxs("label",{htmlFor:"reset",className:"absolute top-2 right-2 z-10",children:[C.jsx("input",{type:"reset",id:"reset",className:"hidden"}),C.jsx(Hc,{size:18,className:"bg-white rounded-full cursor-pointer p-0.5 hover:bg-gray-200 transition"})]}),C.jsx("img",{src:i,alt:"preview",className:"rounded-xl w-full max-h-48 sm:max-h-60 object-cover"})]}),C.jsx("div",{className:"mt-3 sm:mt-4",children:C.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-black cursor-pointer text-white px-4 sm:px-6 py-2 rounded-xl hover:bg-gray-800 transition text-sm sm:text-base",onClick:d,children:"Submit"})})]})]})]})})}const lh="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThB0PTPX27wNANQCMsOdMUf_dhNc38kfOxmw&s",XH="media_pennat",BE="dmfy51165";function cA({setImgEditor:t,user_id:e,profileImg:n,setProfileImg:r}){const[i,a]=M.useState(),[l,c]=M.useState();console.log(e);async function d(){if(event.preventDefault(),l){const p=new FormData;p.append("file",l),p.append("upload_preset",XH),p.append("cloud_name",BE);try{let m=await fetch(`https://api.cloudinary.com/v1_1/${BE}/image/upload`,{method:"POST",body:p}),v=await m.json();if(m.ok&&e){console.log("url",v.secure_url),console.log("Calling supabase.");let b=await ur.from("UserTable").update({profile_img:v?.secure_url}).eq("user_id",e).select();if(console.log(b),b.error){console.log("We got error"),console.log(b.error);return}else console.log("We got data."),console.log(b.data),r(i),a(null)}}catch(m){console.log(m)}}}function f(){let p=event.target.files[0];if(p){let m=URL.createObjectURL(p);a(m),console.log(p),c(p)}}return C.jsx("div",{className:"fixed inset-0  w-full h-fit bg-opacity-50 flex items-center justify-center box-border z-50 p-2 sm:p-4",children:C.jsxs("div",{className:"relative bg-gray-100 border border-gray-300 rounded-xl p-4 sm:p-8 md:p-12",children:[C.jsx(Hc,{onClick:()=>{t(p=>!p)},size:20,className:"bg-white rounded-full cursor-pointer absolute -top-2 -right-2 p-1 hover:bg-gray-200 transition"}),C.jsx("div",{className:"w-full font-bold text-lg sm:text-xl md:text-2xl mb-3 sm:mb-4",children:"Edit profile photo"}),C.jsx("div",{children:C.jsx("img",{src:n,alt:"current profile",className:"rounded-xl my-2 max-h-32 sm:max-h-40 w-full object-cover"})}),C.jsxs("form",{onReset:()=>{a(null)},children:[C.jsxs("label",{htmlFor:"img-input",className:"w-full bg-gray-300 flex flex-row items-center gap-2 rounded-xl p-2 border hover:bg-gray-400 cursor-pointer text-sm sm:text-base",children:[C.jsx(Tk,{className:"inline shrink-0",size:20}),C.jsx("span",{className:"truncate",children:"Choose Image"}),C.jsx("input",{type:"file",accept:"image/*",id:"img-input",onChange:f,className:"hidden"})]}),i&&C.jsxs("div",{className:"w-full mt-3 sm:mt-4",children:[C.jsxs("div",{className:"relative",children:[C.jsxs("label",{htmlFor:"reset",className:"absolute top-2 right-2 z-10",children:[C.jsx("input",{type:"reset",id:"reset",className:"hidden"}),C.jsx(Hc,{size:18,className:"bg-white rounded-full cursor-pointer p-0.5 hover:bg-gray-200 transition"})]}),C.jsx("img",{src:i,alt:"preview",className:"rounded-xl w-full max-h-48 sm:max-h-60 object-cover"})]}),C.jsx("div",{className:"mt-3 sm:mt-4",children:C.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-black cursor-pointer text-white px-4 sm:px-6 py-2 rounded-xl hover:bg-gray-800 transition text-sm sm:text-base",onClick:d,children:"Submit"})})]})]})]})})}function QH({text:t}){return C.jsx("div",{className:" ",children:C.jsxs("div",{className:"flex items-center  h-full w-full bg-gray-200 border px-2 py-2 rounded-full  justify-self-center",children:[C.jsx(u2,{})," ",C.jsxs("span",{className:"ml-1",children:[t,!t&&"Please wait."]})]})})}function ZH({article:t,setArticle:e}){const[n,r]=M.useState();if(!t)return;async function i(){console.log(t),r(!0),(await ur.from("ArticleTable").delete().eq("id",t.id)).error||(e(l=>l.filter(c=>c.id!=t.id)),r(!1))}return C.jsxs("div",{className:`border box-border px-4   rounded-md m-1   -bg-conic-120  min-h-30 \r
		\r
		\r
		dark:text-gray-400\r
		min-w-40 flex items-center border-gray-300 dark:bg-[#202225]	dark:border-[#1F1B24]  max-w-[80%] sm:max-w-1/3`,children:[n&&C.jsx(QH,{text:"Deleting.."}),!n&&C.jsxs("div",{children:[C.jsx("div",{className:"flex justify-end",children:C.jsxs("select",{name:"",id:"",className:"w-fit *:w-fit px-2 py-1  ",children:[C.jsx("option",{value:"",className:"hidden"}),C.jsx("option",{value:"",className:"bg-red-500 dark:bg-[#1F1B24]",onClick:i,children:"Delete"}),C.jsx("option",{value:"",className:"dark:bg-[#1F1B24]",children:"Edit"})]})}),C.jsxs("div",{className:"",children:[C.jsx("p",{className:"font-bold pt-2  px-2",children:t.title}),C.jsx("p",{className:"text-sm px-2 text-wrap  max-h-60 overflow-y-clip",children:fT(t.body)})]})]})]})}function uA({ArticleTable:t}){console.log(t);const[e,n]=M.useState(t);return C.jsxs("div",{children:[C.jsx("p",{className:"text-xs  font-semibold uppercase tracking-wider text-gray-400 border-t pt-2 border-t-gray-200 mx-10 dark:border-[#2f3136]",children:"My articles"}),C.jsx("div",{className:"flex flex-wrap flex-col  sm:flex-row justify-center sm:items-start items-center",children:e?.map(r=>C.jsx(ZH,{article:r,setArticle:n},crypto.randomUUID()))})]})}function e6(){const[t]=M.useContext(pu),[e,n]=M.useState(!1),[r,i]=M.useState(!1),[a,l]=M.useState(!1),[c,d]=M.useState(!1),[f,p]=M.useState(lh),[m,v]=M.useState(Wc),[b,w]=M.useState("");M.useEffect(()=>{function k(){t!=null?(p(t.cover_img||lh),v(t.profile_img||Wc),w(t.about||""),i(!0),l(!1)):i(!1)}k()},[t]);const x=t?.name||"",S=t?.username||"";return t?.email,!r&&!a?C.jsx("div",{className:"min-h-screen flex items-center justify-center",children:C.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[C.jsx(du,{size:24,className:"animate-spin"}),C.jsx("span",{children:"Loading profile..."})]})}):a?C.jsx("div",{className:"min-h-screen flex items-center justify-center",children:C.jsx("div",{className:"bg-orange-200 w-fit p-4 rounded-xl border border-red-400 text-red-700",children:"Something went wrong loading the profile."})}):C.jsxs("div",{className:"min-h-screen dark:text-gray-500   from-gray-50 to-gray-200 box-border max-w-[99%] ",children:[C.jsx("button",{onClick:()=>history.back(),className:`fixed top-5 left-5 z-10 cursor-pointer rounded-full dark:bg-[#1F1B24] bg-white backdrop-blur \r
               p-2 shadow hover:scale-105 transition`,children:C.jsx(Ek,{})}),C.jsx("button",{className:"fixed right-2 top-6 dark:bg-[#1F1B24] bg-gray-200 z-20 rounded-4xl py-3 mr-4 px-2 ",children:C.jsx(hf,{height:"16px",onClick:()=>{d(k=>!k)},className:"hover:-rotate-8 cursor-pointer "})}),f&&C.jsxs("div",{className:"w-full overflow-x-hidden bg-gray-100 max-h-50 dark:bg-[#1F1B24] rounded-b-sm p-2 h-50 flex justify-center bg-cover overflow-clip",children:[" ",C.jsx("img",{src:f,className:" max-w-full w-fit  rounded-b-sm scale-200 sm:scale-300 md:scale-600 lg:scale-700 overflow-hidden "})]}),C.jsx("div",{className:"-mt-24 max-w-xl mx-auto px-4 ",children:C.jsxs("div",{className:"bg-transparent rounded p-6",children:[C.jsxs("div",{className:"flex relative [&>button]:hidden [&:hover>button]:block flex-col items-center",children:[m&&C.jsxs(C.Fragment,{children:[C.jsx("button",{className:"absolute ml-18 bg-white dark:bg-[#1F1B24] rounded-4xl py-1 px-1 ",children:C.jsx(hf,{height:"16px",onClick:()=>{n(k=>!k)},className:"hover:-rotate-8 cursor-pointer"})}),C.jsx("img",{src:m,alt:"user",className:"w-32 h-32 rounded-full ring-4 dark:bg-[#1F1B24]  shadow-md object-cover"})]}),x&&C.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900 dark:text-gray-200",children:x}),S&&C.jsxs("p",{className:"text-sm text-gray-500",children:["@",S]})]}),C.jsx("div",{className:"space-y-0",children:b&&C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400",children:"About me"}),C.jsx("p",{className:"text-gray-700 mt-1 leading-relaxed    rounded",children:b})]})})]})}),c&&t&&C.jsx(lA,{setCover:p,SetPopup:d,cover:f,user_id:t.user_id}),e&&C.jsx(cA,{profileImg:m,setProfileImg:v,setImgEditor:n,user_id:t?.user_id}),t?.ArticleTable&&C.jsx(uA,{ArticleTable:t?.ArticleTable})]})}function PE(){const[t,e]=M.useState(!0),n=Fa(),[,r]=M.useContext(hu);return M.useEffect(()=>{async function i(){try{console.log("Load User called.");let{data:a,error:l}=await ur.auth.getSession();if(l||!a?.session)return e(!1),n("/login"),null;const c=await ur.from("ArticleTable").select("id,title,author_id,body,UserTable(name,username,profile_img,user_id)");if(c.error)return console.error("Database error:",c.error),alert("Error loading articles"),n("/login",{replace:!0}),e(!1),null;if(c.data)return r(c.data),n("/home",{replace:!0}),null}catch(a){return e(!1),n("/login"),console.log(a),null}return null}i()},[]),C.jsxs("div",{className:"max-w-screen min-h-screen  box-border overflow-x-hidden",children:[t&&C.jsx("div",{className:"bg-gray-10 relative h-screen w-screen flex  justify-center items-center ",children:C.jsxs("div",{className:"top-1/3 text-shadow-gray-800   right-[50%] left-[50%] text-3xl font-bold font-[verdana] ",children:["Pennat",C.jsxs("div",{className:"flex flex-row-reverse items-center",children:[" ",C.jsx("p",{className:"text-sm  font-normal text-shadow-none p-2 ",children:"loading.."}),C.jsx(du,{size:24,className:" animate-spin  py-2 rounded-2xl w-fit h-fit text-xs ",children:"/"})]})]})}),!t&&C.jsx("div",{className:"bg-orange-200 w-fit m-auto p-4 rounded-xl border border-red-400 text-red-700",children:"something went wrong."})]})}function t6(){const{username:t}=GM();let[e,n]=M.useState();M.useEffect(()=>{async function R(){const U=await ur.from("UserTable").select("*,ArticleTable(*)").eq("username",t).single();U.error||U.data&&n(U.data)}R()},[n,t]);const[r,i]=M.useState(!1),[a,l]=M.useState(!1),[c,d]=M.useState(!1),[f,p]=M.useState(!1),[m,v]=M.useState(lh),[b,w]=M.useState(Wc),[x,S]=M.useState("");M.useEffect(()=>{function R(){e!=null?(v(e.cover_img||lh),w(e.profile_img||Wc),S(e.about||""),l(!0),d(!1)):l(!1)}R()},[e]);const k=e?.name||"",O=e?.username||"";return!a&&!c?C.jsx("div",{className:`min-h-screen \r
			dark:bg-[#1F1B24]\r
			dark:*:text-gray-100\r
			\r
			flex items-center justify-center`,children:C.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[C.jsx(du,{size:24,className:"animate-spin"}),C.jsx("span",{children:"Loading profile..."})]})}):c?C.jsx("div",{className:"min-h-screen flex items-center justify-center",children:C.jsx("div",{className:"bg-orange-200 w-fit p-4 rounded-xl border border-red-400 text-red-700",children:"Something went wrong loading the profile."})}):C.jsxs("div",{className:"min-h-screen from-gray-50 to-gray-200 box-border max-w-[99%] ",children:[C.jsx("button",{onClick:()=>history.back(),className:`fixed top-5 left-5 z-10 cursor-pointer rounded-full bg-white dark:bg-[#1F1B24] backdrop-blur \r
               p-2 shadow hover:scale-105 transition`,children:C.jsx(Ek,{})}),C.jsx("button",{className:"fixed right-2 top-4 dark:bg-[#1F1B24] bg-gray-200 z-20 rounded-4xl py-3 px-2 ",children:C.jsx(hf,{height:"16px",onClick:()=>{p(R=>!R)},className:"hover:-rotate-8 cursor-pointer "})}),m&&C.jsxs("div",{className:"w-full overflow-x-hidden bg-gray-100 max-h-50 rounded-b-sm p-2 h-50 flex justify-center bg-cover overflow-clip",children:[" ",C.jsx("img",{src:m,className:" max-w-full w-fit  rounded-b-sm scale-200 sm:scale-300 md:scale-600 lg:scale-700 overflow-hidden "})]}),C.jsx("div",{className:"-mt-24 max-w-xl mx-auto px-4",children:C.jsxs("div",{className:"bg-transparent rounded p-6",children:[C.jsxs("div",{className:"flex relative [&>button]:hidden [&:hover>button]:block flex-col items-center",children:[b&&C.jsxs(C.Fragment,{children:[C.jsx("button",{className:"absolute ml-18 bg-white rounded-4xl py-1 px-1 dark:bg-[#1F1B24]",children:C.jsx(hf,{height:"16px",onClick:()=>{i(R=>!R)},className:"hover:-rotate-8 cursor-pointer"})}),C.jsx("img",{src:b,alt:"user",className:"w-32 h-32 rounded-full ring-4 ring-white shadow-md object-cover"})]}),k&&C.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900 dark:text-gray-100",children:k}),O&&C.jsxs("p",{className:"text-sm  text-gray-500",children:["@",O]})]}),C.jsx("div",{className:"space-y-0",children:x&&C.jsxs("div",{children:[C.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400",children:"About me"}),C.jsx("p",{className:"text-gray-700 mt-1 leading-relaxed    rounded",children:x})]})})]})}),f&&e&&C.jsx(lA,{setCover:v,SetPopup:p,cover:m,user_id:e.user_id}),r&&C.jsx(cA,{profileImg:b,setProfileImg:w,setImgEditor:i,user_id:e?.user_id}),e?.ArticleTable&&C.jsx(uA,{ArticleTable:e?.ArticleTable})]})}function n6(){const[t,e]=M.useState(null),[n,r]=M.useState(localStorage.getItem("showPWA"));M.useEffect(()=>{const a=l=>{l.preventDefault(),e(l),r(!0)};return window.addEventListener("beforeinstallprompt",a),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]);const i=async()=>{if(!t)return;t.prompt();const{outcome:a}=await t.userChoice;console.log(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),r(!1)};return n?C.jsxs("div",{className:"mt-60 fixed bottom-4 right-2 px-5 py-4 bg-black rounded-full border-0 shadow-2xl z-20 text-white hover:bg-gray-900 hover:cursor-pointer",onClick:i,children:[C.jsx("span",{className:"absolute -top-2 right-1 bg-white rounded-full",children:C.jsx(Hc,{size:16,onClick:a=>{a.stopPropagation(),r(!1),localStorage.setItem("showPWA",!0)}})}),C.jsxs("div",{className:"flex  items-center",children:[C.jsx(nD,{size:18}),C.jsx("span",{className:"pl-2",children:" Install App"})]})]}):null}function r6(){console.log("SUPABASE URL:","https://qnxquvnewtbzdgywthlw.supabase.co");const t=BN([{path:"/",element:C.jsx(C.Fragment,{children:C.jsx(PE,{})})},{path:"/write",element:C.jsx(C.Fragment,{children:C.jsx(oA,{})}),errorElement:C.jsx("h2",{children:"Error Occurred."})},{path:"/:username",element:C.jsx(t6,{})},{path:"/auth",element:C.jsx(C.Fragment,{children:C.jsx(PE,{})})},{path:"/home",element:C.jsx(C.Fragment,{children:C.jsx(YH,{})})},{path:"/login",element:C.jsx(C.Fragment,{children:C.jsx($L,{})})},{path:"/signup",element:C.jsx(C.Fragment,{children:C.jsx(qL,{})})},{path:"/profile",element:C.jsx(C.Fragment,{children:C.jsx(e6,{})})}]),[e,n]=M.useState([]),[r,i]=M.useState();M.useEffect(()=>{async function c(){console.log("Calling profile page");let d=await ur.auth.getUser();if(d.data&&d.data.user){let{id:f}=d.data.user,{data:p,error:m}=await ur.from("UserTable").select("*,ArticleTable(*)").eq("user_id",f).single();!m&&p&&(i(p),console.log(p)),m&&console.log(m)}}return c(),()=>{}},[]),M.useEffect(()=>(console.log(e),()=>{}),[e]);const[a,l]=M.useState(!1);return C.jsxs("div",{className:`${a?"dark":""}
		*:dark:bg-[#121212]
		*:dark:text-[#E0E0E0]`,children:[C.jsx(WH,{position:"top-center"}),C.jsx(n6,{}),C.jsx(hu.Provider,{value:[e,n],children:C.jsx(pu.Provider,{value:[r],children:C.jsx(Wy.Provider,{value:l,children:C.jsx(YN,{router:t})})})})]})}_R.createRoot(document.getElementById("root")).render(C.jsx(M.StrictMode,{children:C.jsx(r6,{})}));
